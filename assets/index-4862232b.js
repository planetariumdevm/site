function GD(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var yi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function JP(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Xn(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Q0={},jD={get exports(){return Q0},set exports(n){Q0=n}},Oy={},_e={},qD={get exports(){return _e},set exports(n){_e=n}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em=Symbol.for("react.element"),XD=Symbol.for("react.portal"),KD=Symbol.for("react.fragment"),$D=Symbol.for("react.strict_mode"),YD=Symbol.for("react.profiler"),JD=Symbol.for("react.provider"),QD=Symbol.for("react.context"),ZD=Symbol.for("react.forward_ref"),eO=Symbol.for("react.suspense"),tO=Symbol.for("react.memo"),nO=Symbol.for("react.lazy"),e6=Symbol.iterator;function rO(n){return n===null||typeof n!="object"?null:(n=e6&&n[e6]||n["@@iterator"],typeof n=="function"?n:null)}var QP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZP=Object.assign,e8={};function Zh(n,e,t){this.props=n,this.context=e,this.refs=e8,this.updater=t||QP}Zh.prototype.isReactComponent={};Zh.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Zh.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function t8(){}t8.prototype=Zh.prototype;function LS(n,e,t){this.props=n,this.context=e,this.refs=e8,this.updater=t||QP}var NS=LS.prototype=new t8;NS.constructor=LS;ZP(NS,Zh.prototype);NS.isPureReactComponent=!0;var t6=Array.isArray,n8=Object.prototype.hasOwnProperty,DS={current:null},r8={key:!0,ref:!0,__self:!0,__source:!0};function i8(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)n8.call(e,r)&&!r8.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:em,type:n,key:s,ref:o,props:i,_owner:DS.current}}function iO(n,e){return{$$typeof:em,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function OS(n){return typeof n=="object"&&n!==null&&n.$$typeof===em}function sO(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var n6=/\/+/g;function G_(n,e){return typeof n=="object"&&n!==null&&n.key!=null?sO(""+n.key):e.toString(36)}function Xx(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case em:case XD:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+G_(o,0):r,t6(i)?(t="",n!=null&&(t=n.replace(n6,"$&/")+"/"),Xx(i,e,t,"",function(c){return c})):i!=null&&(OS(i)&&(i=iO(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(n6,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",t6(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+G_(s,a);o+=Xx(s,e,t,l,i)}else if(l=rO(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+G_(s,a++),o+=Xx(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Eg(n,e,t){if(n==null)return n;var r=[],i=0;return Xx(n,r,"","",function(s){return e.call(t,s,i++)}),r}function oO(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Mi={current:null},Kx={transition:null},aO={ReactCurrentDispatcher:Mi,ReactCurrentBatchConfig:Kx,ReactCurrentOwner:DS};zt.Children={map:Eg,forEach:function(n,e,t){Eg(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Eg(n,function(){e++}),e},toArray:function(n){return Eg(n,function(e){return e})||[]},only:function(n){if(!OS(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};zt.Component=Zh;zt.Fragment=KD;zt.Profiler=YD;zt.PureComponent=LS;zt.StrictMode=$D;zt.Suspense=eO;zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aO;zt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=ZP({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=DS.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)n8.call(e,l)&&!r8.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:em,type:n.type,key:i,ref:s,props:r,_owner:o}};zt.createContext=function(n){return n={$$typeof:QD,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:JD,_context:n},n.Consumer=n};zt.createElement=i8;zt.createFactory=function(n){var e=i8.bind(null,n);return e.type=n,e};zt.createRef=function(){return{current:null}};zt.forwardRef=function(n){return{$$typeof:ZD,render:n}};zt.isValidElement=OS;zt.lazy=function(n){return{$$typeof:nO,_payload:{_status:-1,_result:n},_init:oO}};zt.memo=function(n,e){return{$$typeof:tO,type:n,compare:e===void 0?null:e}};zt.startTransition=function(n){var e=Kx.transition;Kx.transition={};try{n()}finally{Kx.transition=e}};zt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};zt.useCallback=function(n,e){return Mi.current.useCallback(n,e)};zt.useContext=function(n){return Mi.current.useContext(n)};zt.useDebugValue=function(){};zt.useDeferredValue=function(n){return Mi.current.useDeferredValue(n)};zt.useEffect=function(n,e){return Mi.current.useEffect(n,e)};zt.useId=function(){return Mi.current.useId()};zt.useImperativeHandle=function(n,e,t){return Mi.current.useImperativeHandle(n,e,t)};zt.useInsertionEffect=function(n,e){return Mi.current.useInsertionEffect(n,e)};zt.useLayoutEffect=function(n,e){return Mi.current.useLayoutEffect(n,e)};zt.useMemo=function(n,e){return Mi.current.useMemo(n,e)};zt.useReducer=function(n,e,t){return Mi.current.useReducer(n,e,t)};zt.useRef=function(n){return Mi.current.useRef(n)};zt.useState=function(n){return Mi.current.useState(n)};zt.useSyncExternalStore=function(n,e,t){return Mi.current.useSyncExternalStore(n,e,t)};zt.useTransition=function(){return Mi.current.useTransition()};zt.version="18.2.0";(function(n){n.exports=zt})(qD);const ra=JP(_e),Uw=GD({__proto__:null,default:ra},[_e]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lO=_e,cO=Symbol.for("react.element"),uO=Symbol.for("react.fragment"),fO=Object.prototype.hasOwnProperty,hO=lO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dO={key:!0,ref:!0,__self:!0,__source:!0};function s8(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)fO.call(e,r)&&!dO.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:cO,type:n,key:s,ref:o,props:i,_owner:hO.current}}Oy.Fragment=uO;Oy.jsx=s8;Oy.jsxs=s8;(function(n){n.exports=Oy})(jD);const BS=Q0.Fragment,qe=Q0.jsx,Un=Q0.jsxs;var Vw={},Hw={},pO={get exports(){return Hw},set exports(n){Hw=n}},ms={},Ww={},mO={get exports(){return Ww},set exports(n){Ww=n}},o8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,X){var $=F.length;F.push(X);e:for(;0<$;){var P=$-1>>>1,M=F[P];if(0<i(M,X))F[P]=X,F[$]=M,$=P;else break e}}function t(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var X=F[0],$=F.pop();if($!==X){F[0]=$;e:for(var P=0,M=F.length,W=M>>>1;P<W;){var Z=2*(P+1)-1,N=F[Z],J=Z+1,ue=F[J];if(0>i(N,$))J<M&&0>i(ue,N)?(F[P]=ue,F[J]=$,P=J):(F[P]=N,F[Z]=$,P=Z);else if(J<M&&0>i(ue,$))F[P]=ue,F[J]=$,P=J;else break e}}return X}function i(F,X){var $=F.sortIndex-X.sortIndex;return $!==0?$:F.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,m=!1,y=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var X=t(c);X!==null;){if(X.callback===null)r(c);else if(X.startTime<=F)r(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(c)}}function A(F){if(g=!1,w(F),!y)if(t(l)!==null)y=!0,z(T);else{var X=t(c);X!==null&&q(A,X.startTime-F)}}function T(F,X){y=!1,g&&(g=!1,v(C),C=-1),m=!0;var $=p;try{for(w(X),h=t(l);h!==null&&(!(h.expirationTime>X)||F&&!Y());){var P=h.callback;if(typeof P=="function"){h.callback=null,p=h.priorityLevel;var M=P(h.expirationTime<=X);X=n.unstable_now(),typeof M=="function"?h.callback=M:h===t(l)&&r(l),w(X)}else r(l);h=t(l)}if(h!==null)var W=!0;else{var Z=t(c);Z!==null&&q(A,Z.startTime-X),W=!1}return W}finally{h=null,p=$,m=!1}}var D=!1,O=null,C=-1,B=5,G=-1;function Y(){return!(n.unstable_now()-G<B)}function oe(){if(O!==null){var F=n.unstable_now();G=F;var X=!0;try{X=O(!0,F)}finally{X?V():(D=!1,O=null)}}else D=!1}var V;if(typeof b=="function")V=function(){b(oe)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,L=S.port2;S.port1.onmessage=oe,V=function(){L.postMessage(null)}}else V=function(){x(oe,0)};function z(F){O=F,D||(D=!0,V())}function q(F,X){C=x(function(){F(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,z(T))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var $=p;p=X;try{return F()}finally{p=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,X){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var $=p;p=F;try{return X()}finally{p=$}},n.unstable_scheduleCallback=function(F,X,$){var P=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?P+$:P):$=P,F){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=$+M,F={id:u++,callback:X,priorityLevel:F,startTime:$,expirationTime:M,sortIndex:-1},$>P?(F.sortIndex=$,e(c,F),t(l)===null&&F===t(c)&&(g?(v(C),C=-1):g=!0,q(A,$-P))):(F.sortIndex=M,e(l,F),y||m||(y=!0,z(T))),F},n.unstable_shouldYield=Y,n.unstable_wrapCallback=function(F){var X=p;return function(){var $=p;p=X;try{return F.apply(this,arguments)}finally{p=$}}}})(o8);(function(n){n.exports=o8})(mO);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a8=_e,ds=Ww;function Ue(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l8=new Set,Z0={};function Fu(n,e){Ch(n,e),Ch(n+"Capture",e)}function Ch(n,e){for(Z0[n]=e,n=0;n<e.length;n++)l8.add(e[n])}var Wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gw=Object.prototype.hasOwnProperty,gO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r6={},i6={};function xO(n){return Gw.call(i6,n)?!0:Gw.call(r6,n)?!1:gO.test(n)?i6[n]=!0:(r6[n]=!0,!1)}function yO(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function vO(n,e,t,r){if(e===null||typeof e>"u"||yO(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ei(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Fr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Fr[n]=new Ei(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Fr[e]=new Ei(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Fr[n]=new Ei(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Fr[n]=new Ei(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Fr[n]=new Ei(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Fr[n]=new Ei(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Fr[n]=new Ei(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Fr[n]=new Ei(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Fr[n]=new Ei(n,5,!1,n.toLowerCase(),null,!1,!1)});var FS=/[\-:]([a-z])/g;function zS(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(FS,zS);Fr[e]=new Ei(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(FS,zS);Fr[e]=new Ei(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(FS,zS);Fr[e]=new Ei(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Fr[n]=new Ei(n,1,!1,n.toLowerCase(),null,!1,!1)});Fr.xlinkHref=new Ei("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Fr[n]=new Ei(n,1,!1,n.toLowerCase(),null,!0,!0)});function US(n,e,t,r){var i=Fr.hasOwnProperty(e)?Fr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vO(e,t,i,r)&&(t=null),r||i===null?xO(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var tl=a8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ag=Symbol.for("react.element"),jf=Symbol.for("react.portal"),qf=Symbol.for("react.fragment"),VS=Symbol.for("react.strict_mode"),jw=Symbol.for("react.profiler"),c8=Symbol.for("react.provider"),u8=Symbol.for("react.context"),HS=Symbol.for("react.forward_ref"),qw=Symbol.for("react.suspense"),Xw=Symbol.for("react.suspense_list"),WS=Symbol.for("react.memo"),bl=Symbol.for("react.lazy"),f8=Symbol.for("react.offscreen"),s6=Symbol.iterator;function Dd(n){return n===null||typeof n!="object"?null:(n=s6&&n[s6]||n["@@iterator"],typeof n=="function"?n:null)}var On=Object.assign,j_;function p0(n){if(j_===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);j_=e&&e[1]||""}return`
`+j_+n}var q_=!1;function X_(n,e){if(!n||q_)return"";q_=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{q_=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?p0(n):""}function _O(n){switch(n.tag){case 5:return p0(n.type);case 16:return p0("Lazy");case 13:return p0("Suspense");case 19:return p0("SuspenseList");case 0:case 2:case 15:return n=X_(n.type,!1),n;case 11:return n=X_(n.type.render,!1),n;case 1:return n=X_(n.type,!0),n;default:return""}}function Kw(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case qf:return"Fragment";case jf:return"Portal";case jw:return"Profiler";case VS:return"StrictMode";case qw:return"Suspense";case Xw:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case u8:return(n.displayName||"Context")+".Consumer";case c8:return(n._context.displayName||"Context")+".Provider";case HS:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case WS:return e=n.displayName||null,e!==null?e:Kw(n.type)||"Memo";case bl:e=n._payload,n=n._init;try{return Kw(n(e))}catch{}}return null}function bO(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kw(e);case 8:return e===VS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yl(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function h8(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wO(n){var e=h8(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Cg(n){n._valueTracker||(n._valueTracker=wO(n))}function d8(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=h8(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function P1(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function $w(n,e){var t=e.checked;return On({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function o6(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Yl(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function p8(n,e){e=e.checked,e!=null&&US(n,"checked",e,!1)}function Yw(n,e){p8(n,e);var t=Yl(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Jw(n,e.type,t):e.hasOwnProperty("defaultValue")&&Jw(n,e.type,Yl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function a6(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Jw(n,e,t){(e!=="number"||P1(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var m0=Array.isArray;function dh(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Yl(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Qw(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return On({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function l6(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ue(92));if(m0(t)){if(1<t.length)throw Error(Ue(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Yl(t)}}function m8(n,e){var t=Yl(e.value),r=Yl(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function c6(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function g8(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zw(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?g8(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Tg,x8=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Tg=Tg||document.createElement("div"),Tg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tg.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function ep(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var A0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SO=["Webkit","ms","Moz","O"];Object.keys(A0).forEach(function(n){SO.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),A0[e]=A0[n]})});function y8(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||A0.hasOwnProperty(n)&&A0[n]?(""+e).trim():e+"px"}function v8(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=y8(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var MO=On({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function e2(n,e){if(e){if(MO[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ue(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ue(62))}}function t2(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n2=null;function GS(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var r2=null,ph=null,mh=null;function u6(n){if(n=rm(n)){if(typeof r2!="function")throw Error(Ue(280));var e=n.stateNode;e&&(e=Vy(e),r2(n.stateNode,n.type,e))}}function _8(n){ph?mh?mh.push(n):mh=[n]:ph=n}function b8(){if(ph){var n=ph,e=mh;if(mh=ph=null,u6(n),e)for(n=0;n<e.length;n++)u6(e[n])}}function w8(n,e){return n(e)}function S8(){}var K_=!1;function M8(n,e,t){if(K_)return n(e,t);K_=!0;try{return w8(n,e,t)}finally{K_=!1,(ph!==null||mh!==null)&&(S8(),b8())}}function tp(n,e){var t=n.stateNode;if(t===null)return null;var r=Vy(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ue(231,e,typeof t));return t}var i2=!1;if(Wa)try{var Od={};Object.defineProperty(Od,"passive",{get:function(){i2=!0}}),window.addEventListener("test",Od,Od),window.removeEventListener("test",Od,Od)}catch{i2=!1}function EO(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var C0=!1,R1=null,I1=!1,s2=null,AO={onError:function(n){C0=!0,R1=n}};function CO(n,e,t,r,i,s,o,a,l){C0=!1,R1=null,EO.apply(AO,arguments)}function TO(n,e,t,r,i,s,o,a,l){if(CO.apply(this,arguments),C0){if(C0){var c=R1;C0=!1,R1=null}else throw Error(Ue(198));I1||(I1=!0,s2=c)}}function zu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function E8(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function f6(n){if(zu(n)!==n)throw Error(Ue(188))}function PO(n){var e=n.alternate;if(!e){if(e=zu(n),e===null)throw Error(Ue(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return f6(i),n;if(s===r)return f6(i),e;s=s.sibling}throw Error(Ue(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Ue(189))}}if(t.alternate!==r)throw Error(Ue(190))}if(t.tag!==3)throw Error(Ue(188));return t.stateNode.current===t?n:e}function A8(n){return n=PO(n),n!==null?C8(n):null}function C8(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=C8(n);if(e!==null)return e;n=n.sibling}return null}var T8=ds.unstable_scheduleCallback,h6=ds.unstable_cancelCallback,RO=ds.unstable_shouldYield,IO=ds.unstable_requestPaint,tr=ds.unstable_now,kO=ds.unstable_getCurrentPriorityLevel,jS=ds.unstable_ImmediatePriority,P8=ds.unstable_UserBlockingPriority,k1=ds.unstable_NormalPriority,LO=ds.unstable_LowPriority,R8=ds.unstable_IdlePriority,By=null,$o=null;function NO(n){if($o&&typeof $o.onCommitFiberRoot=="function")try{$o.onCommitFiberRoot(By,n,void 0,(n.current.flags&128)===128)}catch{}}var vo=Math.clz32?Math.clz32:BO,DO=Math.log,OO=Math.LN2;function BO(n){return n>>>=0,n===0?32:31-(DO(n)/OO|0)|0}var Pg=64,Rg=4194304;function g0(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function L1(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=g0(a):(s&=o,s!==0&&(r=g0(s)))}else o=t&~i,o!==0?r=g0(o):s!==0&&(r=g0(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-vo(e),i=1<<t,r|=n[t],e&=~i;return r}function FO(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zO(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-vo(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=FO(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function o2(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function I8(){var n=Pg;return Pg<<=1,!(Pg&4194240)&&(Pg=64),n}function $_(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function tm(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-vo(e),n[e]=t}function UO(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-vo(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function qS(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-vo(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var nn=0;function k8(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var L8,XS,N8,D8,O8,a2=!1,Ig=[],Bl=null,Fl=null,zl=null,np=new Map,rp=new Map,El=[],VO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function d6(n,e){switch(n){case"focusin":case"focusout":Bl=null;break;case"dragenter":case"dragleave":Fl=null;break;case"mouseover":case"mouseout":zl=null;break;case"pointerover":case"pointerout":np.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rp.delete(e.pointerId)}}function Bd(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=rm(e),e!==null&&XS(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function HO(n,e,t,r,i){switch(e){case"focusin":return Bl=Bd(Bl,n,e,t,r,i),!0;case"dragenter":return Fl=Bd(Fl,n,e,t,r,i),!0;case"mouseover":return zl=Bd(zl,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return np.set(s,Bd(np.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rp.set(s,Bd(rp.get(s)||null,n,e,t,r,i)),!0}return!1}function B8(n){var e=Zc(n.target);if(e!==null){var t=zu(e);if(t!==null){if(e=t.tag,e===13){if(e=E8(t),e!==null){n.blockedOn=e,O8(n.priority,function(){N8(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function $x(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=l2(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);n2=r,t.target.dispatchEvent(r),n2=null}else return e=rm(t),e!==null&&XS(e),n.blockedOn=t,!1;e.shift()}return!0}function p6(n,e,t){$x(n)&&t.delete(e)}function WO(){a2=!1,Bl!==null&&$x(Bl)&&(Bl=null),Fl!==null&&$x(Fl)&&(Fl=null),zl!==null&&$x(zl)&&(zl=null),np.forEach(p6),rp.forEach(p6)}function Fd(n,e){n.blockedOn===e&&(n.blockedOn=null,a2||(a2=!0,ds.unstable_scheduleCallback(ds.unstable_NormalPriority,WO)))}function ip(n){function e(i){return Fd(i,n)}if(0<Ig.length){Fd(Ig[0],n);for(var t=1;t<Ig.length;t++){var r=Ig[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Bl!==null&&Fd(Bl,n),Fl!==null&&Fd(Fl,n),zl!==null&&Fd(zl,n),np.forEach(e),rp.forEach(e),t=0;t<El.length;t++)r=El[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<El.length&&(t=El[0],t.blockedOn===null);)B8(t),t.blockedOn===null&&El.shift()}var gh=tl.ReactCurrentBatchConfig,N1=!0;function GO(n,e,t,r){var i=nn,s=gh.transition;gh.transition=null;try{nn=1,KS(n,e,t,r)}finally{nn=i,gh.transition=s}}function jO(n,e,t,r){var i=nn,s=gh.transition;gh.transition=null;try{nn=4,KS(n,e,t,r)}finally{nn=i,gh.transition=s}}function KS(n,e,t,r){if(N1){var i=l2(n,e,t,r);if(i===null)sb(n,e,r,D1,t),d6(n,r);else if(HO(i,n,e,t,r))r.stopPropagation();else if(d6(n,r),e&4&&-1<VO.indexOf(n)){for(;i!==null;){var s=rm(i);if(s!==null&&L8(s),s=l2(n,e,t,r),s===null&&sb(n,e,r,D1,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else sb(n,e,r,null,t)}}var D1=null;function l2(n,e,t,r){if(D1=null,n=GS(r),n=Zc(n),n!==null)if(e=zu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=E8(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return D1=n,null}function F8(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kO()){case jS:return 1;case P8:return 4;case k1:case LO:return 16;case R8:return 536870912;default:return 16}default:return 16}}var Cl=null,$S=null,Yx=null;function z8(){if(Yx)return Yx;var n,e=$S,t=e.length,r,i="value"in Cl?Cl.value:Cl.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return Yx=i.slice(n,1<r?1-r:void 0)}function Jx(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function kg(){return!0}function m6(){return!1}function gs(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kg:m6,this.isPropagationStopped=m6,this}return On(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=kg)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=kg)},persist:function(){},isPersistent:kg}),e}var ed={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},YS=gs(ed),nm=On({},ed,{view:0,detail:0}),qO=gs(nm),Y_,J_,zd,Fy=On({},nm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:JS,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==zd&&(zd&&n.type==="mousemove"?(Y_=n.screenX-zd.screenX,J_=n.screenY-zd.screenY):J_=Y_=0,zd=n),Y_)},movementY:function(n){return"movementY"in n?n.movementY:J_}}),g6=gs(Fy),XO=On({},Fy,{dataTransfer:0}),KO=gs(XO),$O=On({},nm,{relatedTarget:0}),Q_=gs($O),YO=On({},ed,{animationName:0,elapsedTime:0,pseudoElement:0}),JO=gs(YO),QO=On({},ed,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ZO=gs(QO),eB=On({},ed,{data:0}),x6=gs(eB),tB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iB(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=rB[n])?!!e[n]:!1}function JS(){return iB}var sB=On({},nm,{key:function(n){if(n.key){var e=tB[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Jx(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?nB[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:JS,charCode:function(n){return n.type==="keypress"?Jx(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Jx(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),oB=gs(sB),aB=On({},Fy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y6=gs(aB),lB=On({},nm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:JS}),cB=gs(lB),uB=On({},ed,{propertyName:0,elapsedTime:0,pseudoElement:0}),fB=gs(uB),hB=On({},Fy,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),dB=gs(hB),pB=[9,13,27,32],QS=Wa&&"CompositionEvent"in window,T0=null;Wa&&"documentMode"in document&&(T0=document.documentMode);var mB=Wa&&"TextEvent"in window&&!T0,U8=Wa&&(!QS||T0&&8<T0&&11>=T0),v6=String.fromCharCode(32),_6=!1;function V8(n,e){switch(n){case"keyup":return pB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function H8(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Xf=!1;function gB(n,e){switch(n){case"compositionend":return H8(e);case"keypress":return e.which!==32?null:(_6=!0,v6);case"textInput":return n=e.data,n===v6&&_6?null:n;default:return null}}function xB(n,e){if(Xf)return n==="compositionend"||!QS&&V8(n,e)?(n=z8(),Yx=$S=Cl=null,Xf=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return U8&&e.locale!=="ko"?null:e.data;default:return null}}var yB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b6(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!yB[n.type]:e==="textarea"}function W8(n,e,t,r){_8(r),e=O1(e,"onChange"),0<e.length&&(t=new YS("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var P0=null,sp=null;function vB(n){eR(n,0)}function zy(n){var e=Yf(n);if(d8(e))return n}function _B(n,e){if(n==="change")return e}var G8=!1;if(Wa){var Z_;if(Wa){var eb="oninput"in document;if(!eb){var w6=document.createElement("div");w6.setAttribute("oninput","return;"),eb=typeof w6.oninput=="function"}Z_=eb}else Z_=!1;G8=Z_&&(!document.documentMode||9<document.documentMode)}function S6(){P0&&(P0.detachEvent("onpropertychange",j8),sp=P0=null)}function j8(n){if(n.propertyName==="value"&&zy(sp)){var e=[];W8(e,sp,n,GS(n)),M8(vB,e)}}function bB(n,e,t){n==="focusin"?(S6(),P0=e,sp=t,P0.attachEvent("onpropertychange",j8)):n==="focusout"&&S6()}function wB(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return zy(sp)}function SB(n,e){if(n==="click")return zy(e)}function MB(n,e){if(n==="input"||n==="change")return zy(e)}function EB(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var So=typeof Object.is=="function"?Object.is:EB;function op(n,e){if(So(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!Gw.call(e,i)||!So(n[i],e[i]))return!1}return!0}function M6(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function E6(n,e){var t=M6(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=M6(t)}}function q8(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?q8(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function X8(){for(var n=window,e=P1();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=P1(n.document)}return e}function ZS(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function AB(n){var e=X8(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&q8(t.ownerDocument.documentElement,t)){if(r!==null&&ZS(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=E6(t,s);var o=E6(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var CB=Wa&&"documentMode"in document&&11>=document.documentMode,Kf=null,c2=null,R0=null,u2=!1;function A6(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;u2||Kf==null||Kf!==P1(r)||(r=Kf,"selectionStart"in r&&ZS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),R0&&op(R0,r)||(R0=r,r=O1(c2,"onSelect"),0<r.length&&(e=new YS("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Kf)))}function Lg(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var $f={animationend:Lg("Animation","AnimationEnd"),animationiteration:Lg("Animation","AnimationIteration"),animationstart:Lg("Animation","AnimationStart"),transitionend:Lg("Transition","TransitionEnd")},tb={},K8={};Wa&&(K8=document.createElement("div").style,"AnimationEvent"in window||(delete $f.animationend.animation,delete $f.animationiteration.animation,delete $f.animationstart.animation),"TransitionEvent"in window||delete $f.transitionend.transition);function Uy(n){if(tb[n])return tb[n];if(!$f[n])return n;var e=$f[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in K8)return tb[n]=e[t];return n}var $8=Uy("animationend"),Y8=Uy("animationiteration"),J8=Uy("animationstart"),Q8=Uy("transitionend"),Z8=new Map,C6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oc(n,e){Z8.set(n,e),Fu(e,[n])}for(var nb=0;nb<C6.length;nb++){var rb=C6[nb],TB=rb.toLowerCase(),PB=rb[0].toUpperCase()+rb.slice(1);oc(TB,"on"+PB)}oc($8,"onAnimationEnd");oc(Y8,"onAnimationIteration");oc(J8,"onAnimationStart");oc("dblclick","onDoubleClick");oc("focusin","onFocus");oc("focusout","onBlur");oc(Q8,"onTransitionEnd");Ch("onMouseEnter",["mouseout","mouseover"]);Ch("onMouseLeave",["mouseout","mouseover"]);Ch("onPointerEnter",["pointerout","pointerover"]);Ch("onPointerLeave",["pointerout","pointerover"]);Fu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var x0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RB=new Set("cancel close invalid load scroll toggle".split(" ").concat(x0));function T6(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,TO(r,e,void 0,n),n.currentTarget=null}function eR(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;T6(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;T6(i,a,c),s=l}}}if(I1)throw n=s2,I1=!1,s2=null,n}function vn(n,e){var t=e[m2];t===void 0&&(t=e[m2]=new Set);var r=n+"__bubble";t.has(r)||(tR(e,n,2,!1),t.add(r))}function ib(n,e,t){var r=0;e&&(r|=4),tR(t,n,r,e)}var Ng="_reactListening"+Math.random().toString(36).slice(2);function ap(n){if(!n[Ng]){n[Ng]=!0,l8.forEach(function(t){t!=="selectionchange"&&(RB.has(t)||ib(t,!1,n),ib(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Ng]||(e[Ng]=!0,ib("selectionchange",!1,e))}}function tR(n,e,t,r){switch(F8(e)){case 1:var i=GO;break;case 4:i=jO;break;default:i=KS}t=i.bind(null,e,t,n),i=void 0,!i2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function sb(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Zc(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}M8(function(){var c=s,u=GS(t),h=[];e:{var p=Z8.get(n);if(p!==void 0){var m=YS,y=n;switch(n){case"keypress":if(Jx(t)===0)break e;case"keydown":case"keyup":m=oB;break;case"focusin":y="focus",m=Q_;break;case"focusout":y="blur",m=Q_;break;case"beforeblur":case"afterblur":m=Q_;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=g6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=KO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=cB;break;case $8:case Y8:case J8:m=JO;break;case Q8:m=fB;break;case"scroll":m=qO;break;case"wheel":m=dB;break;case"copy":case"cut":case"paste":m=ZO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=y6}var g=(e&4)!==0,x=!g&&n==="scroll",v=g?p!==null?p+"Capture":null:p;g=[];for(var b=c,w;b!==null;){w=b;var A=w.stateNode;if(w.tag===5&&A!==null&&(w=A,v!==null&&(A=tp(b,v),A!=null&&g.push(lp(b,A,w)))),x)break;b=b.return}0<g.length&&(p=new m(p,y,null,t,u),h.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==n2&&(y=t.relatedTarget||t.fromElement)&&(Zc(y)||y[Ga]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=c,y=y?Zc(y):null,y!==null&&(x=zu(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(g=g6,A="onMouseLeave",v="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(g=y6,A="onPointerLeave",v="onPointerEnter",b="pointer"),x=m==null?p:Yf(m),w=y==null?p:Yf(y),p=new g(A,b+"leave",m,t,u),p.target=x,p.relatedTarget=w,A=null,Zc(u)===c&&(g=new g(v,b+"enter",y,t,u),g.target=w,g.relatedTarget=x,A=g),x=A,m&&y)t:{for(g=m,v=y,b=0,w=g;w;w=hf(w))b++;for(w=0,A=v;A;A=hf(A))w++;for(;0<b-w;)g=hf(g),b--;for(;0<w-b;)v=hf(v),w--;for(;b--;){if(g===v||v!==null&&g===v.alternate)break t;g=hf(g),v=hf(v)}g=null}else g=null;m!==null&&P6(h,p,m,g,!1),y!==null&&x!==null&&P6(h,x,y,g,!0)}}e:{if(p=c?Yf(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var T=_B;else if(b6(p))if(G8)T=MB;else{T=wB;var D=bB}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=SB);if(T&&(T=T(n,c))){W8(h,T,t,u);break e}D&&D(n,p,c),n==="focusout"&&(D=p._wrapperState)&&D.controlled&&p.type==="number"&&Jw(p,"number",p.value)}switch(D=c?Yf(c):window,n){case"focusin":(b6(D)||D.contentEditable==="true")&&(Kf=D,c2=c,R0=null);break;case"focusout":R0=c2=Kf=null;break;case"mousedown":u2=!0;break;case"contextmenu":case"mouseup":case"dragend":u2=!1,A6(h,t,u);break;case"selectionchange":if(CB)break;case"keydown":case"keyup":A6(h,t,u)}var O;if(QS)e:{switch(n){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Xf?V8(n,t)&&(C="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(C="onCompositionStart");C&&(U8&&t.locale!=="ko"&&(Xf||C!=="onCompositionStart"?C==="onCompositionEnd"&&Xf&&(O=z8()):(Cl=u,$S="value"in Cl?Cl.value:Cl.textContent,Xf=!0)),D=O1(c,C),0<D.length&&(C=new x6(C,n,null,t,u),h.push({event:C,listeners:D}),O?C.data=O:(O=H8(t),O!==null&&(C.data=O)))),(O=mB?gB(n,t):xB(n,t))&&(c=O1(c,"onBeforeInput"),0<c.length&&(u=new x6("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=O))}eR(h,e)})}function lp(n,e,t){return{instance:n,listener:e,currentTarget:t}}function O1(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=tp(n,t),s!=null&&r.unshift(lp(n,s,i)),s=tp(n,e),s!=null&&r.push(lp(n,s,i))),n=n.return}return r}function hf(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function P6(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=tp(t,s),l!=null&&o.unshift(lp(t,l,a))):i||(l=tp(t,s),l!=null&&o.push(lp(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var IB=/\r\n?/g,kB=/\u0000|\uFFFD/g;function R6(n){return(typeof n=="string"?n:""+n).replace(IB,`
`).replace(kB,"")}function Dg(n,e,t){if(e=R6(e),R6(n)!==e&&t)throw Error(Ue(425))}function B1(){}var f2=null,h2=null;function d2(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var p2=typeof setTimeout=="function"?setTimeout:void 0,LB=typeof clearTimeout=="function"?clearTimeout:void 0,I6=typeof Promise=="function"?Promise:void 0,NB=typeof queueMicrotask=="function"?queueMicrotask:typeof I6<"u"?function(n){return I6.resolve(null).then(n).catch(DB)}:p2;function DB(n){setTimeout(function(){throw n})}function ob(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),ip(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);ip(e)}function Ul(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function k6(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var td=Math.random().toString(36).slice(2),Ho="__reactFiber$"+td,cp="__reactProps$"+td,Ga="__reactContainer$"+td,m2="__reactEvents$"+td,OB="__reactListeners$"+td,BB="__reactHandles$"+td;function Zc(n){var e=n[Ho];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ga]||t[Ho]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=k6(n);n!==null;){if(t=n[Ho])return t;n=k6(n)}return e}n=t,t=n.parentNode}return null}function rm(n){return n=n[Ho]||n[Ga],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Yf(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ue(33))}function Vy(n){return n[cp]||null}var g2=[],Jf=-1;function ac(n){return{current:n}}function _n(n){0>Jf||(n.current=g2[Jf],g2[Jf]=null,Jf--)}function xn(n,e){Jf++,g2[Jf]=n.current,n.current=e}var Jl={},li=ac(Jl),Fi=ac(!1),Mu=Jl;function Th(n,e){var t=n.type.contextTypes;if(!t)return Jl;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function zi(n){return n=n.childContextTypes,n!=null}function F1(){_n(Fi),_n(li)}function L6(n,e,t){if(li.current!==Jl)throw Error(Ue(168));xn(li,e),xn(Fi,t)}function nR(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ue(108,bO(n)||"Unknown",i));return On({},t,r)}function z1(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Jl,Mu=li.current,xn(li,n),xn(Fi,Fi.current),!0}function N6(n,e,t){var r=n.stateNode;if(!r)throw Error(Ue(169));t?(n=nR(n,e,Mu),r.__reactInternalMemoizedMergedChildContext=n,_n(Fi),_n(li),xn(li,n)):_n(Fi),xn(Fi,t)}var Ia=null,Hy=!1,ab=!1;function rR(n){Ia===null?Ia=[n]:Ia.push(n)}function FB(n){Hy=!0,rR(n)}function lc(){if(!ab&&Ia!==null){ab=!0;var n=0,e=nn;try{var t=Ia;for(nn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Ia=null,Hy=!1}catch(i){throw Ia!==null&&(Ia=Ia.slice(n+1)),T8(jS,lc),i}finally{nn=e,ab=!1}}return null}var Qf=[],Zf=0,U1=null,V1=0,Ds=[],Os=0,Eu=null,Ba=1,Fa="";function Vc(n,e){Qf[Zf++]=V1,Qf[Zf++]=U1,U1=n,V1=e}function iR(n,e,t){Ds[Os++]=Ba,Ds[Os++]=Fa,Ds[Os++]=Eu,Eu=n;var r=Ba;n=Fa;var i=32-vo(r)-1;r&=~(1<<i),t+=1;var s=32-vo(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ba=1<<32-vo(e)+i|t<<i|r,Fa=s+n}else Ba=1<<s|t<<i|r,Fa=n}function eM(n){n.return!==null&&(Vc(n,1),iR(n,1,0))}function tM(n){for(;n===U1;)U1=Qf[--Zf],Qf[Zf]=null,V1=Qf[--Zf],Qf[Zf]=null;for(;n===Eu;)Eu=Ds[--Os],Ds[Os]=null,Fa=Ds[--Os],Ds[Os]=null,Ba=Ds[--Os],Ds[Os]=null}var ls=null,as=null,En=!1,ho=null;function sR(n,e){var t=Fs(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function D6(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,ls=n,as=Ul(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,ls=n,as=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Eu!==null?{id:Ba,overflow:Fa}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Fs(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,ls=n,as=null,!0):!1;default:return!1}}function x2(n){return(n.mode&1)!==0&&(n.flags&128)===0}function y2(n){if(En){var e=as;if(e){var t=e;if(!D6(n,e)){if(x2(n))throw Error(Ue(418));e=Ul(t.nextSibling);var r=ls;e&&D6(n,e)?sR(r,t):(n.flags=n.flags&-4097|2,En=!1,ls=n)}}else{if(x2(n))throw Error(Ue(418));n.flags=n.flags&-4097|2,En=!1,ls=n}}}function O6(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ls=n}function Og(n){if(n!==ls)return!1;if(!En)return O6(n),En=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!d2(n.type,n.memoizedProps)),e&&(e=as)){if(x2(n))throw oR(),Error(Ue(418));for(;e;)sR(n,e),e=Ul(e.nextSibling)}if(O6(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ue(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){as=Ul(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}as=null}}else as=ls?Ul(n.stateNode.nextSibling):null;return!0}function oR(){for(var n=as;n;)n=Ul(n.nextSibling)}function Ph(){as=ls=null,En=!1}function nM(n){ho===null?ho=[n]:ho.push(n)}var zB=tl.ReactCurrentBatchConfig;function lo(n,e){if(n&&n.defaultProps){e=On({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var H1=ac(null),W1=null,eh=null,rM=null;function iM(){rM=eh=W1=null}function sM(n){var e=H1.current;_n(H1),n._currentValue=e}function v2(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function xh(n,e){W1=n,rM=eh=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Bi=!0),n.firstContext=null)}function Ws(n){var e=n._currentValue;if(rM!==n)if(n={context:n,memoizedValue:e,next:null},eh===null){if(W1===null)throw Error(Ue(308));eh=n,W1.dependencies={lanes:0,firstContext:n}}else eh=eh.next=n;return e}var eu=null;function oM(n){eu===null?eu=[n]:eu.push(n)}function aR(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,oM(e)):(t.next=i.next,i.next=t),e.interleaved=t,ja(n,r)}function ja(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var wl=!1;function aM(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lR(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Va(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Vl(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Xt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ja(n,t)}return i=r.interleaved,i===null?(e.next=e,oM(r)):(e.next=i.next,i.next=e),r.interleaved=e,ja(n,t)}function Qx(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,qS(n,t)}}function B6(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function G1(n,e,t,r){var i=n.updateQueue;wl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,g=a;switch(p=e,m=t,g.tag){case 1:if(y=g.payload,typeof y=="function"){h=y.call(m,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(m,h,p):y,p==null)break e;h=On({},h,p);break e;case 2:wl=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=h):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Cu|=o,n.lanes=o,n.memoizedState=h}}function F6(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ue(191,i));i.call(r)}}}var cR=new a8.Component().refs;function _2(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:On({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Wy={isMounted:function(n){return(n=n._reactInternals)?zu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Si(),i=Wl(n),s=Va(r,i);s.payload=e,t!=null&&(s.callback=t),e=Vl(n,s,i),e!==null&&(_o(e,n,i,r),Qx(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Si(),i=Wl(n),s=Va(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Vl(n,s,i),e!==null&&(_o(e,n,i,r),Qx(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Si(),r=Wl(n),i=Va(t,r);i.tag=2,e!=null&&(i.callback=e),e=Vl(n,i,r),e!==null&&(_o(e,n,r,t),Qx(e,n,r))}};function z6(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!op(t,r)||!op(i,s):!0}function uR(n,e,t){var r=!1,i=Jl,s=e.contextType;return typeof s=="object"&&s!==null?s=Ws(s):(i=zi(e)?Mu:li.current,r=e.contextTypes,s=(r=r!=null)?Th(n,i):Jl),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wy,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function U6(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Wy.enqueueReplaceState(e,e.state,null)}function b2(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=cR,aM(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ws(s):(s=zi(e)?Mu:li.current,i.context=Th(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(_2(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wy.enqueueReplaceState(i,i.state,null),G1(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Ud(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ue(309));var r=t.stateNode}if(!r)throw Error(Ue(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===cR&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ue(284));if(!t._owner)throw Error(Ue(290,n))}return n}function Bg(n,e){throw n=Object.prototype.toString.call(e),Error(Ue(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function V6(n){var e=n._init;return e(n._payload)}function fR(n){function e(v,b){if(n){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function t(v,b){if(!n)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=Gl(v,b),v.index=0,v.sibling=null,v}function s(v,b,w){return v.index=w,n?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return n&&v.alternate===null&&(v.flags|=2),v}function a(v,b,w,A){return b===null||b.tag!==6?(b=pb(w,v.mode,A),b.return=v,b):(b=i(b,w),b.return=v,b)}function l(v,b,w,A){var T=w.type;return T===qf?u(v,b,w.props.children,A,w.key):b!==null&&(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===bl&&V6(T)===b.type)?(A=i(b,w.props),A.ref=Ud(v,b,w),A.return=v,A):(A=i1(w.type,w.key,w.props,null,v.mode,A),A.ref=Ud(v,b,w),A.return=v,A)}function c(v,b,w,A){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=mb(w,v.mode,A),b.return=v,b):(b=i(b,w.children||[]),b.return=v,b)}function u(v,b,w,A,T){return b===null||b.tag!==7?(b=fu(w,v.mode,A,T),b.return=v,b):(b=i(b,w),b.return=v,b)}function h(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=pb(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ag:return w=i1(b.type,b.key,b.props,null,v.mode,w),w.ref=Ud(v,null,b),w.return=v,w;case jf:return b=mb(b,v.mode,w),b.return=v,b;case bl:var A=b._init;return h(v,A(b._payload),w)}if(m0(b)||Dd(b))return b=fu(b,v.mode,w,null),b.return=v,b;Bg(v,b)}return null}function p(v,b,w,A){var T=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:a(v,b,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ag:return w.key===T?l(v,b,w,A):null;case jf:return w.key===T?c(v,b,w,A):null;case bl:return T=w._init,p(v,b,T(w._payload),A)}if(m0(w)||Dd(w))return T!==null?null:u(v,b,w,A,null);Bg(v,w)}return null}function m(v,b,w,A,T){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(w)||null,a(b,v,""+A,T);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Ag:return v=v.get(A.key===null?w:A.key)||null,l(b,v,A,T);case jf:return v=v.get(A.key===null?w:A.key)||null,c(b,v,A,T);case bl:var D=A._init;return m(v,b,w,D(A._payload),T)}if(m0(A)||Dd(A))return v=v.get(w)||null,u(b,v,A,T,null);Bg(b,A)}return null}function y(v,b,w,A){for(var T=null,D=null,O=b,C=b=0,B=null;O!==null&&C<w.length;C++){O.index>C?(B=O,O=null):B=O.sibling;var G=p(v,O,w[C],A);if(G===null){O===null&&(O=B);break}n&&O&&G.alternate===null&&e(v,O),b=s(G,b,C),D===null?T=G:D.sibling=G,D=G,O=B}if(C===w.length)return t(v,O),En&&Vc(v,C),T;if(O===null){for(;C<w.length;C++)O=h(v,w[C],A),O!==null&&(b=s(O,b,C),D===null?T=O:D.sibling=O,D=O);return En&&Vc(v,C),T}for(O=r(v,O);C<w.length;C++)B=m(O,v,C,w[C],A),B!==null&&(n&&B.alternate!==null&&O.delete(B.key===null?C:B.key),b=s(B,b,C),D===null?T=B:D.sibling=B,D=B);return n&&O.forEach(function(Y){return e(v,Y)}),En&&Vc(v,C),T}function g(v,b,w,A){var T=Dd(w);if(typeof T!="function")throw Error(Ue(150));if(w=T.call(w),w==null)throw Error(Ue(151));for(var D=T=null,O=b,C=b=0,B=null,G=w.next();O!==null&&!G.done;C++,G=w.next()){O.index>C?(B=O,O=null):B=O.sibling;var Y=p(v,O,G.value,A);if(Y===null){O===null&&(O=B);break}n&&O&&Y.alternate===null&&e(v,O),b=s(Y,b,C),D===null?T=Y:D.sibling=Y,D=Y,O=B}if(G.done)return t(v,O),En&&Vc(v,C),T;if(O===null){for(;!G.done;C++,G=w.next())G=h(v,G.value,A),G!==null&&(b=s(G,b,C),D===null?T=G:D.sibling=G,D=G);return En&&Vc(v,C),T}for(O=r(v,O);!G.done;C++,G=w.next())G=m(O,v,C,G.value,A),G!==null&&(n&&G.alternate!==null&&O.delete(G.key===null?C:G.key),b=s(G,b,C),D===null?T=G:D.sibling=G,D=G);return n&&O.forEach(function(oe){return e(v,oe)}),En&&Vc(v,C),T}function x(v,b,w,A){if(typeof w=="object"&&w!==null&&w.type===qf&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ag:e:{for(var T=w.key,D=b;D!==null;){if(D.key===T){if(T=w.type,T===qf){if(D.tag===7){t(v,D.sibling),b=i(D,w.props.children),b.return=v,v=b;break e}}else if(D.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===bl&&V6(T)===D.type){t(v,D.sibling),b=i(D,w.props),b.ref=Ud(v,D,w),b.return=v,v=b;break e}t(v,D);break}else e(v,D);D=D.sibling}w.type===qf?(b=fu(w.props.children,v.mode,A,w.key),b.return=v,v=b):(A=i1(w.type,w.key,w.props,null,v.mode,A),A.ref=Ud(v,b,w),A.return=v,v=A)}return o(v);case jf:e:{for(D=w.key;b!==null;){if(b.key===D)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){t(v,b.sibling),b=i(b,w.children||[]),b.return=v,v=b;break e}else{t(v,b);break}else e(v,b);b=b.sibling}b=mb(w,v.mode,A),b.return=v,v=b}return o(v);case bl:return D=w._init,x(v,b,D(w._payload),A)}if(m0(w))return y(v,b,w,A);if(Dd(w))return g(v,b,w,A);Bg(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(t(v,b.sibling),b=i(b,w),b.return=v,v=b):(t(v,b),b=pb(w,v.mode,A),b.return=v,v=b),o(v)):t(v,b)}return x}var Rh=fR(!0),hR=fR(!1),im={},Yo=ac(im),up=ac(im),fp=ac(im);function tu(n){if(n===im)throw Error(Ue(174));return n}function lM(n,e){switch(xn(fp,e),xn(up,n),xn(Yo,im),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zw(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Zw(e,n)}_n(Yo),xn(Yo,e)}function Ih(){_n(Yo),_n(up),_n(fp)}function dR(n){tu(fp.current);var e=tu(Yo.current),t=Zw(e,n.type);e!==t&&(xn(up,n),xn(Yo,t))}function cM(n){up.current===n&&(_n(Yo),_n(up))}var Rn=ac(0);function j1(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lb=[];function uM(){for(var n=0;n<lb.length;n++)lb[n]._workInProgressVersionPrimary=null;lb.length=0}var Zx=tl.ReactCurrentDispatcher,cb=tl.ReactCurrentBatchConfig,Au=0,Dn=null,gr=null,Cr=null,q1=!1,I0=!1,hp=0,UB=0;function Kr(){throw Error(Ue(321))}function fM(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!So(n[t],e[t]))return!1;return!0}function hM(n,e,t,r,i,s){if(Au=s,Dn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zx.current=n===null||n.memoizedState===null?GB:jB,n=t(r,i),I0){s=0;do{if(I0=!1,hp=0,25<=s)throw Error(Ue(301));s+=1,Cr=gr=null,e.updateQueue=null,Zx.current=qB,n=t(r,i)}while(I0)}if(Zx.current=X1,e=gr!==null&&gr.next!==null,Au=0,Cr=gr=Dn=null,q1=!1,e)throw Error(Ue(300));return n}function dM(){var n=hp!==0;return hp=0,n}function Fo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?Dn.memoizedState=Cr=n:Cr=Cr.next=n,Cr}function Gs(){if(gr===null){var n=Dn.alternate;n=n!==null?n.memoizedState:null}else n=gr.next;var e=Cr===null?Dn.memoizedState:Cr.next;if(e!==null)Cr=e,gr=n;else{if(n===null)throw Error(Ue(310));gr=n,n={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},Cr===null?Dn.memoizedState=Cr=n:Cr=Cr.next=n}return Cr}function dp(n,e){return typeof e=="function"?e(n):e}function ub(n){var e=Gs(),t=e.queue;if(t===null)throw Error(Ue(311));t.lastRenderedReducer=n;var r=gr,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Au&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Dn.lanes|=u,Cu|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,So(r,e.memoizedState)||(Bi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Dn.lanes|=s,Cu|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function fb(n){var e=Gs(),t=e.queue;if(t===null)throw Error(Ue(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);So(s,e.memoizedState)||(Bi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function pR(){}function mR(n,e){var t=Dn,r=Gs(),i=e(),s=!So(r.memoizedState,i);if(s&&(r.memoizedState=i,Bi=!0),r=r.queue,pM(yR.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Cr!==null&&Cr.memoizedState.tag&1){if(t.flags|=2048,pp(9,xR.bind(null,t,r,i,e),void 0,null),Tr===null)throw Error(Ue(349));Au&30||gR(t,e,i)}return i}function gR(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Dn.updateQueue,e===null?(e={lastEffect:null,stores:null},Dn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function xR(n,e,t,r){e.value=t,e.getSnapshot=r,vR(e)&&_R(n)}function yR(n,e,t){return t(function(){vR(e)&&_R(n)})}function vR(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!So(n,t)}catch{return!0}}function _R(n){var e=ja(n,1);e!==null&&_o(e,n,1,-1)}function H6(n){var e=Fo();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dp,lastRenderedState:n},e.queue=n,n=n.dispatch=WB.bind(null,Dn,n),[e.memoizedState,n]}function pp(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Dn.updateQueue,e===null?(e={lastEffect:null,stores:null},Dn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function bR(){return Gs().memoizedState}function e1(n,e,t,r){var i=Fo();Dn.flags|=n,i.memoizedState=pp(1|e,t,void 0,r===void 0?null:r)}function Gy(n,e,t,r){var i=Gs();r=r===void 0?null:r;var s=void 0;if(gr!==null){var o=gr.memoizedState;if(s=o.destroy,r!==null&&fM(r,o.deps)){i.memoizedState=pp(e,t,s,r);return}}Dn.flags|=n,i.memoizedState=pp(1|e,t,s,r)}function W6(n,e){return e1(8390656,8,n,e)}function pM(n,e){return Gy(2048,8,n,e)}function wR(n,e){return Gy(4,2,n,e)}function SR(n,e){return Gy(4,4,n,e)}function MR(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function ER(n,e,t){return t=t!=null?t.concat([n]):null,Gy(4,4,MR.bind(null,e,n),t)}function mM(){}function AR(n,e){var t=Gs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&fM(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function CR(n,e){var t=Gs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&fM(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function TR(n,e,t){return Au&21?(So(t,e)||(t=I8(),Dn.lanes|=t,Cu|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Bi=!0),n.memoizedState=t)}function VB(n,e){var t=nn;nn=t!==0&&4>t?t:4,n(!0);var r=cb.transition;cb.transition={};try{n(!1),e()}finally{nn=t,cb.transition=r}}function PR(){return Gs().memoizedState}function HB(n,e,t){var r=Wl(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},RR(n))IR(e,t);else if(t=aR(n,e,t,r),t!==null){var i=Si();_o(t,n,r,i),kR(t,e,r)}}function WB(n,e,t){var r=Wl(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(RR(n))IR(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,So(a,o)){var l=e.interleaved;l===null?(i.next=i,oM(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=aR(n,e,i,r),t!==null&&(i=Si(),_o(t,n,r,i),kR(t,e,r))}}function RR(n){var e=n.alternate;return n===Dn||e!==null&&e===Dn}function IR(n,e){I0=q1=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function kR(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,qS(n,t)}}var X1={readContext:Ws,useCallback:Kr,useContext:Kr,useEffect:Kr,useImperativeHandle:Kr,useInsertionEffect:Kr,useLayoutEffect:Kr,useMemo:Kr,useReducer:Kr,useRef:Kr,useState:Kr,useDebugValue:Kr,useDeferredValue:Kr,useTransition:Kr,useMutableSource:Kr,useSyncExternalStore:Kr,useId:Kr,unstable_isNewReconciler:!1},GB={readContext:Ws,useCallback:function(n,e){return Fo().memoizedState=[n,e===void 0?null:e],n},useContext:Ws,useEffect:W6,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,e1(4194308,4,MR.bind(null,e,n),t)},useLayoutEffect:function(n,e){return e1(4194308,4,n,e)},useInsertionEffect:function(n,e){return e1(4,2,n,e)},useMemo:function(n,e){var t=Fo();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Fo();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=HB.bind(null,Dn,n),[r.memoizedState,n]},useRef:function(n){var e=Fo();return n={current:n},e.memoizedState=n},useState:H6,useDebugValue:mM,useDeferredValue:function(n){return Fo().memoizedState=n},useTransition:function(){var n=H6(!1),e=n[0];return n=VB.bind(null,n[1]),Fo().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Dn,i=Fo();if(En){if(t===void 0)throw Error(Ue(407));t=t()}else{if(t=e(),Tr===null)throw Error(Ue(349));Au&30||gR(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,W6(yR.bind(null,r,s,n),[n]),r.flags|=2048,pp(9,xR.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Fo(),e=Tr.identifierPrefix;if(En){var t=Fa,r=Ba;t=(r&~(1<<32-vo(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=hp++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=UB++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},jB={readContext:Ws,useCallback:AR,useContext:Ws,useEffect:pM,useImperativeHandle:ER,useInsertionEffect:wR,useLayoutEffect:SR,useMemo:CR,useReducer:ub,useRef:bR,useState:function(){return ub(dp)},useDebugValue:mM,useDeferredValue:function(n){var e=Gs();return TR(e,gr.memoizedState,n)},useTransition:function(){var n=ub(dp)[0],e=Gs().memoizedState;return[n,e]},useMutableSource:pR,useSyncExternalStore:mR,useId:PR,unstable_isNewReconciler:!1},qB={readContext:Ws,useCallback:AR,useContext:Ws,useEffect:pM,useImperativeHandle:ER,useInsertionEffect:wR,useLayoutEffect:SR,useMemo:CR,useReducer:fb,useRef:bR,useState:function(){return fb(dp)},useDebugValue:mM,useDeferredValue:function(n){var e=Gs();return gr===null?e.memoizedState=n:TR(e,gr.memoizedState,n)},useTransition:function(){var n=fb(dp)[0],e=Gs().memoizedState;return[n,e]},useMutableSource:pR,useSyncExternalStore:mR,useId:PR,unstable_isNewReconciler:!1};function kh(n,e){try{var t="",r=e;do t+=_O(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function hb(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function w2(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var XB=typeof WeakMap=="function"?WeakMap:Map;function LR(n,e,t){t=Va(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){$1||($1=!0,k2=r),w2(n,e)},t}function NR(n,e,t){t=Va(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){w2(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){w2(n,e),typeof r!="function"&&(Hl===null?Hl=new Set([this]):Hl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function G6(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new XB;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=aF.bind(null,n,e,t),e.then(n,n))}function j6(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function q6(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Va(-1,1),e.tag=2,Vl(t,e,1))),t.lanes|=1),n)}var KB=tl.ReactCurrentOwner,Bi=!1;function mi(n,e,t,r){e.child=n===null?hR(e,null,t,r):Rh(e,n.child,t,r)}function X6(n,e,t,r,i){t=t.render;var s=e.ref;return xh(e,i),r=hM(n,e,t,r,s,i),t=dM(),n!==null&&!Bi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,qa(n,e,i)):(En&&t&&eM(e),e.flags|=1,mi(n,e,r,i),e.child)}function K6(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!SM(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,DR(n,e,s,r,i)):(n=i1(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:op,t(o,r)&&n.ref===e.ref)return qa(n,e,i)}return e.flags|=1,n=Gl(s,r),n.ref=e.ref,n.return=e,e.child=n}function DR(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(op(s,r)&&n.ref===e.ref)if(Bi=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Bi=!0);else return e.lanes=n.lanes,qa(n,e,i)}return S2(n,e,t,r,i)}function OR(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xn(nh,ns),ns|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,xn(nh,ns),ns|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,xn(nh,ns),ns|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,xn(nh,ns),ns|=r;return mi(n,e,i,t),e.child}function BR(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function S2(n,e,t,r,i){var s=zi(t)?Mu:li.current;return s=Th(e,s),xh(e,i),t=hM(n,e,t,r,s,i),r=dM(),n!==null&&!Bi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,qa(n,e,i)):(En&&r&&eM(e),e.flags|=1,mi(n,e,t,i),e.child)}function $6(n,e,t,r,i){if(zi(t)){var s=!0;z1(e)}else s=!1;if(xh(e,i),e.stateNode===null)t1(n,e),uR(e,t,r),b2(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Ws(c):(c=zi(t)?Mu:li.current,c=Th(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&U6(e,o,r,c),wl=!1;var p=e.memoizedState;o.state=p,G1(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Fi.current||wl?(typeof u=="function"&&(_2(e,t,u,r),l=e.memoizedState),(a=wl||z6(e,t,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,lR(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:lo(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Ws(l):(l=zi(t)?Mu:li.current,l=Th(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&U6(e,o,r,l),wl=!1,p=e.memoizedState,o.state=p,G1(e,r,o,i);var y=e.memoizedState;a!==h||p!==y||Fi.current||wl?(typeof m=="function"&&(_2(e,t,m,r),y=e.memoizedState),(c=wl||z6(e,t,c,r,p,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return M2(n,e,t,r,s,i)}function M2(n,e,t,r,i,s){BR(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&N6(e,t,!1),qa(n,e,s);r=e.stateNode,KB.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Rh(e,n.child,null,s),e.child=Rh(e,null,a,s)):mi(n,e,a,s),e.memoizedState=r.state,i&&N6(e,t,!0),e.child}function FR(n){var e=n.stateNode;e.pendingContext?L6(n,e.pendingContext,e.pendingContext!==e.context):e.context&&L6(n,e.context,!1),lM(n,e.containerInfo)}function Y6(n,e,t,r,i){return Ph(),nM(i),e.flags|=256,mi(n,e,t,r),e.child}var E2={dehydrated:null,treeContext:null,retryLane:0};function A2(n){return{baseLanes:n,cachePool:null,transitions:null}}function zR(n,e,t){var r=e.pendingProps,i=Rn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),xn(Rn,i&1),n===null)return y2(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Xy(o,r,0,null),n=fu(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=A2(t),e.memoizedState=E2,n):gM(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return $B(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Gl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Gl(a,s):(s=fu(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?A2(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=E2,r}return s=n.child,n=s.sibling,r=Gl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function gM(n,e){return e=Xy({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Fg(n,e,t,r){return r!==null&&nM(r),Rh(e,n.child,null,t),n=gM(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function $B(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=hb(Error(Ue(422))),Fg(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Xy({mode:"visible",children:r.children},i,0,null),s=fu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Rh(e,n.child,null,o),e.child.memoizedState=A2(o),e.memoizedState=E2,s);if(!(e.mode&1))return Fg(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ue(419)),r=hb(s,r,void 0),Fg(n,e,o,r)}if(a=(o&n.childLanes)!==0,Bi||a){if(r=Tr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ja(n,i),_o(r,n,i,-1))}return wM(),r=hb(Error(Ue(421))),Fg(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=lF.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,as=Ul(i.nextSibling),ls=e,En=!0,ho=null,n!==null&&(Ds[Os++]=Ba,Ds[Os++]=Fa,Ds[Os++]=Eu,Ba=n.id,Fa=n.overflow,Eu=e),e=gM(e,r.children),e.flags|=4096,e)}function J6(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),v2(n.return,e,t)}function db(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function UR(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(mi(n,e,r.children,t),r=Rn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&J6(n,t,e);else if(n.tag===19)J6(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(xn(Rn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&j1(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),db(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&j1(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}db(e,!0,t,null,s);break;case"together":db(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function t1(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function qa(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Cu|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ue(153));if(e.child!==null){for(n=e.child,t=Gl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Gl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function YB(n,e,t){switch(e.tag){case 3:FR(e),Ph();break;case 5:dR(e);break;case 1:zi(e.type)&&z1(e);break;case 4:lM(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;xn(H1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xn(Rn,Rn.current&1),e.flags|=128,null):t&e.child.childLanes?zR(n,e,t):(xn(Rn,Rn.current&1),n=qa(n,e,t),n!==null?n.sibling:null);xn(Rn,Rn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return UR(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xn(Rn,Rn.current),r)break;return null;case 22:case 23:return e.lanes=0,OR(n,e,t)}return qa(n,e,t)}var VR,C2,HR,WR;VR=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};C2=function(){};HR=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,tu(Yo.current);var s=null;switch(t){case"input":i=$w(n,i),r=$w(n,r),s=[];break;case"select":i=On({},i,{value:void 0}),r=On({},r,{value:void 0}),s=[];break;case"textarea":i=Qw(n,i),r=Qw(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=B1)}e2(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Z0.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Z0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&vn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};WR=function(n,e,t,r){t!==r&&(e.flags|=4)};function Vd(n,e){if(!En)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function $r(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function JB(n,e,t){var r=e.pendingProps;switch(tM(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $r(e),null;case 1:return zi(e.type)&&F1(),$r(e),null;case 3:return r=e.stateNode,Ih(),_n(Fi),_n(li),uM(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Og(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ho!==null&&(D2(ho),ho=null))),C2(n,e),$r(e),null;case 5:cM(e);var i=tu(fp.current);if(t=e.type,n!==null&&e.stateNode!=null)HR(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ue(166));return $r(e),null}if(n=tu(Yo.current),Og(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Ho]=e,r[cp]=s,n=(e.mode&1)!==0,t){case"dialog":vn("cancel",r),vn("close",r);break;case"iframe":case"object":case"embed":vn("load",r);break;case"video":case"audio":for(i=0;i<x0.length;i++)vn(x0[i],r);break;case"source":vn("error",r);break;case"img":case"image":case"link":vn("error",r),vn("load",r);break;case"details":vn("toggle",r);break;case"input":o6(r,s),vn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},vn("invalid",r);break;case"textarea":l6(r,s),vn("invalid",r)}e2(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Dg(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Dg(r.textContent,a,n),i=["children",""+a]):Z0.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&vn("scroll",r)}switch(t){case"input":Cg(r),a6(r,s,!0);break;case"textarea":Cg(r),c6(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=B1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=g8(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Ho]=e,n[cp]=r,VR(n,e,!1,!1),e.stateNode=n;e:{switch(o=t2(t,r),t){case"dialog":vn("cancel",n),vn("close",n),i=r;break;case"iframe":case"object":case"embed":vn("load",n),i=r;break;case"video":case"audio":for(i=0;i<x0.length;i++)vn(x0[i],n);i=r;break;case"source":vn("error",n),i=r;break;case"img":case"image":case"link":vn("error",n),vn("load",n),i=r;break;case"details":vn("toggle",n),i=r;break;case"input":o6(n,r),i=$w(n,r),vn("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=On({},r,{value:void 0}),vn("invalid",n);break;case"textarea":l6(n,r),i=Qw(n,r),vn("invalid",n);break;default:i=r}e2(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?v8(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&x8(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&ep(n,l):typeof l=="number"&&ep(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Z0.hasOwnProperty(s)?l!=null&&s==="onScroll"&&vn("scroll",n):l!=null&&US(n,s,l,o))}switch(t){case"input":Cg(n),a6(n,r,!1);break;case"textarea":Cg(n),c6(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Yl(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?dh(n,!!r.multiple,s,!1):r.defaultValue!=null&&dh(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=B1)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $r(e),null;case 6:if(n&&e.stateNode!=null)WR(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ue(166));if(t=tu(fp.current),tu(Yo.current),Og(e)){if(r=e.stateNode,t=e.memoizedProps,r[Ho]=e,(s=r.nodeValue!==t)&&(n=ls,n!==null))switch(n.tag){case 3:Dg(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Dg(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Ho]=e,e.stateNode=r}return $r(e),null;case 13:if(_n(Rn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(En&&as!==null&&e.mode&1&&!(e.flags&128))oR(),Ph(),e.flags|=98560,s=!1;else if(s=Og(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Ue(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ue(317));s[Ho]=e}else Ph(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$r(e),s=!1}else ho!==null&&(D2(ho),ho=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Rn.current&1?vr===0&&(vr=3):wM())),e.updateQueue!==null&&(e.flags|=4),$r(e),null);case 4:return Ih(),C2(n,e),n===null&&ap(e.stateNode.containerInfo),$r(e),null;case 10:return sM(e.type._context),$r(e),null;case 17:return zi(e.type)&&F1(),$r(e),null;case 19:if(_n(Rn),s=e.memoizedState,s===null)return $r(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Vd(s,!1);else{if(vr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=j1(n),o!==null){for(e.flags|=128,Vd(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return xn(Rn,Rn.current&1|2),e.child}n=n.sibling}s.tail!==null&&tr()>Lh&&(e.flags|=128,r=!0,Vd(s,!1),e.lanes=4194304)}else{if(!r)if(n=j1(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Vd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!En)return $r(e),null}else 2*tr()-s.renderingStartTime>Lh&&t!==1073741824&&(e.flags|=128,r=!0,Vd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=tr(),e.sibling=null,t=Rn.current,xn(Rn,r?t&1|2:t&1),e):($r(e),null);case 22:case 23:return bM(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ns&1073741824&&($r(e),e.subtreeFlags&6&&(e.flags|=8192)):$r(e),null;case 24:return null;case 25:return null}throw Error(Ue(156,e.tag))}function QB(n,e){switch(tM(e),e.tag){case 1:return zi(e.type)&&F1(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Ih(),_n(Fi),_n(li),uM(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return cM(e),null;case 13:if(_n(Rn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ue(340));Ph()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return _n(Rn),null;case 4:return Ih(),null;case 10:return sM(e.type._context),null;case 22:case 23:return bM(),null;case 24:return null;default:return null}}var zg=!1,Qr=!1,ZB=typeof WeakSet=="function"?WeakSet:Set,rt=null;function th(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Wn(n,e,r)}else t.current=null}function T2(n,e,t){try{t()}catch(r){Wn(n,e,r)}}var Q6=!1;function eF(n,e){if(f2=N1,n=X8(),ZS(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=n,p=null;t:for(;;){for(var m;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(h2={focusedElem:n,selectionRange:t},N1=!1,rt=e;rt!==null;)if(e=rt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,rt=n;else for(;rt!==null;){e=rt;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,x=y.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:lo(e.type,g),x);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(A){Wn(e,e.return,A)}if(n=e.sibling,n!==null){n.return=e.return,rt=n;break}rt=e.return}return y=Q6,Q6=!1,y}function k0(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&T2(e,t,s)}i=i.next}while(i!==r)}}function jy(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function P2(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function GR(n){var e=n.alternate;e!==null&&(n.alternate=null,GR(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ho],delete e[cp],delete e[m2],delete e[OB],delete e[BB])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function jR(n){return n.tag===5||n.tag===3||n.tag===4}function Z6(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||jR(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function R2(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=B1));else if(r!==4&&(n=n.child,n!==null))for(R2(n,e,t),n=n.sibling;n!==null;)R2(n,e,t),n=n.sibling}function I2(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(I2(n,e,t),n=n.sibling;n!==null;)I2(n,e,t),n=n.sibling}var Lr=null,uo=!1;function hl(n,e,t){for(t=t.child;t!==null;)qR(n,e,t),t=t.sibling}function qR(n,e,t){if($o&&typeof $o.onCommitFiberUnmount=="function")try{$o.onCommitFiberUnmount(By,t)}catch{}switch(t.tag){case 5:Qr||th(t,e);case 6:var r=Lr,i=uo;Lr=null,hl(n,e,t),Lr=r,uo=i,Lr!==null&&(uo?(n=Lr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Lr.removeChild(t.stateNode));break;case 18:Lr!==null&&(uo?(n=Lr,t=t.stateNode,n.nodeType===8?ob(n.parentNode,t):n.nodeType===1&&ob(n,t),ip(n)):ob(Lr,t.stateNode));break;case 4:r=Lr,i=uo,Lr=t.stateNode.containerInfo,uo=!0,hl(n,e,t),Lr=r,uo=i;break;case 0:case 11:case 14:case 15:if(!Qr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&T2(t,e,o),i=i.next}while(i!==r)}hl(n,e,t);break;case 1:if(!Qr&&(th(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Wn(t,e,a)}hl(n,e,t);break;case 21:hl(n,e,t);break;case 22:t.mode&1?(Qr=(r=Qr)||t.memoizedState!==null,hl(n,e,t),Qr=r):hl(n,e,t);break;default:hl(n,e,t)}}function eC(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new ZB),e.forEach(function(r){var i=cF.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function to(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Lr=a.stateNode,uo=!1;break e;case 3:Lr=a.stateNode.containerInfo,uo=!0;break e;case 4:Lr=a.stateNode.containerInfo,uo=!0;break e}a=a.return}if(Lr===null)throw Error(Ue(160));qR(s,o,i),Lr=null,uo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Wn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)XR(e,n),e=e.sibling}function XR(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(to(e,n),Oo(n),r&4){try{k0(3,n,n.return),jy(3,n)}catch(g){Wn(n,n.return,g)}try{k0(5,n,n.return)}catch(g){Wn(n,n.return,g)}}break;case 1:to(e,n),Oo(n),r&512&&t!==null&&th(t,t.return);break;case 5:if(to(e,n),Oo(n),r&512&&t!==null&&th(t,t.return),n.flags&32){var i=n.stateNode;try{ep(i,"")}catch(g){Wn(n,n.return,g)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&p8(i,s),t2(a,o);var c=t2(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?v8(i,h):u==="dangerouslySetInnerHTML"?x8(i,h):u==="children"?ep(i,h):US(i,u,h,c)}switch(a){case"input":Yw(i,s);break;case"textarea":m8(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?dh(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?dh(i,!!s.multiple,s.defaultValue,!0):dh(i,!!s.multiple,s.multiple?[]:"",!1))}i[cp]=s}catch(g){Wn(n,n.return,g)}}break;case 6:if(to(e,n),Oo(n),r&4){if(n.stateNode===null)throw Error(Ue(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(g){Wn(n,n.return,g)}}break;case 3:if(to(e,n),Oo(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{ip(e.containerInfo)}catch(g){Wn(n,n.return,g)}break;case 4:to(e,n),Oo(n);break;case 13:to(e,n),Oo(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(vM=tr())),r&4&&eC(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Qr=(c=Qr)||u,to(e,n),Qr=c):to(e,n),Oo(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(rt=n,u=n.child;u!==null;){for(h=rt=u;rt!==null;){switch(p=rt,m=p.child,p.tag){case 0:case 11:case 14:case 15:k0(4,p,p.return);break;case 1:th(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){Wn(r,t,g)}}break;case 5:th(p,p.return);break;case 22:if(p.memoizedState!==null){nC(h);continue}}m!==null?(m.return=p,rt=m):nC(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=y8("display",o))}catch(g){Wn(n,n.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Wn(n,n.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:to(e,n),Oo(n),r&4&&eC(n);break;case 21:break;default:to(e,n),Oo(n)}}function Oo(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(jR(t)){var r=t;break e}t=t.return}throw Error(Ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ep(i,""),r.flags&=-33);var s=Z6(n);I2(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Z6(n);R2(n,a,o);break;default:throw Error(Ue(161))}}catch(l){Wn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function tF(n,e,t){rt=n,KR(n)}function KR(n,e,t){for(var r=(n.mode&1)!==0;rt!==null;){var i=rt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||zg;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Qr;a=zg;var c=Qr;if(zg=o,(Qr=l)&&!c)for(rt=i;rt!==null;)o=rt,l=o.child,o.tag===22&&o.memoizedState!==null?rC(i):l!==null?(l.return=o,rt=l):rC(i);for(;s!==null;)rt=s,KR(s),s=s.sibling;rt=i,zg=a,Qr=c}tC(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,rt=s):tC(n)}}function tC(n){for(;rt!==null;){var e=rt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qr||jy(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:lo(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&F6(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}F6(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&ip(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}Qr||e.flags&512&&P2(e)}catch(p){Wn(e,e.return,p)}}if(e===n){rt=null;break}if(t=e.sibling,t!==null){t.return=e.return,rt=t;break}rt=e.return}}function nC(n){for(;rt!==null;){var e=rt;if(e===n){rt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,rt=t;break}rt=e.return}}function rC(n){for(;rt!==null;){var e=rt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{jy(4,e)}catch(l){Wn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Wn(e,i,l)}}var s=e.return;try{P2(e)}catch(l){Wn(e,s,l)}break;case 5:var o=e.return;try{P2(e)}catch(l){Wn(e,o,l)}}}catch(l){Wn(e,e.return,l)}if(e===n){rt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,rt=a;break}rt=e.return}}var nF=Math.ceil,K1=tl.ReactCurrentDispatcher,xM=tl.ReactCurrentOwner,Hs=tl.ReactCurrentBatchConfig,Xt=0,Tr=null,fr=null,Br=0,ns=0,nh=ac(0),vr=0,mp=null,Cu=0,qy=0,yM=0,L0=null,Ni=null,vM=0,Lh=1/0,Ca=null,$1=!1,k2=null,Hl=null,Ug=!1,Tl=null,Y1=0,N0=0,L2=null,n1=-1,r1=0;function Si(){return Xt&6?tr():n1!==-1?n1:n1=tr()}function Wl(n){return n.mode&1?Xt&2&&Br!==0?Br&-Br:zB.transition!==null?(r1===0&&(r1=I8()),r1):(n=nn,n!==0||(n=window.event,n=n===void 0?16:F8(n.type)),n):1}function _o(n,e,t,r){if(50<N0)throw N0=0,L2=null,Error(Ue(185));tm(n,t,r),(!(Xt&2)||n!==Tr)&&(n===Tr&&(!(Xt&2)&&(qy|=t),vr===4&&Al(n,Br)),Ui(n,r),t===1&&Xt===0&&!(e.mode&1)&&(Lh=tr()+500,Hy&&lc()))}function Ui(n,e){var t=n.callbackNode;zO(n,e);var r=L1(n,n===Tr?Br:0);if(r===0)t!==null&&h6(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&h6(t),e===1)n.tag===0?FB(iC.bind(null,n)):rR(iC.bind(null,n)),NB(function(){!(Xt&6)&&lc()}),t=null;else{switch(k8(r)){case 1:t=jS;break;case 4:t=P8;break;case 16:t=k1;break;case 536870912:t=R8;break;default:t=k1}t=nI(t,$R.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function $R(n,e){if(n1=-1,r1=0,Xt&6)throw Error(Ue(327));var t=n.callbackNode;if(yh()&&n.callbackNode!==t)return null;var r=L1(n,n===Tr?Br:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=J1(n,r);else{e=r;var i=Xt;Xt|=2;var s=JR();(Tr!==n||Br!==e)&&(Ca=null,Lh=tr()+500,uu(n,e));do try{sF();break}catch(a){YR(n,a)}while(1);iM(),K1.current=s,Xt=i,fr!==null?e=0:(Tr=null,Br=0,e=vr)}if(e!==0){if(e===2&&(i=o2(n),i!==0&&(r=i,e=N2(n,i))),e===1)throw t=mp,uu(n,0),Al(n,r),Ui(n,tr()),t;if(e===6)Al(n,r);else{if(i=n.current.alternate,!(r&30)&&!rF(i)&&(e=J1(n,r),e===2&&(s=o2(n),s!==0&&(r=s,e=N2(n,s))),e===1))throw t=mp,uu(n,0),Al(n,r),Ui(n,tr()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ue(345));case 2:Hc(n,Ni,Ca);break;case 3:if(Al(n,r),(r&130023424)===r&&(e=vM+500-tr(),10<e)){if(L1(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Si(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=p2(Hc.bind(null,n,Ni,Ca),e);break}Hc(n,Ni,Ca);break;case 4:if(Al(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-vo(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=tr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nF(r/1960))-r,10<r){n.timeoutHandle=p2(Hc.bind(null,n,Ni,Ca),r);break}Hc(n,Ni,Ca);break;case 5:Hc(n,Ni,Ca);break;default:throw Error(Ue(329))}}}return Ui(n,tr()),n.callbackNode===t?$R.bind(null,n):null}function N2(n,e){var t=L0;return n.current.memoizedState.isDehydrated&&(uu(n,e).flags|=256),n=J1(n,e),n!==2&&(e=Ni,Ni=t,e!==null&&D2(e)),n}function D2(n){Ni===null?Ni=n:Ni.push.apply(Ni,n)}function rF(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!So(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Al(n,e){for(e&=~yM,e&=~qy,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-vo(e),r=1<<t;n[t]=-1,e&=~r}}function iC(n){if(Xt&6)throw Error(Ue(327));yh();var e=L1(n,0);if(!(e&1))return Ui(n,tr()),null;var t=J1(n,e);if(n.tag!==0&&t===2){var r=o2(n);r!==0&&(e=r,t=N2(n,r))}if(t===1)throw t=mp,uu(n,0),Al(n,e),Ui(n,tr()),t;if(t===6)throw Error(Ue(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Hc(n,Ni,Ca),Ui(n,tr()),null}function _M(n,e){var t=Xt;Xt|=1;try{return n(e)}finally{Xt=t,Xt===0&&(Lh=tr()+500,Hy&&lc())}}function Tu(n){Tl!==null&&Tl.tag===0&&!(Xt&6)&&yh();var e=Xt;Xt|=1;var t=Hs.transition,r=nn;try{if(Hs.transition=null,nn=1,n)return n()}finally{nn=r,Hs.transition=t,Xt=e,!(Xt&6)&&lc()}}function bM(){ns=nh.current,_n(nh)}function uu(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,LB(t)),fr!==null)for(t=fr.return;t!==null;){var r=t;switch(tM(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&F1();break;case 3:Ih(),_n(Fi),_n(li),uM();break;case 5:cM(r);break;case 4:Ih();break;case 13:_n(Rn);break;case 19:_n(Rn);break;case 10:sM(r.type._context);break;case 22:case 23:bM()}t=t.return}if(Tr=n,fr=n=Gl(n.current,null),Br=ns=e,vr=0,mp=null,yM=qy=Cu=0,Ni=L0=null,eu!==null){for(e=0;e<eu.length;e++)if(t=eu[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}eu=null}return n}function YR(n,e){do{var t=fr;try{if(iM(),Zx.current=X1,q1){for(var r=Dn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}q1=!1}if(Au=0,Cr=gr=Dn=null,I0=!1,hp=0,xM.current=null,t===null||t.return===null){vr=1,mp=e,fr=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Br,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=j6(o);if(m!==null){m.flags&=-257,q6(m,o,a,s,e),m.mode&1&&G6(s,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){G6(s,c,e),wM();break e}l=Error(Ue(426))}}else if(En&&a.mode&1){var x=j6(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),q6(x,o,a,s,e),nM(kh(l,a));break e}}s=l=kh(l,a),vr!==4&&(vr=2),L0===null?L0=[s]:L0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=LR(s,l,e);B6(s,v);break e;case 1:a=l;var b=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Hl===null||!Hl.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=NR(s,a,e);B6(s,A);break e}}s=s.return}while(s!==null)}ZR(t)}catch(T){e=T,fr===t&&t!==null&&(fr=t=t.return);continue}break}while(1)}function JR(){var n=K1.current;return K1.current=X1,n===null?X1:n}function wM(){(vr===0||vr===3||vr===2)&&(vr=4),Tr===null||!(Cu&268435455)&&!(qy&268435455)||Al(Tr,Br)}function J1(n,e){var t=Xt;Xt|=2;var r=JR();(Tr!==n||Br!==e)&&(Ca=null,uu(n,e));do try{iF();break}catch(i){YR(n,i)}while(1);if(iM(),Xt=t,K1.current=r,fr!==null)throw Error(Ue(261));return Tr=null,Br=0,vr}function iF(){for(;fr!==null;)QR(fr)}function sF(){for(;fr!==null&&!RO();)QR(fr)}function QR(n){var e=tI(n.alternate,n,ns);n.memoizedProps=n.pendingProps,e===null?ZR(n):fr=e,xM.current=null}function ZR(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=QB(t,e),t!==null){t.flags&=32767,fr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{vr=6,fr=null;return}}else if(t=JB(t,e,ns),t!==null){fr=t;return}if(e=e.sibling,e!==null){fr=e;return}fr=e=n}while(e!==null);vr===0&&(vr=5)}function Hc(n,e,t){var r=nn,i=Hs.transition;try{Hs.transition=null,nn=1,oF(n,e,t,r)}finally{Hs.transition=i,nn=r}return null}function oF(n,e,t,r){do yh();while(Tl!==null);if(Xt&6)throw Error(Ue(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ue(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(UO(n,s),n===Tr&&(fr=Tr=null,Br=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Ug||(Ug=!0,nI(k1,function(){return yh(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Hs.transition,Hs.transition=null;var o=nn;nn=1;var a=Xt;Xt|=4,xM.current=null,eF(n,t),XR(t,n),AB(h2),N1=!!f2,h2=f2=null,n.current=t,tF(t),IO(),Xt=a,nn=o,Hs.transition=s}else n.current=t;if(Ug&&(Ug=!1,Tl=n,Y1=i),s=n.pendingLanes,s===0&&(Hl=null),NO(t.stateNode),Ui(n,tr()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if($1)throw $1=!1,n=k2,k2=null,n;return Y1&1&&n.tag!==0&&yh(),s=n.pendingLanes,s&1?n===L2?N0++:(N0=0,L2=n):N0=0,lc(),null}function yh(){if(Tl!==null){var n=k8(Y1),e=Hs.transition,t=nn;try{if(Hs.transition=null,nn=16>n?16:n,Tl===null)var r=!1;else{if(n=Tl,Tl=null,Y1=0,Xt&6)throw Error(Ue(331));var i=Xt;for(Xt|=4,rt=n.current;rt!==null;){var s=rt,o=s.child;if(rt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(rt=c;rt!==null;){var u=rt;switch(u.tag){case 0:case 11:case 15:k0(8,u,s)}var h=u.child;if(h!==null)h.return=u,rt=h;else for(;rt!==null;){u=rt;var p=u.sibling,m=u.return;if(GR(u),u===c){rt=null;break}if(p!==null){p.return=m,rt=p;break}rt=m}}}var y=s.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}rt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,rt=o;else e:for(;rt!==null;){if(s=rt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:k0(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,rt=v;break e}rt=s.return}}var b=n.current;for(rt=b;rt!==null;){o=rt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,rt=w;else e:for(o=b;rt!==null;){if(a=rt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jy(9,a)}}catch(T){Wn(a,a.return,T)}if(a===o){rt=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,rt=A;break e}rt=a.return}}if(Xt=i,lc(),$o&&typeof $o.onPostCommitFiberRoot=="function")try{$o.onPostCommitFiberRoot(By,n)}catch{}r=!0}return r}finally{nn=t,Hs.transition=e}}return!1}function sC(n,e,t){e=kh(t,e),e=LR(n,e,1),n=Vl(n,e,1),e=Si(),n!==null&&(tm(n,1,e),Ui(n,e))}function Wn(n,e,t){if(n.tag===3)sC(n,n,t);else for(;e!==null;){if(e.tag===3){sC(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hl===null||!Hl.has(r))){n=kh(t,n),n=NR(e,n,1),e=Vl(e,n,1),n=Si(),e!==null&&(tm(e,1,n),Ui(e,n));break}}e=e.return}}function aF(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Si(),n.pingedLanes|=n.suspendedLanes&t,Tr===n&&(Br&t)===t&&(vr===4||vr===3&&(Br&130023424)===Br&&500>tr()-vM?uu(n,0):yM|=t),Ui(n,e)}function eI(n,e){e===0&&(n.mode&1?(e=Rg,Rg<<=1,!(Rg&130023424)&&(Rg=4194304)):e=1);var t=Si();n=ja(n,e),n!==null&&(tm(n,e,t),Ui(n,t))}function lF(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),eI(n,t)}function cF(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ue(314))}r!==null&&r.delete(e),eI(n,t)}var tI;tI=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Fi.current)Bi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Bi=!1,YB(n,e,t);Bi=!!(n.flags&131072)}else Bi=!1,En&&e.flags&1048576&&iR(e,V1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;t1(n,e),n=e.pendingProps;var i=Th(e,li.current);xh(e,t),i=hM(null,e,r,n,i,t);var s=dM();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zi(r)?(s=!0,z1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,aM(e),i.updater=Wy,e.stateNode=i,i._reactInternals=e,b2(e,r,n,t),e=M2(null,e,r,!0,s,t)):(e.tag=0,En&&s&&eM(e),mi(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(t1(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=fF(r),n=lo(r,n),i){case 0:e=S2(null,e,r,n,t);break e;case 1:e=$6(null,e,r,n,t);break e;case 11:e=X6(null,e,r,n,t);break e;case 14:e=K6(null,e,r,lo(r.type,n),t);break e}throw Error(Ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lo(r,i),S2(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lo(r,i),$6(n,e,r,i,t);case 3:e:{if(FR(e),n===null)throw Error(Ue(387));r=e.pendingProps,s=e.memoizedState,i=s.element,lR(n,e),G1(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=kh(Error(Ue(423)),e),e=Y6(n,e,r,t,i);break e}else if(r!==i){i=kh(Error(Ue(424)),e),e=Y6(n,e,r,t,i);break e}else for(as=Ul(e.stateNode.containerInfo.firstChild),ls=e,En=!0,ho=null,t=hR(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Ph(),r===i){e=qa(n,e,t);break e}mi(n,e,r,t)}e=e.child}return e;case 5:return dR(e),n===null&&y2(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,d2(r,i)?o=null:s!==null&&d2(r,s)&&(e.flags|=32),BR(n,e),mi(n,e,o,t),e.child;case 6:return n===null&&y2(e),null;case 13:return zR(n,e,t);case 4:return lM(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Rh(e,null,r,t):mi(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lo(r,i),X6(n,e,r,i,t);case 7:return mi(n,e,e.pendingProps,t),e.child;case 8:return mi(n,e,e.pendingProps.children,t),e.child;case 12:return mi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,xn(H1,r._currentValue),r._currentValue=o,s!==null)if(So(s.value,o)){if(s.children===i.children&&!Fi.current){e=qa(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Va(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),v2(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ue(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),v2(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}mi(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xh(e,t),i=Ws(i),r=r(i),e.flags|=1,mi(n,e,r,t),e.child;case 14:return r=e.type,i=lo(r,e.pendingProps),i=lo(r.type,i),K6(n,e,r,i,t);case 15:return DR(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lo(r,i),t1(n,e),e.tag=1,zi(r)?(n=!0,z1(e)):n=!1,xh(e,t),uR(e,r,i),b2(e,r,i,t),M2(null,e,r,!0,n,t);case 19:return UR(n,e,t);case 22:return OR(n,e,t)}throw Error(Ue(156,e.tag))};function nI(n,e){return T8(n,e)}function uF(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fs(n,e,t,r){return new uF(n,e,t,r)}function SM(n){return n=n.prototype,!(!n||!n.isReactComponent)}function fF(n){if(typeof n=="function")return SM(n)?1:0;if(n!=null){if(n=n.$$typeof,n===HS)return 11;if(n===WS)return 14}return 2}function Gl(n,e){var t=n.alternate;return t===null?(t=Fs(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function i1(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")SM(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case qf:return fu(t.children,i,s,e);case VS:o=8,i|=8;break;case jw:return n=Fs(12,t,e,i|2),n.elementType=jw,n.lanes=s,n;case qw:return n=Fs(13,t,e,i),n.elementType=qw,n.lanes=s,n;case Xw:return n=Fs(19,t,e,i),n.elementType=Xw,n.lanes=s,n;case f8:return Xy(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case c8:o=10;break e;case u8:o=9;break e;case HS:o=11;break e;case WS:o=14;break e;case bl:o=16,r=null;break e}throw Error(Ue(130,n==null?n:typeof n,""))}return e=Fs(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function fu(n,e,t,r){return n=Fs(7,n,r,e),n.lanes=t,n}function Xy(n,e,t,r){return n=Fs(22,n,r,e),n.elementType=f8,n.lanes=t,n.stateNode={isHidden:!1},n}function pb(n,e,t){return n=Fs(6,n,null,e),n.lanes=t,n}function mb(n,e,t){return e=Fs(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function hF(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$_(0),this.expirationTimes=$_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function MM(n,e,t,r,i,s,o,a,l){return n=new hF(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Fs(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},aM(s),n}function dF(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jf,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function rI(n){if(!n)return Jl;n=n._reactInternals;e:{if(zu(n)!==n||n.tag!==1)throw Error(Ue(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ue(171))}if(n.tag===1){var t=n.type;if(zi(t))return nR(n,t,e)}return e}function iI(n,e,t,r,i,s,o,a,l){return n=MM(t,r,!0,n,i,s,o,a,l),n.context=rI(null),t=n.current,r=Si(),i=Wl(t),s=Va(r,i),s.callback=e??null,Vl(t,s,i),n.current.lanes=i,tm(n,i,r),Ui(n,r),n}function Ky(n,e,t,r){var i=e.current,s=Si(),o=Wl(i);return t=rI(t),e.context===null?e.context=t:e.pendingContext=t,e=Va(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Vl(i,e,o),n!==null&&(_o(n,i,o,s),Qx(n,i,o)),o}function Q1(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function oC(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function EM(n,e){oC(n,e),(n=n.alternate)&&oC(n,e)}function pF(){return null}var sI=typeof reportError=="function"?reportError:function(n){console.error(n)};function AM(n){this._internalRoot=n}$y.prototype.render=AM.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ue(409));Ky(n,e,null,null)};$y.prototype.unmount=AM.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Tu(function(){Ky(null,n,null,null)}),e[Ga]=null}};function $y(n){this._internalRoot=n}$y.prototype.unstable_scheduleHydration=function(n){if(n){var e=D8();n={blockedOn:null,target:n,priority:e};for(var t=0;t<El.length&&e!==0&&e<El[t].priority;t++);El.splice(t,0,n),t===0&&B8(n)}};function CM(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Yy(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function aC(){}function mF(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Q1(o);s.call(c)}}var o=iI(e,r,n,0,null,!1,!1,"",aC);return n._reactRootContainer=o,n[Ga]=o.current,ap(n.nodeType===8?n.parentNode:n),Tu(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Q1(l);a.call(c)}}var l=MM(n,0,!1,null,null,!1,!1,"",aC);return n._reactRootContainer=l,n[Ga]=l.current,ap(n.nodeType===8?n.parentNode:n),Tu(function(){Ky(e,l,t,r)}),l}function Jy(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Q1(o);a.call(l)}}Ky(e,o,n,i)}else o=mF(t,e,n,i,r);return Q1(o)}L8=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=g0(e.pendingLanes);t!==0&&(qS(e,t|1),Ui(e,tr()),!(Xt&6)&&(Lh=tr()+500,lc()))}break;case 13:Tu(function(){var r=ja(n,1);if(r!==null){var i=Si();_o(r,n,1,i)}}),EM(n,1)}};XS=function(n){if(n.tag===13){var e=ja(n,134217728);if(e!==null){var t=Si();_o(e,n,134217728,t)}EM(n,134217728)}};N8=function(n){if(n.tag===13){var e=Wl(n),t=ja(n,e);if(t!==null){var r=Si();_o(t,n,e,r)}EM(n,e)}};D8=function(){return nn};O8=function(n,e){var t=nn;try{return nn=n,e()}finally{nn=t}};r2=function(n,e,t){switch(e){case"input":if(Yw(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=Vy(r);if(!i)throw Error(Ue(90));d8(r),Yw(r,i)}}}break;case"textarea":m8(n,t);break;case"select":e=t.value,e!=null&&dh(n,!!t.multiple,e,!1)}};w8=_M;S8=Tu;var gF={usingClientEntryPoint:!1,Events:[rm,Yf,Vy,_8,b8,_M]},Hd={findFiberByHostInstance:Zc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},xF={bundleType:Hd.bundleType,version:Hd.version,rendererPackageName:Hd.rendererPackageName,rendererConfig:Hd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tl.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=A8(n),n===null?null:n.stateNode},findFiberByHostInstance:Hd.findFiberByHostInstance||pF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vg.isDisabled&&Vg.supportsFiber)try{By=Vg.inject(xF),$o=Vg}catch{}}ms.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gF;ms.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!CM(e))throw Error(Ue(200));return dF(n,e,null,t)};ms.createRoot=function(n,e){if(!CM(n))throw Error(Ue(299));var t=!1,r="",i=sI;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=MM(n,1,!1,null,null,t,!1,r,i),n[Ga]=e.current,ap(n.nodeType===8?n.parentNode:n),new AM(e)};ms.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ue(188)):(n=Object.keys(n).join(","),Error(Ue(268,n)));return n=A8(e),n=n===null?null:n.stateNode,n};ms.flushSync=function(n){return Tu(n)};ms.hydrate=function(n,e,t){if(!Yy(e))throw Error(Ue(200));return Jy(null,n,e,!0,t)};ms.hydrateRoot=function(n,e,t){if(!CM(n))throw Error(Ue(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=sI;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=iI(e,null,n,1,t??null,i,!1,s,o),n[Ga]=e.current,ap(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new $y(e)};ms.render=function(n,e,t){if(!Yy(e))throw Error(Ue(200));return Jy(null,n,e,!1,t)};ms.unmountComponentAtNode=function(n){if(!Yy(n))throw Error(Ue(40));return n._reactRootContainer?(Tu(function(){Jy(null,null,n,!1,function(){n._reactRootContainer=null,n[Ga]=null})}),!0):!1};ms.unstable_batchedUpdates=_M;ms.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Yy(t))throw Error(Ue(200));if(n==null||n._reactInternals===void 0)throw Error(Ue(38));return Jy(n,e,t,!1,r)};ms.version="18.2.0-next-9e3b772b8-20220608";(function(n){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}e(),n.exports=ms})(pO);var lC=Hw;Vw.createRoot=lC.createRoot,Vw.hydrateRoot=lC.hydrateRoot;/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Qy="148",Wc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Gc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},oI=0,O2=1,aI=2,yF=3,lI=0,Zy=1,D0=2,nu=3,Ql=0,cs=1,sm=2,y0=3,Ha=0,hu=1,B2=2,F2=3,z2=4,cI=5,$c=100,uI=101,fI=102,U2=103,V2=104,hI=200,dI=201,pI=202,mI=203,TM=204,PM=205,gI=206,xI=207,yI=208,vI=209,_I=210,bI=0,wI=1,SI=2,Z1=3,MI=4,EI=5,AI=6,CI=7,om=0,TI=1,PI=2,bo=0,RI=1,II=2,kI=3,RM=4,LI=5,ev=300,Zl=301,ec=302,gp=303,xp=304,nd=306,yp=1e3,ei=1001,vp=1002,Zn=1003,ey=1004,vF=1004,O0=1005,_F=1005,nr=1006,IM=1007,bF=1007,tc=1008,wF=1008,Xa=1009,NI=1010,DI=1011,kM=1012,OI=1013,Pl=1014,za=1015,Nh=1016,BI=1017,FI=1018,du=1020,zI=1021,UI=1022,Di=1023,VI=1024,HI=1025,jl=1026,Pu=1027,WI=1028,GI=1029,jI=1030,qI=1031,XI=1033,s1=33776,o1=33777,a1=33778,l1=33779,H2=35840,W2=35841,G2=35842,j2=35843,KI=36196,q2=37492,X2=37496,K2=37808,$2=37809,Y2=37810,J2=37811,Q2=37812,Z2=37813,e3=37814,t3=37815,n3=37816,r3=37817,i3=37818,s3=37819,o3=37820,a3=37821,l3=36492,$I=2200,YI=2201,JI=2202,_p=2300,bp=2301,c1=2302,ru=2400,iu=2401,wp=2402,tv=2500,LM=2501,SF=0,MF=1,EF=2,Ka=3e3,on=3001,QI=3200,ZI=3201,cc=0,e7=1,AF="",fo="srgb",Dh="srgb-linear",CF=0,u1=7680,TF=7681,PF=7682,RF=7683,IF=34055,kF=34056,LF=5386,NF=512,DF=513,OF=514,BF=515,FF=516,zF=517,UF=518,t7=519,Sp=35044,VF=35048,HF=35040,WF=35045,GF=35049,jF=35041,qF=35046,XF=35050,KF=35042,$F="100",c3="300 es",ty=1035;class ua{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Yr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let cC=1234567;const pu=Math.PI/180,Mp=180/Math.PI;function us(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Yr[n&255]+Yr[n>>8&255]+Yr[n>>16&255]+Yr[n>>24&255]+"-"+Yr[e&255]+Yr[e>>8&255]+"-"+Yr[e>>16&15|64]+Yr[e>>24&255]+"-"+Yr[t&63|128]+Yr[t>>8&255]+"-"+Yr[t>>16&255]+Yr[t>>24&255]+Yr[r&255]+Yr[r>>8&255]+Yr[r>>16&255]+Yr[r>>24&255]).toLowerCase()}function rr(n,e,t){return Math.max(e,Math.min(t,n))}function NM(n,e){return(n%e+e)%e}function YF(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function JF(n,e,t){return n!==e?(t-n)/(e-n):0}function B0(n,e,t){return(1-t)*n+t*e}function QF(n,e,t,r){return B0(n,e,1-Math.exp(-t*r))}function ZF(n,e=1){return e-Math.abs(NM(n,e*2)-e)}function ez(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function tz(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function nz(n,e){return n+Math.floor(Math.random()*(e-n+1))}function rz(n,e){return n+Math.random()*(e-n)}function iz(n){return n*(.5-Math.random())}function sz(n){n!==void 0&&(cC=n);let e=cC+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function oz(n){return n*pu}function az(n){return n*Mp}function u3(n){return(n&n-1)===0&&n!==0}function n7(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function ny(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function lz(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),u=o((e+r)/2),h=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),y=o((r-e)/2);switch(i){case"XYX":n.set(a*u,l*h,l*p,a*c);break;case"YZY":n.set(l*p,a*u,l*h,a*c);break;case"ZXZ":n.set(l*h,l*p,a*u,a*c);break;case"XZX":n.set(a*u,l*y,l*m,a*c);break;case"YXY":n.set(l*m,a*u,l*y,a*c);break;case"ZYZ":n.set(l*y,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ua(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function un(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var v0=Object.freeze({__proto__:null,DEG2RAD:pu,RAD2DEG:Mp,generateUUID:us,clamp:rr,euclideanModulo:NM,mapLinear:YF,inverseLerp:JF,lerp:B0,damp:QF,pingpong:ZF,smoothstep:ez,smootherstep:tz,randInt:nz,randFloat:rz,randFloatSpread:iz,seededRandom:sz,degToRad:oz,radToDeg:az,isPowerOfTwo:u3,ceilPowerOfTwo:n7,floorPowerOfTwo:ny,setQuaternionFromProperEuler:lz,normalize:un,denormalize:Ua});class Le{constructor(e=0,t=0){Le.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class wi{constructor(){wi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],h=r[7],p=r[2],m=r[5],y=r[8],g=i[0],x=i[3],v=i[6],b=i[1],w=i[4],A=i[7],T=i[2],D=i[5],O=i[8];return s[0]=o*g+a*b+l*T,s[3]=o*x+a*w+l*D,s[6]=o*v+a*A+l*O,s[1]=c*g+u*b+h*T,s[4]=c*x+u*w+h*D,s[7]=c*v+u*A+h*O,s[2]=p*g+m*b+y*T,s[5]=p*x+m*w+y*D,s[8]=p*v+m*A+y*O,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=u*o-a*c,p=a*l-u*s,m=c*s-o*l,y=t*h+r*p+i*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/y;return e[0]=h*g,e[1]=(i*c-u*r)*g,e[2]=(a*r-i*o)*g,e[3]=p*g,e[4]=(u*t-i*l)*g,e[5]=(i*s-a*t)*g,e[6]=m*g,e[7]=(r*l-c*t)*g,e[8]=(o*t-r*s)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(gb.makeScale(e,t)),this}rotate(e){return this.premultiply(gb.makeRotation(-e)),this}translate(e,t){return this.premultiply(gb.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const gb=new wi;function r7(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const cz={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function rh(n,e){return new cz[n](e)}function Ep(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function mu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function f1(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const xb={[fo]:{[Dh]:mu},[Dh]:{[fo]:f1}},Jr={legacyMode:!0,get workingColorSpace(){return Dh},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(xb[e]&&xb[e][t]!==void 0){const r=xb[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},i7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},pr={r:0,g:0,b:0},no={h:0,s:0,l:0},Hg={h:0,s:0,l:0};function yb(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Wg(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class et{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=fo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Jr.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Jr.workingColorSpace){return this.r=e,this.g=t,this.b=r,Jr.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Jr.workingColorSpace){if(e=NM(e,1),t=rr(t,0,1),r=rr(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=yb(o,s,e+1/3),this.g=yb(o,s,e),this.b=yb(o,s,e-1/3)}return Jr.toWorkingColorSpace(this,i),this}setStyle(e,t=fo){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Jr.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Jr.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,u=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,c,u,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Jr.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Jr.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=fo){const r=i7[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=mu(e.r),this.g=mu(e.g),this.b=mu(e.b),this}copyLinearToSRGB(e){return this.r=f1(e.r),this.g=f1(e.g),this.b=f1(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=fo){return Jr.fromWorkingColorSpace(Wg(this,pr),e),rr(pr.r*255,0,255)<<16^rr(pr.g*255,0,255)<<8^rr(pr.b*255,0,255)<<0}getHexString(e=fo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Jr.workingColorSpace){Jr.fromWorkingColorSpace(Wg(this,pr),t);const r=pr.r,i=pr.g,s=pr.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=u<=.5?h/(o+a):h/(2-o-a),o){case r:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-r)/h+2;break;case s:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=Jr.workingColorSpace){return Jr.fromWorkingColorSpace(Wg(this,pr),t),e.r=pr.r,e.g=pr.g,e.b=pr.b,e}getStyle(e=fo){return Jr.fromWorkingColorSpace(Wg(this,pr),e),e!==fo?`color(${e} ${pr.r} ${pr.g} ${pr.b})`:`rgb(${pr.r*255|0},${pr.g*255|0},${pr.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(no),no.h+=e,no.s+=t,no.l+=r,this.setHSL(no.h,no.s,no.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(no),e.getHSL(Hg);const r=B0(no.h,Hg.h,t),i=B0(no.s,Hg.s,t),s=B0(no.l,Hg.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}et.NAMES=i7;let df;class DM{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{df===void 0&&(df=Ep("canvas")),df.width=e.width,df.height=e.height;const r=df.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=df}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Ep("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=mu(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(mu(t[r]/255)*255):t[r]=mu(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class su{constructor(e=null){this.isSource=!0,this.uuid=us(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(vb(i[o].image)):s.push(vb(i[o]))}else s=vb(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function vb(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?DM.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let uz=0;class qn extends ua{constructor(e=qn.DEFAULT_IMAGE,t=qn.DEFAULT_MAPPING,r=ei,i=ei,s=nr,o=tc,a=Di,l=Xa,c=qn.DEFAULT_ANISOTROPY,u=Ka){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:uz++}),this.uuid=us(),this.name="",this.source=new su(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Le(0,0),this.repeat=new Le(1,1),this.center=new Le(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new wi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ev)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case yp:e.x=e.x-Math.floor(e.x);break;case ei:e.x=e.x<0?0:1;break;case vp:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case yp:e.y=e.y-Math.floor(e.y);break;case ei:e.y=e.y<0?0:1;break;case vp:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}qn.DEFAULT_IMAGE=null;qn.DEFAULT_MAPPING=ev;qn.DEFAULT_ANISOTROPY=1;class qt{constructor(e=0,t=0,r=0,i=1){qt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],h=l[8],p=l[1],m=l[5],y=l[9],g=l[2],x=l[6],v=l[10];if(Math.abs(u-p)<.01&&Math.abs(h-g)<.01&&Math.abs(y-x)<.01){if(Math.abs(u+p)<.1&&Math.abs(h+g)<.1&&Math.abs(y+x)<.1&&Math.abs(c+m+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(c+1)/2,A=(m+1)/2,T=(v+1)/2,D=(u+p)/4,O=(h+g)/4,C=(y+x)/4;return w>A&&w>T?w<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(w),i=D/r,s=O/r):A>T?A<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(A),r=D/i,s=C/i):T<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(T),r=O/s,i=C/s),this.set(r,i,s,t),this}let b=Math.sqrt((x-y)*(x-y)+(h-g)*(h-g)+(p-u)*(p-u));return Math.abs(b)<.001&&(b=1),this.x=(x-y)/b,this.y=(h-g)/b,this.z=(p-u)/b,this.w=Math.acos((c+m+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class js extends ua{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new qt(0,0,e,t),this.scissorTest=!1,this.viewport=new qt(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new qn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:nr,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new su(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class am extends qn{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Zn,this.minFilter=Zn,this.wrapR=ei,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class fz extends js{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new am(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class nv extends qn{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Zn,this.minFilter=Zn,this.wrapR=ei,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class hz extends js{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new nv(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class dz extends js{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class ii{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],h=r[i+3];const p=s[o+0],m=s[o+1],y=s[o+2],g=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=y,e[t+3]=g;return}if(h!==g||l!==p||c!==m||u!==y){let x=1-a;const v=l*p+c*m+u*y+h*g,b=v>=0?1:-1,w=1-v*v;if(w>Number.EPSILON){const T=Math.sqrt(w),D=Math.atan2(T,v*b);x=Math.sin(x*D)/T,a=Math.sin(a*D)/T}const A=a*b;if(l=l*x+p*A,c=c*x+m*A,u=u*x+y*A,h=h*x+g*A,x===1-a){const T=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=T,c*=T,u*=T,h*=T}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],h=s[o],p=s[o+1],m=s[o+2],y=s[o+3];return e[t]=a*y+u*h+l*m-c*p,e[t+1]=l*y+u*p+c*h-a*m,e[t+2]=c*y+u*m+a*p-l*h,e[t+3]=u*y-a*h-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),h=a(s/2),p=l(r/2),m=l(i/2),y=l(s/2);switch(o){case"XYZ":this._x=p*u*h+c*m*y,this._y=c*m*h-p*u*y,this._z=c*u*y+p*m*h,this._w=c*u*h-p*m*y;break;case"YXZ":this._x=p*u*h+c*m*y,this._y=c*m*h-p*u*y,this._z=c*u*y-p*m*h,this._w=c*u*h+p*m*y;break;case"ZXY":this._x=p*u*h-c*m*y,this._y=c*m*h+p*u*y,this._z=c*u*y+p*m*h,this._w=c*u*h-p*m*y;break;case"ZYX":this._x=p*u*h-c*m*y,this._y=c*m*h+p*u*y,this._z=c*u*y-p*m*h,this._w=c*u*h+p*m*y;break;case"YZX":this._x=p*u*h+c*m*y,this._y=c*m*h+p*u*y,this._z=c*u*y-p*m*h,this._w=c*u*h-p*m*y;break;case"XZY":this._x=p*u*h-c*m*y,this._y=c*m*h-p*u*y,this._z=c*u*y+p*m*h,this._w=c*u*h+p*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],h=t[10],p=r+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>h){const m=2*Math.sqrt(1+r-a-h);this._w=(u-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>h){const m=2*Math.sqrt(1+a-r-h);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+h-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(rr(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),h=Math.sin((1-t)*u)/c,p=Math.sin(t*u)/c;return this._w=o*h+this._w*p,this._x=r*h+this._x*p,this._y=i*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ee{constructor(e=0,t=0,r=0){ee.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(uC.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(uC.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*i-a*r,u=l*r+a*t-s*i,h=l*i+s*r-o*t,p=-s*t-o*r-a*i;return this.x=c*l+p*-s+u*-a-h*-o,this.y=u*l+p*-o+h*-s-c*-a,this.z=h*l+p*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return _b.copy(this).projectOnVector(e),this.sub(_b)}reflect(e){return this.sub(_b.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(rr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _b=new ee,uC=new ii;class uc{constructor(e=new ee(1/0,1/0,1/0),t=new ee(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],h=e[l+1],p=e[l+2];u<t&&(t=u),h<r&&(r=h),p<i&&(i=p),u>s&&(s=u),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),h=e.getY(l),p=e.getZ(l);u<t&&(t=u),h<r&&(r=h),p<i&&(i=p),u>s&&(s=u),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Pc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Pc.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Pc)}else r.boundingBox===null&&r.computeBoundingBox(),bb.copy(r.boundingBox),bb.applyMatrix4(e.matrixWorld),this.union(bb);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Pc),Pc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Wd),Gg.subVectors(this.max,Wd),pf.subVectors(e.a,Wd),mf.subVectors(e.b,Wd),gf.subVectors(e.c,Wd),dl.subVectors(mf,pf),pl.subVectors(gf,mf),Rc.subVectors(pf,gf);let t=[0,-dl.z,dl.y,0,-pl.z,pl.y,0,-Rc.z,Rc.y,dl.z,0,-dl.x,pl.z,0,-pl.x,Rc.z,0,-Rc.x,-dl.y,dl.x,0,-pl.y,pl.x,0,-Rc.y,Rc.x,0];return!wb(t,pf,mf,gf,Gg)||(t=[1,0,0,0,1,0,0,0,1],!wb(t,pf,mf,gf,Gg))?!1:(jg.crossVectors(dl,pl),t=[jg.x,jg.y,jg.z],wb(t,pf,mf,gf,Gg))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Pc.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Pc).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ba[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ba[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ba[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ba[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ba[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ba[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ba[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ba[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ba),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ba=[new ee,new ee,new ee,new ee,new ee,new ee,new ee,new ee],Pc=new ee,bb=new uc,pf=new ee,mf=new ee,gf=new ee,dl=new ee,pl=new ee,Rc=new ee,Wd=new ee,Gg=new ee,jg=new ee,Ic=new ee;function wb(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Ic.fromArray(n,s);const a=i.x*Math.abs(Ic.x)+i.y*Math.abs(Ic.y)+i.z*Math.abs(Ic.z),l=e.dot(Ic),c=t.dot(Ic),u=r.dot(Ic);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const pz=new uc,Gd=new ee,Sb=new ee;class Uu{constructor(e=new ee,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):pz.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Gd.subVectors(e,this.center);const t=Gd.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(Gd,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Sb.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Gd.copy(e.center).add(Sb)),this.expandByPoint(Gd.copy(e.center).sub(Sb))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const wa=new ee,Mb=new ee,qg=new ee,ml=new ee,Eb=new ee,Xg=new ee,Ab=new ee;class lm{constructor(e=new ee,t=new ee(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,wa)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=wa.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(wa.copy(this.direction).multiplyScalar(t).add(this.origin),wa.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){Mb.copy(e).add(t).multiplyScalar(.5),qg.copy(t).sub(e).normalize(),ml.copy(this.origin).sub(Mb);const s=e.distanceTo(t)*.5,o=-this.direction.dot(qg),a=ml.dot(this.direction),l=-ml.dot(qg),c=ml.lengthSq(),u=Math.abs(1-o*o);let h,p,m,y;if(u>0)if(h=o*l-a,p=o*a-l,y=s*u,h>=0)if(p>=-y)if(p<=y){const g=1/u;h*=g,p*=g,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+c}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p<=-y?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c):p<=y?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(h).add(this.origin),i&&i.copy(qg).multiplyScalar(p).add(Mb),m}intersectSphere(e,t){wa.subVectors(e.center,this.origin);const r=wa.dot(this.direction),i=wa.dot(wa)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),u>=0?(s=(e.min.y-p.y)*u,o=(e.max.y-p.y)*u):(s=(e.max.y-p.y)*u,o=(e.min.y-p.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,wa)!==null}intersectTriangle(e,t,r,i,s){Eb.subVectors(t,e),Xg.subVectors(r,e),Ab.crossVectors(Eb,Xg);let o=this.direction.dot(Ab),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;ml.subVectors(this.origin,e);const l=a*this.direction.dot(Xg.crossVectors(ml,Xg));if(l<0)return null;const c=a*this.direction.dot(Eb.cross(ml));if(c<0||l+c>o)return null;const u=-a*ml.dot(Ab);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Tt{constructor(){Tt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,c,u,h,p,m,y,g,x){const v=this.elements;return v[0]=e,v[4]=t,v[8]=r,v[12]=i,v[1]=s,v[5]=o,v[9]=a,v[13]=l,v[2]=c,v[6]=u,v[10]=h,v[14]=p,v[3]=m,v[7]=y,v[11]=g,v[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Tt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/xf.setFromMatrixColumn(e,0).length(),s=1/xf.setFromMatrixColumn(e,1).length(),o=1/xf.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*u,m=o*h,y=a*u,g=a*h;t[0]=l*u,t[4]=-l*h,t[8]=c,t[1]=m+y*c,t[5]=p-g*c,t[9]=-a*l,t[2]=g-p*c,t[6]=y+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*u,m=l*h,y=c*u,g=c*h;t[0]=p+g*a,t[4]=y*a-m,t[8]=o*c,t[1]=o*h,t[5]=o*u,t[9]=-a,t[2]=m*a-y,t[6]=g+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*u,m=l*h,y=c*u,g=c*h;t[0]=p-g*a,t[4]=-o*h,t[8]=y+m*a,t[1]=m+y*a,t[5]=o*u,t[9]=g-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*u,m=o*h,y=a*u,g=a*h;t[0]=l*u,t[4]=y*c-m,t[8]=p*c+g,t[1]=l*h,t[5]=g*c+p,t[9]=m*c-y,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,y=a*l,g=a*c;t[0]=l*u,t[4]=g-p*h,t[8]=y*h+m,t[1]=h,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=m*h+y,t[10]=p-g*h}else if(e.order==="XZY"){const p=o*l,m=o*c,y=a*l,g=a*c;t[0]=l*u,t[4]=-h,t[8]=c*u,t[1]=p*h+g,t[5]=o*u,t[9]=m*h-y,t[2]=y*h-m,t[6]=a*u,t[10]=g*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(mz,e,gz)}lookAt(e,t,r){const i=this.elements;return Zi.subVectors(e,t),Zi.lengthSq()===0&&(Zi.z=1),Zi.normalize(),gl.crossVectors(r,Zi),gl.lengthSq()===0&&(Math.abs(r.z)===1?Zi.x+=1e-4:Zi.z+=1e-4,Zi.normalize(),gl.crossVectors(r,Zi)),gl.normalize(),Kg.crossVectors(Zi,gl),i[0]=gl.x,i[4]=Kg.x,i[8]=Zi.x,i[1]=gl.y,i[5]=Kg.y,i[9]=Zi.y,i[2]=gl.z,i[6]=Kg.z,i[10]=Zi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],h=r[5],p=r[9],m=r[13],y=r[2],g=r[6],x=r[10],v=r[14],b=r[3],w=r[7],A=r[11],T=r[15],D=i[0],O=i[4],C=i[8],B=i[12],G=i[1],Y=i[5],oe=i[9],V=i[13],S=i[2],L=i[6],z=i[10],q=i[14],F=i[3],X=i[7],$=i[11],P=i[15];return s[0]=o*D+a*G+l*S+c*F,s[4]=o*O+a*Y+l*L+c*X,s[8]=o*C+a*oe+l*z+c*$,s[12]=o*B+a*V+l*q+c*P,s[1]=u*D+h*G+p*S+m*F,s[5]=u*O+h*Y+p*L+m*X,s[9]=u*C+h*oe+p*z+m*$,s[13]=u*B+h*V+p*q+m*P,s[2]=y*D+g*G+x*S+v*F,s[6]=y*O+g*Y+x*L+v*X,s[10]=y*C+g*oe+x*z+v*$,s[14]=y*B+g*V+x*q+v*P,s[3]=b*D+w*G+A*S+T*F,s[7]=b*O+w*Y+A*L+T*X,s[11]=b*C+w*oe+A*z+T*$,s[15]=b*B+w*V+A*q+T*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],h=e[6],p=e[10],m=e[14],y=e[3],g=e[7],x=e[11],v=e[15];return y*(+s*l*h-i*c*h-s*a*p+r*c*p+i*a*m-r*l*m)+g*(+t*l*m-t*c*p+s*o*p-i*o*m+i*c*u-s*l*u)+x*(+t*c*h-t*a*m-s*o*h+r*o*m+s*a*u-r*c*u)+v*(-i*a*u-t*l*h+t*a*p+i*o*h-r*o*p+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=e[9],p=e[10],m=e[11],y=e[12],g=e[13],x=e[14],v=e[15],b=h*x*c-g*p*c+g*l*m-a*x*m-h*l*v+a*p*v,w=y*p*c-u*x*c-y*l*m+o*x*m+u*l*v-o*p*v,A=u*g*c-y*h*c+y*a*m-o*g*m-u*a*v+o*h*v,T=y*h*l-u*g*l-y*a*p+o*g*p+u*a*x-o*h*x,D=t*b+r*w+i*A+s*T;if(D===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const O=1/D;return e[0]=b*O,e[1]=(g*p*s-h*x*s-g*i*m+r*x*m+h*i*v-r*p*v)*O,e[2]=(a*x*s-g*l*s+g*i*c-r*x*c-a*i*v+r*l*v)*O,e[3]=(h*l*s-a*p*s-h*i*c+r*p*c+a*i*m-r*l*m)*O,e[4]=w*O,e[5]=(u*x*s-y*p*s+y*i*m-t*x*m-u*i*v+t*p*v)*O,e[6]=(y*l*s-o*x*s-y*i*c+t*x*c+o*i*v-t*l*v)*O,e[7]=(o*p*s-u*l*s+u*i*c-t*p*c-o*i*m+t*l*m)*O,e[8]=A*O,e[9]=(y*h*s-u*g*s-y*r*m+t*g*m+u*r*v-t*h*v)*O,e[10]=(o*g*s-y*a*s+y*r*c-t*g*c-o*r*v+t*a*v)*O,e[11]=(u*a*s-o*h*s-u*r*c+t*h*c+o*r*m-t*a*m)*O,e[12]=T*O,e[13]=(u*g*i-y*h*i+y*r*p-t*g*p-u*r*x+t*h*x)*O,e[14]=(y*a*i-o*g*i-y*r*l+t*g*l+o*r*x-t*a*x)*O,e[15]=(o*h*i-u*a*i+u*r*l-t*h*l-o*r*p+t*a*p)*O,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,h=a+a,p=s*c,m=s*u,y=s*h,g=o*u,x=o*h,v=a*h,b=l*c,w=l*u,A=l*h,T=r.x,D=r.y,O=r.z;return i[0]=(1-(g+v))*T,i[1]=(m+A)*T,i[2]=(y-w)*T,i[3]=0,i[4]=(m-A)*D,i[5]=(1-(p+v))*D,i[6]=(x+b)*D,i[7]=0,i[8]=(y+w)*O,i[9]=(x-b)*O,i[10]=(1-(p+g))*O,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=xf.set(i[0],i[1],i[2]).length();const o=xf.set(i[4],i[5],i[6]).length(),a=xf.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],ro.copy(this);const c=1/s,u=1/o,h=1/a;return ro.elements[0]*=c,ro.elements[1]*=c,ro.elements[2]*=c,ro.elements[4]*=u,ro.elements[5]*=u,ro.elements[6]*=u,ro.elements[8]*=h,ro.elements[9]*=h,ro.elements[10]*=h,t.setFromRotationMatrix(ro),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(r-i),u=(t+e)/(t-e),h=(r+i)/(r-i),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),c=1/(r-i),u=1/(o-s),h=(t+e)*l,p=(r+i)*c,m=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const xf=new ee,ro=new Tt,mz=new ee(0,0,0),gz=new ee(1,1,1),gl=new ee,Kg=new ee,Zi=new ee,fC=new Tt,hC=new ii;class rd{constructor(e=0,t=0,r=0,i=rd.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],h=i[2],p=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(rr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-rr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(rr(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-rr(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(rr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-rr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return fC.makeRotationFromQuaternion(e),this.setFromRotationMatrix(fC,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return hC.setFromEuler(this),this.setFromQuaternion(hC,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}rd.DefaultOrder="XYZ";rd.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class gu{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let xz=0;const dC=new ee,yf=new ii,Sa=new Tt,$g=new ee,jd=new ee,yz=new ee,vz=new ii,pC=new ee(1,0,0),mC=new ee(0,1,0),gC=new ee(0,0,1),_z={type:"added"},xC={type:"removed"};class Jt extends ua{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:xz++}),this.uuid=us(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Jt.DefaultUp.clone();const e=new ee,t=new rd,r=new ii,i=new ee(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Tt},normalMatrix:{value:new wi}}),this.matrix=new Tt,this.matrixWorld=new Tt,this.matrixAutoUpdate=Jt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Jt.DefaultMatrixWorldAutoUpdate,this.layers=new gu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return yf.setFromAxisAngle(e,t),this.quaternion.multiply(yf),this}rotateOnWorldAxis(e,t){return yf.setFromAxisAngle(e,t),this.quaternion.premultiply(yf),this}rotateX(e){return this.rotateOnAxis(pC,e)}rotateY(e){return this.rotateOnAxis(mC,e)}rotateZ(e){return this.rotateOnAxis(gC,e)}translateOnAxis(e,t){return dC.copy(e).applyQuaternion(this.quaternion),this.position.add(dC.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(pC,e)}translateY(e){return this.translateOnAxis(mC,e)}translateZ(e){return this.translateOnAxis(gC,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Sa.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?$g.copy(e):$g.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),jd.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Sa.lookAt(jd,$g,this.up):Sa.lookAt($g,jd,this.up),this.quaternion.setFromRotationMatrix(Sa),i&&(Sa.extractRotation(i.matrixWorld),yf.setFromRotationMatrix(Sa),this.quaternion.premultiply(yf.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(_z)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(xC)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(xC)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Sa.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Sa.multiply(e.parent.matrixWorld)),e.applyMatrix4(Sa),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(jd,e,yz),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(jd,vz,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),y=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),h.length>0&&(r.shapes=h),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),y.length>0&&(r.nodes=y)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Jt.DefaultUp=new ee(0,1,0);Jt.DefaultMatrixAutoUpdate=!0;Jt.DefaultMatrixWorldAutoUpdate=!0;const io=new ee,Ma=new ee,Cb=new ee,Ea=new ee,vf=new ee,_f=new ee,yC=new ee,Tb=new ee,Pb=new ee,Rb=new ee;class Bs{constructor(e=new ee,t=new ee,r=new ee){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),io.subVectors(e,t),i.cross(io);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){io.subVectors(i,t),Ma.subVectors(r,t),Cb.subVectors(e,t);const o=io.dot(io),a=io.dot(Ma),l=io.dot(Cb),c=Ma.dot(Ma),u=Ma.dot(Cb),h=o*c-a*a;if(h===0)return s.set(-2,-1,-1);const p=1/h,m=(c*l-a*u)*p,y=(o*u-a*l)*p;return s.set(1-m-y,y,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Ea),Ea.x>=0&&Ea.y>=0&&Ea.x+Ea.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,Ea),l.set(0,0),l.addScaledVector(s,Ea.x),l.addScaledVector(o,Ea.y),l.addScaledVector(a,Ea.z),l}static isFrontFacing(e,t,r,i){return io.subVectors(r,t),Ma.subVectors(e,t),io.cross(Ma).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return io.subVectors(this.c,this.b),Ma.subVectors(this.a,this.b),io.cross(Ma).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Bs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Bs.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return Bs.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Bs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Bs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;vf.subVectors(i,r),_f.subVectors(s,r),Tb.subVectors(e,r);const l=vf.dot(Tb),c=_f.dot(Tb);if(l<=0&&c<=0)return t.copy(r);Pb.subVectors(e,i);const u=vf.dot(Pb),h=_f.dot(Pb);if(u>=0&&h<=u)return t.copy(i);const p=l*h-u*c;if(p<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(vf,o);Rb.subVectors(e,s);const m=vf.dot(Rb),y=_f.dot(Rb);if(y>=0&&m<=y)return t.copy(s);const g=m*c-l*y;if(g<=0&&c>=0&&y<=0)return a=c/(c-y),t.copy(r).addScaledVector(_f,a);const x=u*y-m*h;if(x<=0&&h-u>=0&&m-y>=0)return yC.subVectors(s,i),a=(h-u)/(h-u+(m-y)),t.copy(i).addScaledVector(yC,a);const v=1/(x+g+p);return o=g*v,a=p*v,t.copy(r).addScaledVector(vf,o).addScaledVector(_f,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let bz=0;class zr extends ua{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:bz++}),this.uuid=us(),this.name="",this.type="Material",this.blending=hu,this.side=Ql,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=TM,this.blendDst=PM,this.blendEquation=$c,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Z1,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=t7,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=u1,this.stencilZFail=u1,this.stencilZPass=u1,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==hu&&(r.blending=this.blending),this.side!==Ql&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class fc extends zr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=om,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const lr=new ee,Yg=new Le;class hn{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=Sp,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Yg.fromBufferAttribute(this,t),Yg.applyMatrix3(e),this.setXY(t,Yg.x,Yg.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)lr.fromBufferAttribute(this,t),lr.applyMatrix3(e),this.setXYZ(t,lr.x,lr.y,lr.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)lr.fromBufferAttribute(this,t),lr.applyMatrix4(e),this.setXYZ(t,lr.x,lr.y,lr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)lr.fromBufferAttribute(this,t),lr.applyNormalMatrix(e),this.setXYZ(t,lr.x,lr.y,lr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)lr.fromBufferAttribute(this,t),lr.transformDirection(e),this.setXYZ(t,lr.x,lr.y,lr.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ua(t,this.array)),t}setX(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ua(t,this.array)),t}setY(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ua(t,this.array)),t}setZ(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ua(t,this.array)),t}setW(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),r=un(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),r=un(r,this.array),i=un(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),r=un(r,this.array),i=un(i,this.array),s=un(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Sp&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class wz extends hn{constructor(e,t,r){super(new Int8Array(e),t,r)}}class Sz extends hn{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class Mz extends hn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class Ez extends hn{constructor(e,t,r){super(new Int16Array(e),t,r)}}class OM extends hn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class Az extends hn{constructor(e,t,r){super(new Int32Array(e),t,r)}}class BM extends hn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Cz extends hn{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}}class ut extends hn{constructor(e,t,r){super(new Float32Array(e),t,r)}}class Tz extends hn{constructor(e,t,r){super(new Float64Array(e),t,r)}}let Pz=0;const Cs=new Tt,Ib=new Jt,bf=new ee,es=new uc,qd=new uc,Ar=new ee;class Lt extends ua{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Pz++}),this.uuid=us(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(r7(e)?BM:OM)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new wi().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Cs.makeRotationFromQuaternion(e),this.applyMatrix4(Cs),this}rotateX(e){return Cs.makeRotationX(e),this.applyMatrix4(Cs),this}rotateY(e){return Cs.makeRotationY(e),this.applyMatrix4(Cs),this}rotateZ(e){return Cs.makeRotationZ(e),this.applyMatrix4(Cs),this}translate(e,t,r){return Cs.makeTranslation(e,t,r),this.applyMatrix4(Cs),this}scale(e,t,r){return Cs.makeScale(e,t,r),this.applyMatrix4(Cs),this}lookAt(e){return Ib.lookAt(e),Ib.updateMatrix(),this.applyMatrix4(Ib.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(bf).negate(),this.translate(bf.x,bf.y,bf.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new ut(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new uc);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ee(-1/0,-1/0,-1/0),new ee(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];es.setFromBufferAttribute(s),this.morphTargetsRelative?(Ar.addVectors(this.boundingBox.min,es.min),this.boundingBox.expandByPoint(Ar),Ar.addVectors(this.boundingBox.max,es.max),this.boundingBox.expandByPoint(Ar)):(this.boundingBox.expandByPoint(es.min),this.boundingBox.expandByPoint(es.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Uu);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ee,1/0);return}if(e){const r=this.boundingSphere.center;if(es.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];qd.setFromBufferAttribute(a),this.morphTargetsRelative?(Ar.addVectors(es.min,qd.min),es.expandByPoint(Ar),Ar.addVectors(es.max,qd.max),es.expandByPoint(Ar)):(es.expandByPoint(qd.min),es.expandByPoint(qd.max))}es.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Ar.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Ar));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Ar.fromBufferAttribute(a,c),l&&(bf.fromBufferAttribute(e,c),Ar.add(bf)),i=Math.max(i,r.distanceToSquared(Ar))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new hn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let G=0;G<a;G++)c[G]=new ee,u[G]=new ee;const h=new ee,p=new ee,m=new ee,y=new Le,g=new Le,x=new Le,v=new ee,b=new ee;function w(G,Y,oe){h.fromArray(i,G*3),p.fromArray(i,Y*3),m.fromArray(i,oe*3),y.fromArray(o,G*2),g.fromArray(o,Y*2),x.fromArray(o,oe*2),p.sub(h),m.sub(h),g.sub(y),x.sub(y);const V=1/(g.x*x.y-x.x*g.y);isFinite(V)&&(v.copy(p).multiplyScalar(x.y).addScaledVector(m,-g.y).multiplyScalar(V),b.copy(m).multiplyScalar(g.x).addScaledVector(p,-x.x).multiplyScalar(V),c[G].add(v),c[Y].add(v),c[oe].add(v),u[G].add(b),u[Y].add(b),u[oe].add(b))}let A=this.groups;A.length===0&&(A=[{start:0,count:r.length}]);for(let G=0,Y=A.length;G<Y;++G){const oe=A[G],V=oe.start,S=oe.count;for(let L=V,z=V+S;L<z;L+=3)w(r[L+0],r[L+1],r[L+2])}const T=new ee,D=new ee,O=new ee,C=new ee;function B(G){O.fromArray(s,G*3),C.copy(O);const Y=c[G];T.copy(Y),T.sub(O.multiplyScalar(O.dot(Y))).normalize(),D.crossVectors(C,Y);const V=D.dot(u[G])<0?-1:1;l[G*4]=T.x,l[G*4+1]=T.y,l[G*4+2]=T.z,l[G*4+3]=V}for(let G=0,Y=A.length;G<Y;++G){const oe=A[G],V=oe.start,S=oe.count;for(let L=V,z=V+S;L<z;L+=3)B(r[L+0]),B(r[L+1]),B(r[L+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new hn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new ee,s=new ee,o=new ee,a=new ee,l=new ee,c=new ee,u=new ee,h=new ee;if(e)for(let p=0,m=e.count;p<m;p+=3){const y=e.getX(p+0),g=e.getX(p+1),x=e.getX(p+2);i.fromBufferAttribute(t,y),s.fromBufferAttribute(t,g),o.fromBufferAttribute(t,x),u.subVectors(o,s),h.subVectors(i,s),u.cross(h),a.fromBufferAttribute(r,y),l.fromBufferAttribute(r,g),c.fromBufferAttribute(r,x),a.add(u),l.add(u),c.add(u),r.setXYZ(y,a.x,a.y,a.z),r.setXYZ(g,l.x,l.y,l.z),r.setXYZ(x,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),u.subVectors(o,s),h.subVectors(i,s),u.cross(h),r.setXYZ(p+0,u.x,u.y,u.z),r.setXYZ(p+1,u.x,u.y,u.z),r.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Ar.fromBufferAttribute(e,t),Ar.normalize(),e.setXYZ(t,Ar.x,Ar.y,Ar.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,h=a.normalized,p=new c.constructor(l.length*u);let m=0,y=0;for(let g=0,x=l.length;g<x;g++){a.isInterleavedBufferAttribute?m=l[g]*a.data.stride+a.offset:m=l[g]*u;for(let v=0;v<u;v++)p[y++]=c[m++]}return new hn(p,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Lt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,h=c.length;u<h;u++){const p=c[u],m=e(p,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,p=c.length;h<p;h++){const m=c[h];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],h=s[c];for(let p=0,m=h.length;p<m;p++)u.push(h[p].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const vC=new Tt,wf=new lm,kb=new Uu,Xd=new ee,Kd=new ee,$d=new ee,Lb=new ee,Jg=new ee,Qg=new Le,Zg=new Le,ex=new Le,Nb=new ee,tx=new ee;class Or extends Jt{constructor(e=new Lt,t=new fc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){Jg.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],h=s[l];u!==0&&(Lb.fromBufferAttribute(h,e),o?Jg.addScaledVector(Lb,u):Jg.addScaledVector(Lb.sub(t),u))}t.add(Jg)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),kb.copy(r.boundingSphere),kb.applyMatrix4(s),e.ray.intersectsSphere(kb)===!1)||(vC.copy(s).invert(),wf.copy(e.ray).applyMatrix4(vC),r.boundingBox!==null&&wf.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,c=r.attributes.uv,u=r.attributes.uv2,h=r.groups,p=r.drawRange;if(a!==null)if(Array.isArray(i))for(let m=0,y=h.length;m<y;m++){const g=h[m],x=i[g.materialIndex],v=Math.max(g.start,p.start),b=Math.min(a.count,Math.min(g.start+g.count,p.start+p.count));for(let w=v,A=b;w<A;w+=3){const T=a.getX(w),D=a.getX(w+1),O=a.getX(w+2);o=nx(this,x,e,wf,c,u,T,D,O),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=g.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),y=Math.min(a.count,p.start+p.count);for(let g=m,x=y;g<x;g+=3){const v=a.getX(g),b=a.getX(g+1),w=a.getX(g+2);o=nx(this,i,e,wf,c,u,v,b,w),o&&(o.faceIndex=Math.floor(g/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let m=0,y=h.length;m<y;m++){const g=h[m],x=i[g.materialIndex],v=Math.max(g.start,p.start),b=Math.min(l.count,Math.min(g.start+g.count,p.start+p.count));for(let w=v,A=b;w<A;w+=3){const T=w,D=w+1,O=w+2;o=nx(this,x,e,wf,c,u,T,D,O),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=g.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),y=Math.min(l.count,p.start+p.count);for(let g=m,x=y;g<x;g+=3){const v=g,b=g+1,w=g+2;o=nx(this,i,e,wf,c,u,v,b,w),o&&(o.faceIndex=Math.floor(g/3),t.push(o))}}}}function Rz(n,e,t,r,i,s,o,a){let l;if(e.side===cs?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Ql,a),l===null)return null;tx.copy(a),tx.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(tx);return c<t.near||c>t.far?null:{distance:c,point:tx.clone(),object:n}}function nx(n,e,t,r,i,s,o,a,l){n.getVertexPosition(o,Xd),n.getVertexPosition(a,Kd),n.getVertexPosition(l,$d);const c=Rz(n,e,t,r,Xd,Kd,$d,Nb);if(c){i&&(Qg.fromBufferAttribute(i,o),Zg.fromBufferAttribute(i,a),ex.fromBufferAttribute(i,l),c.uv=Bs.getUV(Nb,Xd,Kd,$d,Qg,Zg,ex,new Le)),s&&(Qg.fromBufferAttribute(s,o),Zg.fromBufferAttribute(s,a),ex.fromBufferAttribute(s,l),c.uv2=Bs.getUV(Nb,Xd,Kd,$d,Qg,Zg,ex,new Le));const u={a:o,b:a,c:l,normal:new ee,materialIndex:0};Bs.getNormal(Xd,Kd,$d,u.normal),c.face=u}return c}class hc extends Lt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],h=[];let p=0,m=0;y("z","y","x",-1,-1,r,t,e,o,s,0),y("z","y","x",1,-1,r,t,-e,o,s,1),y("x","z","y",1,1,e,r,t,i,o,2),y("x","z","y",1,-1,e,r,-t,i,o,3),y("x","y","z",1,-1,e,t,r,i,s,4),y("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new ut(c,3)),this.setAttribute("normal",new ut(u,3)),this.setAttribute("uv",new ut(h,2));function y(g,x,v,b,w,A,T,D,O,C,B){const G=A/O,Y=T/C,oe=A/2,V=T/2,S=D/2,L=O+1,z=C+1;let q=0,F=0;const X=new ee;for(let $=0;$<z;$++){const P=$*Y-V;for(let M=0;M<L;M++){const W=M*G-oe;X[g]=W*b,X[x]=P*w,X[v]=S,c.push(X.x,X.y,X.z),X[g]=0,X[x]=0,X[v]=D>0?1:-1,u.push(X.x,X.y,X.z),h.push(M/O),h.push(1-$/C),q+=1}}for(let $=0;$<C;$++)for(let P=0;P<O;P++){const M=p+P+L*$,W=p+P+L*($+1),Z=p+(P+1)+L*($+1),N=p+(P+1)+L*$;l.push(M,W,N),l.push(W,Z,N),F+=6}a.addGroup(m,F,B),m+=F,p+=q}}static fromJSON(e){return new hc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Oh(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function pi(n){const e={};for(let t=0;t<n.length;t++){const r=Oh(n[t]);for(const i in r)e[i]=r[i]}return e}function Iz(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function s7(n){return n.getRenderTarget()===null&&n.outputEncoding===on?fo:Dh}const o7={clone:Oh,merge:pi};var kz=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Lz=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Mo extends zr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=kz,this.fragmentShader=Lz,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Oh(e.uniforms),this.uniformsGroups=Iz(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class cm extends Jt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Tt,this.projectionMatrix=new Tt,this.projectionMatrixInverse=new Tt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class An extends cm{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Mp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(pu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Mp*2*Math.atan(Math.tan(pu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(pu*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Sf=-90,Mf=1;class a7 extends Jt{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new An(Sf,Mf,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new An(Sf,Mf,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new An(Sf,Mf,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new An(Sf,Mf,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new An(Sf,Mf,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new An(Sf,Mf,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),h=e.toneMapping,p=e.xr.enabled;e.toneMapping=bo,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=h,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class um extends qn{constructor(e,t,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Zl,super(e,t,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class l7 extends js{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new um(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:nr}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new hc(5,5,5),s=new Mo({name:"CubemapFromEquirect",uniforms:Oh(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:cs,blending:Ha});s.uniforms.tEquirect.value=t;const o=new Or(i,s),a=t.minFilter;return t.minFilter===tc&&(t.minFilter=nr),new a7(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const Db=new ee,Nz=new ee,Dz=new wi;class Sl{constructor(e=new ee(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=Db.subVectors(r,t).cross(Nz.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(Db),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||Dz.getNormalMatrix(e),i=this.coplanarPoint(Db).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ef=new Uu,rx=new ee;class rv{constructor(e=new Sl,t=new Sl,r=new Sl,i=new Sl,s=new Sl,o=new Sl){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],u=r[6],h=r[7],p=r[8],m=r[9],y=r[10],g=r[11],x=r[12],v=r[13],b=r[14],w=r[15];return t[0].setComponents(a-i,h-l,g-p,w-x).normalize(),t[1].setComponents(a+i,h+l,g+p,w+x).normalize(),t[2].setComponents(a+s,h+c,g+m,w+v).normalize(),t[3].setComponents(a-s,h-c,g-m,w-v).normalize(),t[4].setComponents(a-o,h-u,g-y,w-b).normalize(),t[5].setComponents(a+o,h+u,g+y,w+b).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Ef.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Ef)}intersectsSprite(e){return Ef.center.set(0,0,0),Ef.radius=.7071067811865476,Ef.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ef)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(rx.x=i.normal.x>0?e.max.x:e.min.x,rx.y=i.normal.y>0?e.max.y:e.min.y,rx.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(rx)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function c7(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function Oz(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const h=c.array,p=c.usage,m=n.createBuffer();n.bindBuffer(u,m),n.bufferData(u,h,p),c.onUploadCallback();let y;if(h instanceof Float32Array)y=5126;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)y=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=5123;else if(h instanceof Int16Array)y=5122;else if(h instanceof Uint32Array)y=5125;else if(h instanceof Int32Array)y=5124;else if(h instanceof Int8Array)y=5120;else if(h instanceof Uint8Array)y=5121;else if(h instanceof Uint8ClampedArray)y=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:m,type:y,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,h){const p=u.array,m=u.updateRange;n.bindBuffer(h,c),m.count===-1?n.bufferSubData(h,0,p):(t?n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const p=r.get(c);(!p||p.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const h=r.get(c);h===void 0?r.set(c,i(c,u)):h.version<c.version&&(s(h.buffer,c,u),h.version=c.version)}return{get:o,remove:a,update:l}}class id extends Lt{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,h=e/a,p=t/l,m=[],y=[],g=[],x=[];for(let v=0;v<u;v++){const b=v*p-o;for(let w=0;w<c;w++){const A=w*h-s;y.push(A,-b,0),g.push(0,0,1),x.push(w/a),x.push(1-v/l)}}for(let v=0;v<l;v++)for(let b=0;b<a;b++){const w=b+c*v,A=b+c*(v+1),T=b+1+c*(v+1),D=b+1+c*v;m.push(w,A,D),m.push(A,T,D)}this.setIndex(m),this.setAttribute("position",new ut(y,3)),this.setAttribute("normal",new ut(g,3)),this.setAttribute("uv",new ut(x,2))}static fromJSON(e){return new id(e.width,e.height,e.widthSegments,e.heightSegments)}}var Bz=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Fz=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,zz=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Uz=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Vz=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Hz=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Wz="vec3 transformed = vec3( position );",Gz=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,jz=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,qz=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Xz=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Kz=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,$z=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Yz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Jz=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Qz=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Zz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,eU=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,tU=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,nU=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,rU=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,iU=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,sU=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,oU=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,aU=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,lU=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,cU="gl_FragColor = linearToOutputTexel( gl_FragColor );",uU=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,fU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,hU=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,dU=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,pU=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,mU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,gU=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,xU=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,yU=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,vU=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,_U=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,bU=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,wU=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,SU=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,MU=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,EU=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,AU=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,CU=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,TU=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,PU=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,RU=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,IU=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,kU=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,LU=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,NU=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,DU=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,OU=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,BU=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,FU=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,zU=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,UU=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,VU=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,HU=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,WU=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,GU=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,jU=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,qU=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,XU=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,KU=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,$U=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,YU=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,JU=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,QU=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ZU=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,eV=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,tV=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,nV=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,rV=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,iV=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,sV=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,oV=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,aV=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,lV=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,cV=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,uV=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,fV=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,hV=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,dV=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,pV=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,mV=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,gV=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,xV=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,yV=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,vV=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,_V=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,bV=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,wV=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,SV=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,MV=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,EV=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,AV=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,CV=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,TV=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,PV=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,RV=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,IV=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,kV=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,LV=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,NV=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const DV=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,OV=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,BV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,FV=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,zV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,UV=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,VV=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,HV=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,WV=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,GV=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,jV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,qV=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,XV=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,KV=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,$V=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,YV=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,JV=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,QV=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ZV=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,eH=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tH=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,nH=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,rH=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,iH=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sH=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,oH=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aH=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lH=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cH=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,uH=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,fH=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hH=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,dH=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,pH=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,It={alphamap_fragment:Bz,alphamap_pars_fragment:Fz,alphatest_fragment:zz,alphatest_pars_fragment:Uz,aomap_fragment:Vz,aomap_pars_fragment:Hz,begin_vertex:Wz,beginnormal_vertex:Gz,bsdfs:jz,iridescence_fragment:qz,bumpmap_pars_fragment:Xz,clipping_planes_fragment:Kz,clipping_planes_pars_fragment:$z,clipping_planes_pars_vertex:Yz,clipping_planes_vertex:Jz,color_fragment:Qz,color_pars_fragment:Zz,color_pars_vertex:eU,color_vertex:tU,common:nU,cube_uv_reflection_fragment:rU,defaultnormal_vertex:iU,displacementmap_pars_vertex:sU,displacementmap_vertex:oU,emissivemap_fragment:aU,emissivemap_pars_fragment:lU,encodings_fragment:cU,encodings_pars_fragment:uU,envmap_fragment:fU,envmap_common_pars_fragment:hU,envmap_pars_fragment:dU,envmap_pars_vertex:pU,envmap_physical_pars_fragment:AU,envmap_vertex:mU,fog_vertex:gU,fog_pars_vertex:xU,fog_fragment:yU,fog_pars_fragment:vU,gradientmap_pars_fragment:_U,lightmap_fragment:bU,lightmap_pars_fragment:wU,lights_lambert_fragment:SU,lights_lambert_pars_fragment:MU,lights_pars_begin:EU,lights_toon_fragment:CU,lights_toon_pars_fragment:TU,lights_phong_fragment:PU,lights_phong_pars_fragment:RU,lights_physical_fragment:IU,lights_physical_pars_fragment:kU,lights_fragment_begin:LU,lights_fragment_maps:NU,lights_fragment_end:DU,logdepthbuf_fragment:OU,logdepthbuf_pars_fragment:BU,logdepthbuf_pars_vertex:FU,logdepthbuf_vertex:zU,map_fragment:UU,map_pars_fragment:VU,map_particle_fragment:HU,map_particle_pars_fragment:WU,metalnessmap_fragment:GU,metalnessmap_pars_fragment:jU,morphcolor_vertex:qU,morphnormal_vertex:XU,morphtarget_pars_vertex:KU,morphtarget_vertex:$U,normal_fragment_begin:YU,normal_fragment_maps:JU,normal_pars_fragment:QU,normal_pars_vertex:ZU,normal_vertex:eV,normalmap_pars_fragment:tV,clearcoat_normal_fragment_begin:nV,clearcoat_normal_fragment_maps:rV,clearcoat_pars_fragment:iV,iridescence_pars_fragment:sV,output_fragment:oV,packing:aV,premultiplied_alpha_fragment:lV,project_vertex:cV,dithering_fragment:uV,dithering_pars_fragment:fV,roughnessmap_fragment:hV,roughnessmap_pars_fragment:dV,shadowmap_pars_fragment:pV,shadowmap_pars_vertex:mV,shadowmap_vertex:gV,shadowmask_pars_fragment:xV,skinbase_vertex:yV,skinning_pars_vertex:vV,skinning_vertex:_V,skinnormal_vertex:bV,specularmap_fragment:wV,specularmap_pars_fragment:SV,tonemapping_fragment:MV,tonemapping_pars_fragment:EV,transmission_fragment:AV,transmission_pars_fragment:CV,uv_pars_fragment:TV,uv_pars_vertex:PV,uv_vertex:RV,uv2_pars_fragment:IV,uv2_pars_vertex:kV,uv2_vertex:LV,worldpos_vertex:NV,background_vert:DV,background_frag:OV,backgroundCube_vert:BV,backgroundCube_frag:FV,cube_vert:zV,cube_frag:UV,depth_vert:VV,depth_frag:HV,distanceRGBA_vert:WV,distanceRGBA_frag:GV,equirect_vert:jV,equirect_frag:qV,linedashed_vert:XV,linedashed_frag:KV,meshbasic_vert:$V,meshbasic_frag:YV,meshlambert_vert:JV,meshlambert_frag:QV,meshmatcap_vert:ZV,meshmatcap_frag:eH,meshnormal_vert:tH,meshnormal_frag:nH,meshphong_vert:rH,meshphong_frag:iH,meshphysical_vert:sH,meshphysical_frag:oH,meshtoon_vert:aH,meshtoon_frag:lH,points_vert:cH,points_frag:uH,shadow_vert:fH,shadow_frag:hH,sprite_vert:dH,sprite_frag:pH},Ye={common:{diffuse:{value:new et(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new wi},uv2Transform:{value:new wi},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Le(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new et(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new et(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new wi}},sprite:{diffuse:{value:new et(16777215)},opacity:{value:1},center:{value:new Le(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new wi}}},po={basic:{uniforms:pi([Ye.common,Ye.specularmap,Ye.envmap,Ye.aomap,Ye.lightmap,Ye.fog]),vertexShader:It.meshbasic_vert,fragmentShader:It.meshbasic_frag},lambert:{uniforms:pi([Ye.common,Ye.specularmap,Ye.envmap,Ye.aomap,Ye.lightmap,Ye.emissivemap,Ye.bumpmap,Ye.normalmap,Ye.displacementmap,Ye.fog,Ye.lights,{emissive:{value:new et(0)}}]),vertexShader:It.meshlambert_vert,fragmentShader:It.meshlambert_frag},phong:{uniforms:pi([Ye.common,Ye.specularmap,Ye.envmap,Ye.aomap,Ye.lightmap,Ye.emissivemap,Ye.bumpmap,Ye.normalmap,Ye.displacementmap,Ye.fog,Ye.lights,{emissive:{value:new et(0)},specular:{value:new et(1118481)},shininess:{value:30}}]),vertexShader:It.meshphong_vert,fragmentShader:It.meshphong_frag},standard:{uniforms:pi([Ye.common,Ye.envmap,Ye.aomap,Ye.lightmap,Ye.emissivemap,Ye.bumpmap,Ye.normalmap,Ye.displacementmap,Ye.roughnessmap,Ye.metalnessmap,Ye.fog,Ye.lights,{emissive:{value:new et(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:It.meshphysical_vert,fragmentShader:It.meshphysical_frag},toon:{uniforms:pi([Ye.common,Ye.aomap,Ye.lightmap,Ye.emissivemap,Ye.bumpmap,Ye.normalmap,Ye.displacementmap,Ye.gradientmap,Ye.fog,Ye.lights,{emissive:{value:new et(0)}}]),vertexShader:It.meshtoon_vert,fragmentShader:It.meshtoon_frag},matcap:{uniforms:pi([Ye.common,Ye.bumpmap,Ye.normalmap,Ye.displacementmap,Ye.fog,{matcap:{value:null}}]),vertexShader:It.meshmatcap_vert,fragmentShader:It.meshmatcap_frag},points:{uniforms:pi([Ye.points,Ye.fog]),vertexShader:It.points_vert,fragmentShader:It.points_frag},dashed:{uniforms:pi([Ye.common,Ye.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:It.linedashed_vert,fragmentShader:It.linedashed_frag},depth:{uniforms:pi([Ye.common,Ye.displacementmap]),vertexShader:It.depth_vert,fragmentShader:It.depth_frag},normal:{uniforms:pi([Ye.common,Ye.bumpmap,Ye.normalmap,Ye.displacementmap,{opacity:{value:1}}]),vertexShader:It.meshnormal_vert,fragmentShader:It.meshnormal_frag},sprite:{uniforms:pi([Ye.sprite,Ye.fog]),vertexShader:It.sprite_vert,fragmentShader:It.sprite_frag},background:{uniforms:{uvTransform:{value:new wi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:It.background_vert,fragmentShader:It.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:It.backgroundCube_vert,fragmentShader:It.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:It.cube_vert,fragmentShader:It.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:It.equirect_vert,fragmentShader:It.equirect_frag},distanceRGBA:{uniforms:pi([Ye.common,Ye.displacementmap,{referencePosition:{value:new ee},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:It.distanceRGBA_vert,fragmentShader:It.distanceRGBA_frag},shadow:{uniforms:pi([Ye.lights,Ye.fog,{color:{value:new et(0)},opacity:{value:1}}]),vertexShader:It.shadow_vert,fragmentShader:It.shadow_frag}};po.physical={uniforms:pi([po.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Le(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new et(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Le},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new et(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new et(1,1,1)},specularColorMap:{value:null}}]),vertexShader:It.meshphysical_vert,fragmentShader:It.meshphysical_frag};const ix={r:0,b:0,g:0};function mH(n,e,t,r,i,s,o){const a=new et(0);let l=s===!0?0:1,c,u,h=null,p=0,m=null;function y(x,v){let b=!1,w=v.isScene===!0?v.background:null;w&&w.isTexture&&(w=(v.backgroundBlurriness>0?t:e).get(w));const A=n.xr,T=A.getSession&&A.getSession();T&&T.environmentBlendMode==="additive"&&(w=null),w===null?g(a,l):w&&w.isColor&&(g(w,1),b=!0),(n.autoClear||b)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),w&&(w.isCubeTexture||w.mapping===nd)?(u===void 0&&(u=new Or(new hc(1,1,1),new Mo({name:"BackgroundCubeMaterial",uniforms:Oh(po.backgroundCube.uniforms),vertexShader:po.backgroundCube.vertexShader,fragmentShader:po.backgroundCube.fragmentShader,side:cs,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(D,O,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=w,u.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=w.encoding!==on,(h!==w||p!==w.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,h=w,p=w.version,m=n.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null)):w&&w.isTexture&&(c===void 0&&(c=new Or(new id(2,2),new Mo({name:"BackgroundMaterial",uniforms:Oh(po.background.uniforms),vertexShader:po.background.vertexShader,fragmentShader:po.background.fragmentShader,side:Ql,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=w,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=w.encoding!==on,w.matrixAutoUpdate===!0&&w.updateMatrix(),c.material.uniforms.uvTransform.value.copy(w.matrix),(h!==w||p!==w.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,h=w,p=w.version,m=n.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function g(x,v){x.getRGB(ix,s7(n)),r.buffers.color.setClear(ix.r,ix.g,ix.b,v,o)}return{getClearColor:function(){return a},setClearColor:function(x,v=1){a.set(x),l=v,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,g(a,l)},render:y}}function gH(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=x(null);let c=l,u=!1;function h(S,L,z,q,F){let X=!1;if(o){const $=g(q,z,L);c!==$&&(c=$,m(c.object)),X=v(S,q,z,F),X&&b(S,q,z,F)}else{const $=L.wireframe===!0;(c.geometry!==q.id||c.program!==z.id||c.wireframe!==$)&&(c.geometry=q.id,c.program=z.id,c.wireframe=$,X=!0)}F!==null&&t.update(F,34963),(X||u)&&(u=!1,C(S,L,z,q),F!==null&&n.bindBuffer(34963,t.get(F).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(S){return r.isWebGL2?n.bindVertexArray(S):s.bindVertexArrayOES(S)}function y(S){return r.isWebGL2?n.deleteVertexArray(S):s.deleteVertexArrayOES(S)}function g(S,L,z){const q=z.wireframe===!0;let F=a[S.id];F===void 0&&(F={},a[S.id]=F);let X=F[L.id];X===void 0&&(X={},F[L.id]=X);let $=X[q];return $===void 0&&($=x(p()),X[q]=$),$}function x(S){const L=[],z=[],q=[];for(let F=0;F<i;F++)L[F]=0,z[F]=0,q[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:L,enabledAttributes:z,attributeDivisors:q,object:S,attributes:{},index:null}}function v(S,L,z,q){const F=c.attributes,X=L.attributes;let $=0;const P=z.getAttributes();for(const M in P)if(P[M].location>=0){const Z=F[M];let N=X[M];if(N===void 0&&(M==="instanceMatrix"&&S.instanceMatrix&&(N=S.instanceMatrix),M==="instanceColor"&&S.instanceColor&&(N=S.instanceColor)),Z===void 0||Z.attribute!==N||N&&Z.data!==N.data)return!0;$++}return c.attributesNum!==$||c.index!==q}function b(S,L,z,q){const F={},X=L.attributes;let $=0;const P=z.getAttributes();for(const M in P)if(P[M].location>=0){let Z=X[M];Z===void 0&&(M==="instanceMatrix"&&S.instanceMatrix&&(Z=S.instanceMatrix),M==="instanceColor"&&S.instanceColor&&(Z=S.instanceColor));const N={};N.attribute=Z,Z&&Z.data&&(N.data=Z.data),F[M]=N,$++}c.attributes=F,c.attributesNum=$,c.index=q}function w(){const S=c.newAttributes;for(let L=0,z=S.length;L<z;L++)S[L]=0}function A(S){T(S,0)}function T(S,L){const z=c.newAttributes,q=c.enabledAttributes,F=c.attributeDivisors;z[S]=1,q[S]===0&&(n.enableVertexAttribArray(S),q[S]=1),F[S]!==L&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](S,L),F[S]=L)}function D(){const S=c.newAttributes,L=c.enabledAttributes;for(let z=0,q=L.length;z<q;z++)L[z]!==S[z]&&(n.disableVertexAttribArray(z),L[z]=0)}function O(S,L,z,q,F,X){r.isWebGL2===!0&&(z===5124||z===5125)?n.vertexAttribIPointer(S,L,z,F,X):n.vertexAttribPointer(S,L,z,q,F,X)}function C(S,L,z,q){if(r.isWebGL2===!1&&(S.isInstancedMesh||q.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const F=q.attributes,X=z.getAttributes(),$=L.defaultAttributeValues;for(const P in X){const M=X[P];if(M.location>=0){let W=F[P];if(W===void 0&&(P==="instanceMatrix"&&S.instanceMatrix&&(W=S.instanceMatrix),P==="instanceColor"&&S.instanceColor&&(W=S.instanceColor)),W!==void 0){const Z=W.normalized,N=W.itemSize,J=t.get(W);if(J===void 0)continue;const ue=J.buffer,ae=J.type,me=J.bytesPerElement;if(W.isInterleavedBufferAttribute){const we=W.data,Ce=we.stride,ce=W.offset;if(we.isInstancedInterleavedBuffer){for(let ye=0;ye<M.locationSize;ye++)T(M.location+ye,we.meshPerAttribute);S.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=we.meshPerAttribute*we.count)}else for(let ye=0;ye<M.locationSize;ye++)A(M.location+ye);n.bindBuffer(34962,ue);for(let ye=0;ye<M.locationSize;ye++)O(M.location+ye,N/M.locationSize,ae,Z,Ce*me,(ce+N/M.locationSize*ye)*me)}else{if(W.isInstancedBufferAttribute){for(let we=0;we<M.locationSize;we++)T(M.location+we,W.meshPerAttribute);S.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=W.meshPerAttribute*W.count)}else for(let we=0;we<M.locationSize;we++)A(M.location+we);n.bindBuffer(34962,ue);for(let we=0;we<M.locationSize;we++)O(M.location+we,N/M.locationSize,ae,Z,N*me,N/M.locationSize*we*me)}}else if($!==void 0){const Z=$[P];if(Z!==void 0)switch(Z.length){case 2:n.vertexAttrib2fv(M.location,Z);break;case 3:n.vertexAttrib3fv(M.location,Z);break;case 4:n.vertexAttrib4fv(M.location,Z);break;default:n.vertexAttrib1fv(M.location,Z)}}}}D()}function B(){oe();for(const S in a){const L=a[S];for(const z in L){const q=L[z];for(const F in q)y(q[F].object),delete q[F];delete L[z]}delete a[S]}}function G(S){if(a[S.id]===void 0)return;const L=a[S.id];for(const z in L){const q=L[z];for(const F in q)y(q[F].object),delete q[F];delete L[z]}delete a[S.id]}function Y(S){for(const L in a){const z=a[L];if(z[S.id]===void 0)continue;const q=z[S.id];for(const F in q)y(q[F].object),delete q[F];delete z[S.id]}}function oe(){V(),u=!0,c!==l&&(c=l,m(c.object))}function V(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:oe,resetDefaultState:V,dispose:B,releaseStatesOfGeometry:G,releaseStatesOfProgram:Y,initAttributes:w,enableAttribute:A,disableUnusedAttributes:D}}function xH(n,e,t,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,h){if(h===0)return;let p,m;if(i)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,c,u,h),t.update(u,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function yH(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const O=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(O.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(O){if(O==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";O="mediump"}return O==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,h=n.getParameter(34930),p=n.getParameter(35660),m=n.getParameter(3379),y=n.getParameter(34076),g=n.getParameter(34921),x=n.getParameter(36347),v=n.getParameter(36348),b=n.getParameter(36349),w=p>0,A=o||e.has("OES_texture_float"),T=w&&A,D=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:y,maxAttributes:g,maxVertexUniforms:x,maxVaryings:v,maxFragmentUniforms:b,vertexTextures:w,floatFragmentTextures:A,floatVertexTextures:T,maxSamples:D}}function vH(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new Sl,a=new wi,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p,m){const y=h.length!==0||p||r!==0||i;return i=p,t=u(h,m,0),r=h.length,y},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(h,p,m){const y=h.clippingPlanes,g=h.clipIntersection,x=h.clipShadows,v=n.get(h);if(!i||y===null||y.length===0||s&&!x)s?u(null):c();else{const b=s?0:r,w=b*4;let A=v.clippingState||null;l.value=A,A=u(y,p,w,m);for(let T=0;T!==w;++T)A[T]=t[T];v.clippingState=A,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=b}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(h,p,m,y){const g=h!==null?h.length:0;let x=null;if(g!==0){if(x=l.value,y!==!0||x===null){const v=m+g*4,b=p.matrixWorldInverse;a.getNormalMatrix(b),(x===null||x.length<v)&&(x=new Float32Array(v));for(let w=0,A=m;w!==g;++w,A+=4)o.copy(h[w]).applyMatrix4(b,a),o.normal.toArray(x,A),x[A+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,x}}function _H(n){let e=new WeakMap;function t(o,a){return a===gp?o.mapping=Zl:a===xp&&(o.mapping=ec),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===gp||a===xp)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new l7(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class ql extends cm{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const ih=4,_C=[.125,.215,.35,.446,.526,.582],Yc=20,Ob=new ql,bC=new et;let Bb=null;const jc=(1+Math.sqrt(5))/2,Af=1/jc,wC=[new ee(1,1,1),new ee(-1,1,1),new ee(1,1,-1),new ee(-1,1,-1),new ee(0,jc,Af),new ee(0,jc,-Af),new ee(Af,0,jc),new ee(-Af,0,jc),new ee(jc,Af,0),new ee(-jc,Af,0)];class f3{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){Bb=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=EC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=MC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Bb),e.scissorTest=!1,sx(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Zl||e.mapping===ec?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Bb=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:nr,minFilter:nr,generateMipmaps:!1,type:Nh,format:Di,encoding:Ka,depthBuffer:!1},i=SC(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=SC(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=bH(s)),this._blurMaterial=wH(s,e,t)}return i}_compileMaterial(e){const t=new Or(this._lodPlanes[0],e);this._renderer.compile(t,Ob)}_sceneToCubeUV(e,t,r,i){const a=new An(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,p=u.toneMapping;u.getClearColor(bC),u.toneMapping=bo,u.autoClear=!1;const m=new fc({name:"PMREM.Background",side:cs,depthWrite:!1,depthTest:!1}),y=new Or(new hc,m);let g=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,g=!0):(m.color.copy(bC),g=!0);for(let v=0;v<6;v++){const b=v%3;b===0?(a.up.set(0,l[v],0),a.lookAt(c[v],0,0)):b===1?(a.up.set(0,0,l[v]),a.lookAt(0,c[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,c[v]));const w=this._cubeSize;sx(i,b*w,v>2?w:0,w,w),u.setRenderTarget(i),g&&u.render(y,a),u.render(e,a)}y.geometry.dispose(),y.material.dispose(),u.toneMapping=p,u.autoClear=h,e.background=x}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Zl||e.mapping===ec;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=EC()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=MC());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Or(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;sx(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,Ob)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=wC[(i-1)%wC.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new Or(this._lodPlanes[i],c),p=c.uniforms,m=this._sizeLods[r]-1,y=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Yc-1),g=s/y,x=isFinite(s)?1+Math.floor(u*g):Yc;x>Yc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Yc}`);const v=[];let b=0;for(let O=0;O<Yc;++O){const C=O/g,B=Math.exp(-C*C/2);v.push(B),O===0?b+=B:O<x&&(b+=2*B)}for(let O=0;O<v.length;O++)v[O]=v[O]/b;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=v,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:w}=this;p.dTheta.value=y,p.mipInt.value=w-r;const A=this._sizeLods[i],T=3*A*(i>w-ih?i-w+ih:0),D=4*(this._cubeSize-A);sx(t,T,D,3*A,2*A),l.setRenderTarget(t),l.render(h,Ob)}}function bH(n){const e=[],t=[],r=[];let i=n;const s=n-ih+1+_C.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-ih?l=_C[o-n+ih-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,h=1+c,p=[u,u,h,u,h,h,u,u,h,h,u,h],m=6,y=6,g=3,x=2,v=1,b=new Float32Array(g*y*m),w=new Float32Array(x*y*m),A=new Float32Array(v*y*m);for(let D=0;D<m;D++){const O=D%3*2/3-1,C=D>2?0:-1,B=[O,C,0,O+2/3,C,0,O+2/3,C+1,0,O,C,0,O+2/3,C+1,0,O,C+1,0];b.set(B,g*y*D),w.set(p,x*y*D);const G=[D,D,D,D,D,D];A.set(G,v*y*D)}const T=new Lt;T.setAttribute("position",new hn(b,g)),T.setAttribute("uv",new hn(w,x)),T.setAttribute("faceIndex",new hn(A,v)),e.push(T),i>ih&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function SC(n,e,t){const r=new js(n,e,t);return r.texture.mapping=nd,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function sx(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function wH(n,e,t){const r=new Float32Array(Yc),i=new ee(0,1,0);return new Mo({name:"SphericalGaussianBlur",defines:{n:Yc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:FM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ha,depthTest:!1,depthWrite:!1})}function MC(){return new Mo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:FM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ha,depthTest:!1,depthWrite:!1})}function EC(){return new Mo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:FM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ha,depthTest:!1,depthWrite:!1})}function FM(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function SH(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===gp||l===xp,u=l===Zl||l===ec;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new f3(n)),h=c?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(c&&h&&h.height>0||u&&h&&i(h)){t===null&&(t=new f3(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function MH(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function EH(n,e,t,r){const i={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(h){const p=h.attributes;for(const y in p)e.update(p[y],34962);const m=h.morphAttributes;for(const y in m){const g=m[y];for(let x=0,v=g.length;x<v;x++)e.update(g[x],34962)}}function c(h){const p=[],m=h.index,y=h.attributes.position;let g=0;if(m!==null){const b=m.array;g=m.version;for(let w=0,A=b.length;w<A;w+=3){const T=b[w+0],D=b[w+1],O=b[w+2];p.push(T,D,D,O,O,T)}}else{const b=y.array;g=y.version;for(let w=0,A=b.length/3-1;w<A;w+=3){const T=w+0,D=w+1,O=w+2;p.push(T,D,D,O,O,T)}}const x=new(r7(p)?BM:OM)(p,1);x.version=g;const v=s.get(h);v&&e.remove(v),s.set(h,x)}function u(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:u}}function AH(n,e,t,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function u(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function h(p,m,y){if(y===0)return;let g,x;if(i)g=n,x="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[x](s,m,a,p*l,y),t.update(m,s,y)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=h}function CH(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function TH(n,e){return n[0]-e[0]}function PH(n,e){return Math.abs(e[1])-Math.abs(n[1])}function RH(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new qt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,h,p){const m=c.morphTargetInfluences;if(e.isWebGL2===!0){const y=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,g=y!==void 0?y.length:0;let x=s.get(u);if(x===void 0||x.count!==g){let L=function(){V.dispose(),s.delete(u),u.removeEventListener("dispose",L)};x!==void 0&&x.texture.dispose();const w=u.morphAttributes.position!==void 0,A=u.morphAttributes.normal!==void 0,T=u.morphAttributes.color!==void 0,D=u.morphAttributes.position||[],O=u.morphAttributes.normal||[],C=u.morphAttributes.color||[];let B=0;w===!0&&(B=1),A===!0&&(B=2),T===!0&&(B=3);let G=u.attributes.position.count*B,Y=1;G>e.maxTextureSize&&(Y=Math.ceil(G/e.maxTextureSize),G=e.maxTextureSize);const oe=new Float32Array(G*Y*4*g),V=new am(oe,G,Y,g);V.type=za,V.needsUpdate=!0;const S=B*4;for(let z=0;z<g;z++){const q=D[z],F=O[z],X=C[z],$=G*Y*4*z;for(let P=0;P<q.count;P++){const M=P*S;w===!0&&(o.fromBufferAttribute(q,P),oe[$+M+0]=o.x,oe[$+M+1]=o.y,oe[$+M+2]=o.z,oe[$+M+3]=0),A===!0&&(o.fromBufferAttribute(F,P),oe[$+M+4]=o.x,oe[$+M+5]=o.y,oe[$+M+6]=o.z,oe[$+M+7]=0),T===!0&&(o.fromBufferAttribute(X,P),oe[$+M+8]=o.x,oe[$+M+9]=o.y,oe[$+M+10]=o.z,oe[$+M+11]=X.itemSize===4?o.w:1)}}x={count:g,texture:V,size:new Le(G,Y)},s.set(u,x),u.addEventListener("dispose",L)}let v=0;for(let w=0;w<m.length;w++)v+=m[w];const b=u.morphTargetsRelative?1:1-v;p.getUniforms().setValue(n,"morphTargetBaseInfluence",b),p.getUniforms().setValue(n,"morphTargetInfluences",m),p.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const y=m===void 0?0:m.length;let g=r[u.id];if(g===void 0||g.length!==y){g=[];for(let A=0;A<y;A++)g[A]=[A,0];r[u.id]=g}for(let A=0;A<y;A++){const T=g[A];T[0]=A,T[1]=m[A]}g.sort(PH);for(let A=0;A<8;A++)A<y&&g[A][1]?(a[A][0]=g[A][0],a[A][1]=g[A][1]):(a[A][0]=Number.MAX_SAFE_INTEGER,a[A][1]=0);a.sort(TH);const x=u.morphAttributes.position,v=u.morphAttributes.normal;let b=0;for(let A=0;A<8;A++){const T=a[A],D=T[0],O=T[1];D!==Number.MAX_SAFE_INTEGER&&O?(x&&u.getAttribute("morphTarget"+A)!==x[D]&&u.setAttribute("morphTarget"+A,x[D]),v&&u.getAttribute("morphNormal"+A)!==v[D]&&u.setAttribute("morphNormal"+A,v[D]),i[A]=O,b+=O):(x&&u.hasAttribute("morphTarget"+A)===!0&&u.deleteAttribute("morphTarget"+A),v&&u.hasAttribute("morphNormal"+A)===!0&&u.deleteAttribute("morphNormal"+A),i[A]=0)}const w=u.morphTargetsRelative?1:1-b;p.getUniforms().setValue(n,"morphTargetBaseInfluence",w),p.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function IH(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,h=e.get(l,u);return i.get(h)!==c&&(e.update(h),i.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),h}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const u7=new qn,f7=new am,h7=new nv,d7=new um,AC=[],CC=[],TC=new Float32Array(16),PC=new Float32Array(9),RC=new Float32Array(4);function sd(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=AC[i];if(s===void 0&&(s=new Float32Array(i),AC[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function _r(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function br(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function iv(n,e){let t=CC[e];t===void 0&&(t=new Int32Array(e),CC[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function kH(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function LH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(_r(t,e))return;n.uniform2fv(this.addr,e),br(t,e)}}function NH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(_r(t,e))return;n.uniform3fv(this.addr,e),br(t,e)}}function DH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(_r(t,e))return;n.uniform4fv(this.addr,e),br(t,e)}}function OH(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(_r(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),br(t,e)}else{if(_r(t,r))return;RC.set(r),n.uniformMatrix2fv(this.addr,!1,RC),br(t,r)}}function BH(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(_r(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),br(t,e)}else{if(_r(t,r))return;PC.set(r),n.uniformMatrix3fv(this.addr,!1,PC),br(t,r)}}function FH(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(_r(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),br(t,e)}else{if(_r(t,r))return;TC.set(r),n.uniformMatrix4fv(this.addr,!1,TC),br(t,r)}}function zH(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function UH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(_r(t,e))return;n.uniform2iv(this.addr,e),br(t,e)}}function VH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(_r(t,e))return;n.uniform3iv(this.addr,e),br(t,e)}}function HH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(_r(t,e))return;n.uniform4iv(this.addr,e),br(t,e)}}function WH(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function GH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(_r(t,e))return;n.uniform2uiv(this.addr,e),br(t,e)}}function jH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(_r(t,e))return;n.uniform3uiv(this.addr,e),br(t,e)}}function qH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(_r(t,e))return;n.uniform4uiv(this.addr,e),br(t,e)}}function XH(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||u7,i)}function KH(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||h7,i)}function $H(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||d7,i)}function YH(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||f7,i)}function JH(n){switch(n){case 5126:return kH;case 35664:return LH;case 35665:return NH;case 35666:return DH;case 35674:return OH;case 35675:return BH;case 35676:return FH;case 5124:case 35670:return zH;case 35667:case 35671:return UH;case 35668:case 35672:return VH;case 35669:case 35673:return HH;case 5125:return WH;case 36294:return GH;case 36295:return jH;case 36296:return qH;case 35678:case 36198:case 36298:case 36306:case 35682:return XH;case 35679:case 36299:case 36307:return KH;case 35680:case 36300:case 36308:case 36293:return $H;case 36289:case 36303:case 36311:case 36292:return YH}}function QH(n,e){n.uniform1fv(this.addr,e)}function ZH(n,e){const t=sd(e,this.size,2);n.uniform2fv(this.addr,t)}function eW(n,e){const t=sd(e,this.size,3);n.uniform3fv(this.addr,t)}function tW(n,e){const t=sd(e,this.size,4);n.uniform4fv(this.addr,t)}function nW(n,e){const t=sd(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function rW(n,e){const t=sd(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function iW(n,e){const t=sd(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function sW(n,e){n.uniform1iv(this.addr,e)}function oW(n,e){n.uniform2iv(this.addr,e)}function aW(n,e){n.uniform3iv(this.addr,e)}function lW(n,e){n.uniform4iv(this.addr,e)}function cW(n,e){n.uniform1uiv(this.addr,e)}function uW(n,e){n.uniform2uiv(this.addr,e)}function fW(n,e){n.uniform3uiv(this.addr,e)}function hW(n,e){n.uniform4uiv(this.addr,e)}function dW(n,e,t){const r=this.cache,i=e.length,s=iv(t,i);_r(r,s)||(n.uniform1iv(this.addr,s),br(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||u7,s[o])}function pW(n,e,t){const r=this.cache,i=e.length,s=iv(t,i);_r(r,s)||(n.uniform1iv(this.addr,s),br(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||h7,s[o])}function mW(n,e,t){const r=this.cache,i=e.length,s=iv(t,i);_r(r,s)||(n.uniform1iv(this.addr,s),br(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||d7,s[o])}function gW(n,e,t){const r=this.cache,i=e.length,s=iv(t,i);_r(r,s)||(n.uniform1iv(this.addr,s),br(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||f7,s[o])}function xW(n){switch(n){case 5126:return QH;case 35664:return ZH;case 35665:return eW;case 35666:return tW;case 35674:return nW;case 35675:return rW;case 35676:return iW;case 5124:case 35670:return sW;case 35667:case 35671:return oW;case 35668:case 35672:return aW;case 35669:case 35673:return lW;case 5125:return cW;case 36294:return uW;case 36295:return fW;case 36296:return hW;case 35678:case 36198:case 36298:case 36306:case 35682:return dW;case 35679:case 36299:case 36307:return pW;case 35680:case 36300:case 36308:case 36293:return mW;case 36289:case 36303:case 36311:case 36292:return gW}}class yW{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=JH(t.type)}}class vW{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=xW(t.type)}}class _W{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const Fb=/(\w+)(\])?(\[|\.)?/g;function IC(n,e){n.seq.push(e),n.map[e.id]=e}function bW(n,e,t){const r=n.name,i=r.length;for(Fb.lastIndex=0;;){const s=Fb.exec(r),o=Fb.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){IC(t,c===void 0?new yW(a,n,e):new vW(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new _W(a),IC(t,h)),t=h}}}class h1{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);bW(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function kC(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let wW=0;function SW(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function MW(n){switch(n){case Ka:return["Linear","( value )"];case on:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function LC(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+SW(n.getShaderSource(e),o)}else return i}function EW(n,e){const t=MW(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function AW(n,e){let t;switch(e){case RI:t="Linear";break;case II:t="Reinhard";break;case kI:t="OptimizedCineon";break;case RM:t="ACESFilmic";break;case LI:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function CW(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(_0).join(`
`)}function TW(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function PW(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function _0(n){return n!==""}function NC(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function DC(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const RW=/^[ \t]*#include +<([\w\d./]+)>/gm;function h3(n){return n.replace(RW,IW)}function IW(n,e){const t=It[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return h3(t)}const kW=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function OC(n){return n.replace(kW,LW)}function LW(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function BC(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function NW(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Zy?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===D0?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===nu&&(e="SHADOWMAP_TYPE_VSM"),e}function DW(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Zl:case ec:e="ENVMAP_TYPE_CUBE";break;case nd:e="ENVMAP_TYPE_CUBE_UV";break}return e}function OW(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case ec:e="ENVMAP_MODE_REFRACTION";break}return e}function BW(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case om:e="ENVMAP_BLENDING_MULTIPLY";break;case TI:e="ENVMAP_BLENDING_MIX";break;case PI:e="ENVMAP_BLENDING_ADD";break}return e}function FW(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function zW(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=NW(t),c=DW(t),u=OW(t),h=BW(t),p=FW(t),m=t.isWebGL2?"":CW(t),y=TW(s),g=i.createProgram();let x,v,b=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=[y].filter(_0).join(`
`),x.length>0&&(x+=`
`),v=[m,y].filter(_0).join(`
`),v.length>0&&(v+=`
`)):(x=[BC(t),"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(_0).join(`
`),v=[m,BC(t),"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==bo?"#define TONE_MAPPING":"",t.toneMapping!==bo?It.tonemapping_pars_fragment:"",t.toneMapping!==bo?AW("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",It.encodings_pars_fragment,EW("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(_0).join(`
`)),o=h3(o),o=NC(o,t),o=DC(o,t),a=h3(a),a=NC(a,t),a=DC(a,t),o=OC(o),a=OC(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,v=["#define varying in",t.glslVersion===c3?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===c3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const w=b+x+o,A=b+v+a,T=kC(i,35633,w),D=kC(i,35632,A);if(i.attachShader(g,T),i.attachShader(g,D),t.index0AttributeName!==void 0?i.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g),n.debug.checkShaderErrors){const B=i.getProgramInfoLog(g).trim(),G=i.getShaderInfoLog(T).trim(),Y=i.getShaderInfoLog(D).trim();let oe=!0,V=!0;if(i.getProgramParameter(g,35714)===!1){oe=!1;const S=LC(i,T,"vertex"),L=LC(i,D,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,35715)+`

Program Info Log: `+B+`
`+S+`
`+L)}else B!==""?console.warn("THREE.WebGLProgram: Program Info Log:",B):(G===""||Y==="")&&(V=!1);V&&(this.diagnostics={runnable:oe,programLog:B,vertexShader:{log:G,prefix:x},fragmentShader:{log:Y,prefix:v}})}i.deleteShader(T),i.deleteShader(D);let O;this.getUniforms=function(){return O===void 0&&(O=new h1(i,g)),O};let C;return this.getAttributes=function(){return C===void 0&&(C=PW(i,g)),C},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.name=t.shaderName,this.id=wW++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=T,this.fragmentShader=D,this}let UW=0;class VW{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new HW(e),t.set(e,r)),r}}class HW{constructor(e){this.id=UW++,this.code=e,this.usedTimes=0}}function WW(n,e,t,r,i,s,o){const a=new gu,l=new VW,c=[],u=i.isWebGL2,h=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(C,B,G,Y,oe){const V=Y.fog,S=oe.geometry,L=C.isMeshStandardMaterial?Y.environment:null,z=(C.isMeshStandardMaterial?t:e).get(C.envMap||L),q=z&&z.mapping===nd?z.image.height:null,F=y[C.type];C.precision!==null&&(m=i.getMaxPrecision(C.precision),m!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",m,"instead."));const X=S.morphAttributes.position||S.morphAttributes.normal||S.morphAttributes.color,$=X!==void 0?X.length:0;let P=0;S.morphAttributes.position!==void 0&&(P=1),S.morphAttributes.normal!==void 0&&(P=2),S.morphAttributes.color!==void 0&&(P=3);let M,W,Z,N;if(F){const Ce=po[F];M=Ce.vertexShader,W=Ce.fragmentShader}else M=C.vertexShader,W=C.fragmentShader,l.update(C),Z=l.getVertexShaderID(C),N=l.getFragmentShaderID(C);const J=n.getRenderTarget(),ue=C.alphaTest>0,ae=C.clearcoat>0,me=C.iridescence>0;return{isWebGL2:u,shaderID:F,shaderName:C.type,vertexShader:M,fragmentShader:W,defines:C.defines,customVertexShaderID:Z,customFragmentShaderID:N,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:m,instancing:oe.isInstancedMesh===!0,instancingColor:oe.isInstancedMesh===!0&&oe.instanceColor!==null,supportsVertexTextures:p,outputEncoding:J===null?n.outputEncoding:J.isXRRenderTarget===!0?J.texture.encoding:Ka,map:!!C.map,matcap:!!C.matcap,envMap:!!z,envMapMode:z&&z.mapping,envMapCubeUVHeight:q,lightMap:!!C.lightMap,aoMap:!!C.aoMap,emissiveMap:!!C.emissiveMap,bumpMap:!!C.bumpMap,normalMap:!!C.normalMap,objectSpaceNormalMap:C.normalMapType===e7,tangentSpaceNormalMap:C.normalMapType===cc,decodeVideoTexture:!!C.map&&C.map.isVideoTexture===!0&&C.map.encoding===on,clearcoat:ae,clearcoatMap:ae&&!!C.clearcoatMap,clearcoatRoughnessMap:ae&&!!C.clearcoatRoughnessMap,clearcoatNormalMap:ae&&!!C.clearcoatNormalMap,iridescence:me,iridescenceMap:me&&!!C.iridescenceMap,iridescenceThicknessMap:me&&!!C.iridescenceThicknessMap,displacementMap:!!C.displacementMap,roughnessMap:!!C.roughnessMap,metalnessMap:!!C.metalnessMap,specularMap:!!C.specularMap,specularIntensityMap:!!C.specularIntensityMap,specularColorMap:!!C.specularColorMap,opaque:C.transparent===!1&&C.blending===hu,alphaMap:!!C.alphaMap,alphaTest:ue,gradientMap:!!C.gradientMap,sheen:C.sheen>0,sheenColorMap:!!C.sheenColorMap,sheenRoughnessMap:!!C.sheenRoughnessMap,transmission:C.transmission>0,transmissionMap:!!C.transmissionMap,thicknessMap:!!C.thicknessMap,combine:C.combine,vertexTangents:!!C.normalMap&&!!S.attributes.tangent,vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!S.attributes.color&&S.attributes.color.itemSize===4,vertexUvs:!!C.map||!!C.bumpMap||!!C.normalMap||!!C.specularMap||!!C.alphaMap||!!C.emissiveMap||!!C.roughnessMap||!!C.metalnessMap||!!C.clearcoatMap||!!C.clearcoatRoughnessMap||!!C.clearcoatNormalMap||!!C.iridescenceMap||!!C.iridescenceThicknessMap||!!C.displacementMap||!!C.transmissionMap||!!C.thicknessMap||!!C.specularIntensityMap||!!C.specularColorMap||!!C.sheenColorMap||!!C.sheenRoughnessMap,uvsVertexOnly:!(C.map||C.bumpMap||C.normalMap||C.specularMap||C.alphaMap||C.emissiveMap||C.roughnessMap||C.metalnessMap||C.clearcoatNormalMap||C.iridescenceMap||C.iridescenceThicknessMap||C.transmission>0||C.transmissionMap||C.thicknessMap||C.specularIntensityMap||C.specularColorMap||C.sheen>0||C.sheenColorMap||C.sheenRoughnessMap)&&!!C.displacementMap,fog:!!V,useFog:C.fog===!0,fogExp2:V&&V.isFogExp2,flatShading:!!C.flatShading,sizeAttenuation:C.sizeAttenuation,logarithmicDepthBuffer:h,skinning:oe.isSkinnedMesh===!0,morphTargets:S.morphAttributes.position!==void 0,morphNormals:S.morphAttributes.normal!==void 0,morphColors:S.morphAttributes.color!==void 0,morphTargetsCount:$,morphTextureStride:P,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:n.shadowMap.enabled&&G.length>0,shadowMapType:n.shadowMap.type,toneMapping:C.toneMapped?n.toneMapping:bo,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===sm,flipSided:C.side===cs,useDepthPacking:!!C.depthPacking,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:C.extensions&&C.extensions.derivatives,extensionFragDepth:C.extensions&&C.extensions.fragDepth,extensionDrawBuffers:C.extensions&&C.extensions.drawBuffers,extensionShaderTextureLOD:C.extensions&&C.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function x(C){const B=[];if(C.shaderID?B.push(C.shaderID):(B.push(C.customVertexShaderID),B.push(C.customFragmentShaderID)),C.defines!==void 0)for(const G in C.defines)B.push(G),B.push(C.defines[G]);return C.isRawShaderMaterial===!1&&(v(B,C),b(B,C),B.push(n.outputEncoding)),B.push(C.customProgramCacheKey),B.join()}function v(C,B){C.push(B.precision),C.push(B.outputEncoding),C.push(B.envMapMode),C.push(B.envMapCubeUVHeight),C.push(B.combine),C.push(B.vertexUvs),C.push(B.fogExp2),C.push(B.sizeAttenuation),C.push(B.morphTargetsCount),C.push(B.morphAttributeCount),C.push(B.numDirLights),C.push(B.numPointLights),C.push(B.numSpotLights),C.push(B.numSpotLightMaps),C.push(B.numHemiLights),C.push(B.numRectAreaLights),C.push(B.numDirLightShadows),C.push(B.numPointLightShadows),C.push(B.numSpotLightShadows),C.push(B.numSpotLightShadowsWithMaps),C.push(B.shadowMapType),C.push(B.toneMapping),C.push(B.numClippingPlanes),C.push(B.numClipIntersection),C.push(B.depthPacking)}function b(C,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.map&&a.enable(4),B.matcap&&a.enable(5),B.envMap&&a.enable(6),B.lightMap&&a.enable(7),B.aoMap&&a.enable(8),B.emissiveMap&&a.enable(9),B.bumpMap&&a.enable(10),B.normalMap&&a.enable(11),B.objectSpaceNormalMap&&a.enable(12),B.tangentSpaceNormalMap&&a.enable(13),B.clearcoat&&a.enable(14),B.clearcoatMap&&a.enable(15),B.clearcoatRoughnessMap&&a.enable(16),B.clearcoatNormalMap&&a.enable(17),B.iridescence&&a.enable(18),B.iridescenceMap&&a.enable(19),B.iridescenceThicknessMap&&a.enable(20),B.displacementMap&&a.enable(21),B.specularMap&&a.enable(22),B.roughnessMap&&a.enable(23),B.metalnessMap&&a.enable(24),B.gradientMap&&a.enable(25),B.alphaMap&&a.enable(26),B.alphaTest&&a.enable(27),B.vertexColors&&a.enable(28),B.vertexAlphas&&a.enable(29),B.vertexUvs&&a.enable(30),B.vertexTangents&&a.enable(31),B.uvsVertexOnly&&a.enable(32),C.push(a.mask),a.disableAll(),B.fog&&a.enable(0),B.useFog&&a.enable(1),B.flatShading&&a.enable(2),B.logarithmicDepthBuffer&&a.enable(3),B.skinning&&a.enable(4),B.morphTargets&&a.enable(5),B.morphNormals&&a.enable(6),B.morphColors&&a.enable(7),B.premultipliedAlpha&&a.enable(8),B.shadowMapEnabled&&a.enable(9),B.physicallyCorrectLights&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.useDepthPacking&&a.enable(13),B.dithering&&a.enable(14),B.specularIntensityMap&&a.enable(15),B.specularColorMap&&a.enable(16),B.transmission&&a.enable(17),B.transmissionMap&&a.enable(18),B.thicknessMap&&a.enable(19),B.sheen&&a.enable(20),B.sheenColorMap&&a.enable(21),B.sheenRoughnessMap&&a.enable(22),B.decodeVideoTexture&&a.enable(23),B.opaque&&a.enable(24),C.push(a.mask)}function w(C){const B=y[C.type];let G;if(B){const Y=po[B];G=o7.clone(Y.uniforms)}else G=C.uniforms;return G}function A(C,B){let G;for(let Y=0,oe=c.length;Y<oe;Y++){const V=c[Y];if(V.cacheKey===B){G=V,++G.usedTimes;break}}return G===void 0&&(G=new zW(n,B,C,s),c.push(G)),G}function T(C){if(--C.usedTimes===0){const B=c.indexOf(C);c[B]=c[c.length-1],c.pop(),C.destroy()}}function D(C){l.remove(C)}function O(){l.dispose()}return{getParameters:g,getProgramCacheKey:x,getUniforms:w,acquireProgram:A,releaseProgram:T,releaseShaderCache:D,programs:c,dispose:O}}function GW(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function jW(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function FC(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function zC(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(h,p,m,y,g,x){let v=n[e];return v===void 0?(v={id:h.id,object:h,geometry:p,material:m,groupOrder:y,renderOrder:h.renderOrder,z:g,group:x},n[e]=v):(v.id=h.id,v.object=h,v.geometry=p,v.material=m,v.groupOrder=y,v.renderOrder=h.renderOrder,v.z=g,v.group=x),e++,v}function a(h,p,m,y,g,x){const v=o(h,p,m,y,g,x);m.transmission>0?r.push(v):m.transparent===!0?i.push(v):t.push(v)}function l(h,p,m,y,g,x){const v=o(h,p,m,y,g,x);m.transmission>0?r.unshift(v):m.transparent===!0?i.unshift(v):t.unshift(v)}function c(h,p){t.length>1&&t.sort(h||jW),r.length>1&&r.sort(p||FC),i.length>1&&i.sort(p||FC)}function u(){for(let h=e,p=n.length;h<p;h++){const m=n[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function qW(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new zC,n.set(r,[o])):i>=s.length?(o=new zC,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function XW(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ee,color:new et};break;case"SpotLight":t={position:new ee,direction:new ee,color:new et,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ee,color:new et,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ee,skyColor:new et,groundColor:new et};break;case"RectAreaLight":t={color:new et,position:new ee,halfWidth:new ee,halfHeight:new ee};break}return n[e.id]=t,t}}}function KW(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let $W=0;function YW(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function JW(n,e){const t=new XW,r=KW(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new ee);const s=new ee,o=new Tt,a=new Tt;function l(u,h){let p=0,m=0,y=0;for(let Y=0;Y<9;Y++)i.probe[Y].set(0,0,0);let g=0,x=0,v=0,b=0,w=0,A=0,T=0,D=0,O=0,C=0;u.sort(YW);const B=h!==!0?Math.PI:1;for(let Y=0,oe=u.length;Y<oe;Y++){const V=u[Y],S=V.color,L=V.intensity,z=V.distance,q=V.shadow&&V.shadow.map?V.shadow.map.texture:null;if(V.isAmbientLight)p+=S.r*L*B,m+=S.g*L*B,y+=S.b*L*B;else if(V.isLightProbe)for(let F=0;F<9;F++)i.probe[F].addScaledVector(V.sh.coefficients[F],L);else if(V.isDirectionalLight){const F=t.get(V);if(F.color.copy(V.color).multiplyScalar(V.intensity*B),V.castShadow){const X=V.shadow,$=r.get(V);$.shadowBias=X.bias,$.shadowNormalBias=X.normalBias,$.shadowRadius=X.radius,$.shadowMapSize=X.mapSize,i.directionalShadow[g]=$,i.directionalShadowMap[g]=q,i.directionalShadowMatrix[g]=V.shadow.matrix,A++}i.directional[g]=F,g++}else if(V.isSpotLight){const F=t.get(V);F.position.setFromMatrixPosition(V.matrixWorld),F.color.copy(S).multiplyScalar(L*B),F.distance=z,F.coneCos=Math.cos(V.angle),F.penumbraCos=Math.cos(V.angle*(1-V.penumbra)),F.decay=V.decay,i.spot[v]=F;const X=V.shadow;if(V.map&&(i.spotLightMap[O]=V.map,O++,X.updateMatrices(V),V.castShadow&&C++),i.spotLightMatrix[v]=X.matrix,V.castShadow){const $=r.get(V);$.shadowBias=X.bias,$.shadowNormalBias=X.normalBias,$.shadowRadius=X.radius,$.shadowMapSize=X.mapSize,i.spotShadow[v]=$,i.spotShadowMap[v]=q,D++}v++}else if(V.isRectAreaLight){const F=t.get(V);F.color.copy(S).multiplyScalar(L),F.halfWidth.set(V.width*.5,0,0),F.halfHeight.set(0,V.height*.5,0),i.rectArea[b]=F,b++}else if(V.isPointLight){const F=t.get(V);if(F.color.copy(V.color).multiplyScalar(V.intensity*B),F.distance=V.distance,F.decay=V.decay,V.castShadow){const X=V.shadow,$=r.get(V);$.shadowBias=X.bias,$.shadowNormalBias=X.normalBias,$.shadowRadius=X.radius,$.shadowMapSize=X.mapSize,$.shadowCameraNear=X.camera.near,$.shadowCameraFar=X.camera.far,i.pointShadow[x]=$,i.pointShadowMap[x]=q,i.pointShadowMatrix[x]=V.shadow.matrix,T++}i.point[x]=F,x++}else if(V.isHemisphereLight){const F=t.get(V);F.skyColor.copy(V.color).multiplyScalar(L*B),F.groundColor.copy(V.groundColor).multiplyScalar(L*B),i.hemi[w]=F,w++}}b>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ye.LTC_FLOAT_1,i.rectAreaLTC2=Ye.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ye.LTC_HALF_1,i.rectAreaLTC2=Ye.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=y;const G=i.hash;(G.directionalLength!==g||G.pointLength!==x||G.spotLength!==v||G.rectAreaLength!==b||G.hemiLength!==w||G.numDirectionalShadows!==A||G.numPointShadows!==T||G.numSpotShadows!==D||G.numSpotMaps!==O)&&(i.directional.length=g,i.spot.length=v,i.rectArea.length=b,i.point.length=x,i.hemi.length=w,i.directionalShadow.length=A,i.directionalShadowMap.length=A,i.pointShadow.length=T,i.pointShadowMap.length=T,i.spotShadow.length=D,i.spotShadowMap.length=D,i.directionalShadowMatrix.length=A,i.pointShadowMatrix.length=T,i.spotLightMatrix.length=D+O-C,i.spotLightMap.length=O,i.numSpotLightShadowsWithMaps=C,G.directionalLength=g,G.pointLength=x,G.spotLength=v,G.rectAreaLength=b,G.hemiLength=w,G.numDirectionalShadows=A,G.numPointShadows=T,G.numSpotShadows=D,G.numSpotMaps=O,i.version=$W++)}function c(u,h){let p=0,m=0,y=0,g=0,x=0;const v=h.matrixWorldInverse;for(let b=0,w=u.length;b<w;b++){const A=u[b];if(A.isDirectionalLight){const T=i.directional[p];T.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(v),p++}else if(A.isSpotLight){const T=i.spot[y];T.position.setFromMatrixPosition(A.matrixWorld),T.position.applyMatrix4(v),T.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(v),y++}else if(A.isRectAreaLight){const T=i.rectArea[g];T.position.setFromMatrixPosition(A.matrixWorld),T.position.applyMatrix4(v),a.identity(),o.copy(A.matrixWorld),o.premultiply(v),a.extractRotation(o),T.halfWidth.set(A.width*.5,0,0),T.halfHeight.set(0,A.height*.5,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),g++}else if(A.isPointLight){const T=i.point[m];T.position.setFromMatrixPosition(A.matrixWorld),T.position.applyMatrix4(v),m++}else if(A.isHemisphereLight){const T=i.hemi[x];T.direction.setFromMatrixPosition(A.matrixWorld),T.direction.transformDirection(v),x++}}}return{setup:l,setupView:c,state:i}}function UC(n,e){const t=new JW(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(h){r.push(h)}function a(h){i.push(h)}function l(h){t.setup(r,h)}function c(h){t.setupView(r,h)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function QW(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new UC(n,e),t.set(s,[l])):o>=a.length?(l=new UC(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class zM extends zr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=QI,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class UM extends zr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new ee,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const ZW=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,eG=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function tG(n,e,t){let r=new rv;const i=new Le,s=new Le,o=new qt,a=new zM({depthPacking:ZI}),l=new UM,c={},u=t.maxTextureSize,h={0:cs,1:Ql,2:sm},p=new Mo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Le},radius:{value:4}},vertexShader:ZW,fragmentShader:eG}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const y=new Lt;y.setAttribute("position",new hn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Or(y,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Zy,this.render=function(A,T,D){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||A.length===0)return;const O=n.getRenderTarget(),C=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),G=n.state;G.setBlending(Ha),G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);for(let Y=0,oe=A.length;Y<oe;Y++){const V=A[Y],S=V.shadow;if(S===void 0){console.warn("THREE.WebGLShadowMap:",V,"has no shadow.");continue}if(S.autoUpdate===!1&&S.needsUpdate===!1)continue;i.copy(S.mapSize);const L=S.getFrameExtents();if(i.multiply(L),s.copy(S.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/L.x),i.x=s.x*L.x,S.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/L.y),i.y=s.y*L.y,S.mapSize.y=s.y)),S.map===null){const q=this.type!==nu?{minFilter:Zn,magFilter:Zn}:{};S.map=new js(i.x,i.y,q),S.map.texture.name=V.name+".shadowMap",S.camera.updateProjectionMatrix()}n.setRenderTarget(S.map),n.clear();const z=S.getViewportCount();for(let q=0;q<z;q++){const F=S.getViewport(q);o.set(s.x*F.x,s.y*F.y,s.x*F.z,s.y*F.w),G.viewport(o),S.updateMatrices(V,q),r=S.getFrustum(),w(T,D,S.camera,V,this.type)}S.isPointLightShadow!==!0&&this.type===nu&&v(S,D),S.needsUpdate=!1}x.needsUpdate=!1,n.setRenderTarget(O,C,B)};function v(A,T){const D=e.update(g);p.defines.VSM_SAMPLES!==A.blurSamples&&(p.defines.VSM_SAMPLES=A.blurSamples,m.defines.VSM_SAMPLES=A.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new js(i.x,i.y)),p.uniforms.shadow_pass.value=A.map.texture,p.uniforms.resolution.value=A.mapSize,p.uniforms.radius.value=A.radius,n.setRenderTarget(A.mapPass),n.clear(),n.renderBufferDirect(T,null,D,p,g,null),m.uniforms.shadow_pass.value=A.mapPass.texture,m.uniforms.resolution.value=A.mapSize,m.uniforms.radius.value=A.radius,n.setRenderTarget(A.map),n.clear(),n.renderBufferDirect(T,null,D,m,g,null)}function b(A,T,D,O,C,B){let G=null;const Y=D.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(Y!==void 0)G=Y;else if(G=D.isPointLight===!0?l:a,n.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const oe=G.uuid,V=T.uuid;let S=c[oe];S===void 0&&(S={},c[oe]=S);let L=S[V];L===void 0&&(L=G.clone(),S[V]=L),G=L}return G.visible=T.visible,G.wireframe=T.wireframe,B===nu?G.side=T.shadowSide!==null?T.shadowSide:T.side:G.side=T.shadowSide!==null?T.shadowSide:h[T.side],G.alphaMap=T.alphaMap,G.alphaTest=T.alphaTest,G.map=T.map,G.clipShadows=T.clipShadows,G.clippingPlanes=T.clippingPlanes,G.clipIntersection=T.clipIntersection,G.displacementMap=T.displacementMap,G.displacementScale=T.displacementScale,G.displacementBias=T.displacementBias,G.wireframeLinewidth=T.wireframeLinewidth,G.linewidth=T.linewidth,D.isPointLight===!0&&G.isMeshDistanceMaterial===!0&&(G.referencePosition.setFromMatrixPosition(D.matrixWorld),G.nearDistance=O,G.farDistance=C),G}function w(A,T,D,O,C){if(A.visible===!1)return;if(A.layers.test(T.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&C===nu)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,A.matrixWorld);const Y=e.update(A),oe=A.material;if(Array.isArray(oe)){const V=Y.groups;for(let S=0,L=V.length;S<L;S++){const z=V[S],q=oe[z.materialIndex];if(q&&q.visible){const F=b(A,q,O,D.near,D.far,C);n.renderBufferDirect(D,null,Y,F,A,z)}}}else if(oe.visible){const V=b(A,oe,O,D.near,D.far,C);n.renderBufferDirect(D,null,Y,V,A,null)}}const G=A.children;for(let Y=0,oe=G.length;Y<oe;Y++)w(G[Y],T,D,O,C)}}function nG(n,e,t){const r=t.isWebGL2;function i(){let le=!1;const Ae=new qt;let Ie=null;const ze=new qt(0,0,0,0);return{setMask:function(it){Ie!==it&&!le&&(n.colorMask(it,it,it,it),Ie=it)},setLocked:function(it){le=it},setClear:function(it,ft,xt,pn,Bt){Bt===!0&&(it*=pn,ft*=pn,xt*=pn),Ae.set(it,ft,xt,pn),ze.equals(Ae)===!1&&(n.clearColor(it,ft,xt,pn),ze.copy(Ae))},reset:function(){le=!1,Ie=null,ze.set(-1,0,0,0)}}}function s(){let le=!1,Ae=null,Ie=null,ze=null;return{setTest:function(it){it?ue(2929):ae(2929)},setMask:function(it){Ae!==it&&!le&&(n.depthMask(it),Ae=it)},setFunc:function(it){if(Ie!==it){switch(it){case bI:n.depthFunc(512);break;case wI:n.depthFunc(519);break;case SI:n.depthFunc(513);break;case Z1:n.depthFunc(515);break;case MI:n.depthFunc(514);break;case EI:n.depthFunc(518);break;case AI:n.depthFunc(516);break;case CI:n.depthFunc(517);break;default:n.depthFunc(515)}Ie=it}},setLocked:function(it){le=it},setClear:function(it){ze!==it&&(n.clearDepth(it),ze=it)},reset:function(){le=!1,Ae=null,Ie=null,ze=null}}}function o(){let le=!1,Ae=null,Ie=null,ze=null,it=null,ft=null,xt=null,pn=null,Bt=null;return{setTest:function(pt){le||(pt?ue(2960):ae(2960))},setMask:function(pt){Ae!==pt&&!le&&(n.stencilMask(pt),Ae=pt)},setFunc:function(pt,sr,Pt){(Ie!==pt||ze!==sr||it!==Pt)&&(n.stencilFunc(pt,sr,Pt),Ie=pt,ze=sr,it=Pt)},setOp:function(pt,sr,Pt){(ft!==pt||xt!==sr||pn!==Pt)&&(n.stencilOp(pt,sr,Pt),ft=pt,xt=sr,pn=Pt)},setLocked:function(pt){le=pt},setClear:function(pt){Bt!==pt&&(n.clearStencil(pt),Bt=pt)},reset:function(){le=!1,Ae=null,Ie=null,ze=null,it=null,ft=null,xt=null,pn=null,Bt=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,h=new WeakMap;let p={},m={},y=new WeakMap,g=[],x=null,v=!1,b=null,w=null,A=null,T=null,D=null,O=null,C=null,B=!1,G=null,Y=null,oe=null,V=null,S=null;const L=n.getParameter(35661);let z=!1,q=0;const F=n.getParameter(7938);F.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(F)[1]),z=q>=1):F.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(F)[1]),z=q>=2);let X=null,$={};const P=n.getParameter(3088),M=n.getParameter(2978),W=new qt().fromArray(P),Z=new qt().fromArray(M);function N(le,Ae,Ie){const ze=new Uint8Array(4),it=n.createTexture();n.bindTexture(le,it),n.texParameteri(le,10241,9728),n.texParameteri(le,10240,9728);for(let ft=0;ft<Ie;ft++)n.texImage2D(Ae+ft,0,6408,1,1,0,6408,5121,ze);return it}const J={};J[3553]=N(3553,3553,1),J[34067]=N(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ue(2929),l.setFunc(Z1),We(!1),$e(O2),ue(2884),ve(Ha);function ue(le){p[le]!==!0&&(n.enable(le),p[le]=!0)}function ae(le){p[le]!==!1&&(n.disable(le),p[le]=!1)}function me(le,Ae){return m[le]!==Ae?(n.bindFramebuffer(le,Ae),m[le]=Ae,r&&(le===36009&&(m[36160]=Ae),le===36160&&(m[36009]=Ae)),!0):!1}function we(le,Ae){let Ie=g,ze=!1;if(le)if(Ie=y.get(Ae),Ie===void 0&&(Ie=[],y.set(Ae,Ie)),le.isWebGLMultipleRenderTargets){const it=le.texture;if(Ie.length!==it.length||Ie[0]!==36064){for(let ft=0,xt=it.length;ft<xt;ft++)Ie[ft]=36064+ft;Ie.length=it.length,ze=!0}}else Ie[0]!==36064&&(Ie[0]=36064,ze=!0);else Ie[0]!==1029&&(Ie[0]=1029,ze=!0);ze&&(t.isWebGL2?n.drawBuffers(Ie):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ie))}function Ce(le){return x!==le?(n.useProgram(le),x=le,!0):!1}const ce={[$c]:32774,[uI]:32778,[fI]:32779};if(r)ce[U2]=32775,ce[V2]=32776;else{const le=e.get("EXT_blend_minmax");le!==null&&(ce[U2]=le.MIN_EXT,ce[V2]=le.MAX_EXT)}const ye={[hI]:0,[dI]:1,[pI]:768,[TM]:770,[_I]:776,[yI]:774,[gI]:772,[mI]:769,[PM]:771,[vI]:775,[xI]:773};function ve(le,Ae,Ie,ze,it,ft,xt,pn){if(le===Ha){v===!0&&(ae(3042),v=!1);return}if(v===!1&&(ue(3042),v=!0),le!==cI){if(le!==b||pn!==B){if((w!==$c||D!==$c)&&(n.blendEquation(32774),w=$c,D=$c),pn)switch(le){case hu:n.blendFuncSeparate(1,771,1,771);break;case B2:n.blendFunc(1,1);break;case F2:n.blendFuncSeparate(0,769,0,1);break;case z2:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}else switch(le){case hu:n.blendFuncSeparate(770,771,1,771);break;case B2:n.blendFunc(770,1);break;case F2:n.blendFuncSeparate(0,769,0,1);break;case z2:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}A=null,T=null,O=null,C=null,b=le,B=pn}return}it=it||Ae,ft=ft||Ie,xt=xt||ze,(Ae!==w||it!==D)&&(n.blendEquationSeparate(ce[Ae],ce[it]),w=Ae,D=it),(Ie!==A||ze!==T||ft!==O||xt!==C)&&(n.blendFuncSeparate(ye[Ie],ye[ze],ye[ft],ye[xt]),A=Ie,T=ze,O=ft,C=xt),b=le,B=!1}function De(le,Ae){le.side===sm?ae(2884):ue(2884);let Ie=le.side===cs;Ae&&(Ie=!Ie),We(Ie),le.blending===hu&&le.transparent===!1?ve(Ha):ve(le.blending,le.blendEquation,le.blendSrc,le.blendDst,le.blendEquationAlpha,le.blendSrcAlpha,le.blendDstAlpha,le.premultipliedAlpha),l.setFunc(le.depthFunc),l.setTest(le.depthTest),l.setMask(le.depthWrite),a.setMask(le.colorWrite);const ze=le.stencilWrite;c.setTest(ze),ze&&(c.setMask(le.stencilWriteMask),c.setFunc(le.stencilFunc,le.stencilRef,le.stencilFuncMask),c.setOp(le.stencilFail,le.stencilZFail,le.stencilZPass)),tt(le.polygonOffset,le.polygonOffsetFactor,le.polygonOffsetUnits),le.alphaToCoverage===!0?ue(32926):ae(32926)}function We(le){G!==le&&(le?n.frontFace(2304):n.frontFace(2305),G=le)}function $e(le){le!==oI?(ue(2884),le!==Y&&(le===O2?n.cullFace(1029):le===aI?n.cullFace(1028):n.cullFace(1032))):ae(2884),Y=le}function je(le){le!==oe&&(z&&n.lineWidth(le),oe=le)}function tt(le,Ae,Ie){le?(ue(32823),(V!==Ae||S!==Ie)&&(n.polygonOffset(Ae,Ie),V=Ae,S=Ie)):ae(32823)}function lt(le){le?ue(3089):ae(3089)}function at(le){le===void 0&&(le=33984+L-1),X!==le&&(n.activeTexture(le),X=le)}function re(le,Ae,Ie){Ie===void 0&&(X===null?Ie=33984+L-1:Ie=X);let ze=$[Ie];ze===void 0&&(ze={type:void 0,texture:void 0},$[Ie]=ze),(ze.type!==le||ze.texture!==Ae)&&(X!==Ie&&(n.activeTexture(Ie),X=Ie),n.bindTexture(le,Ae||J[le]),ze.type=le,ze.texture=Ae)}function Q(){const le=$[X];le!==void 0&&le.type!==void 0&&(n.bindTexture(le.type,null),le.type=void 0,le.texture=void 0)}function xe(){try{n.compressedTexImage2D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Oe(){try{n.compressedTexImage3D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Ne(){try{n.texSubImage2D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function H(){try{n.texSubImage3D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function R(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function I(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function j(){try{n.texStorage2D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function se(){try{n.texStorage3D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function K(){try{n.texImage2D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ne(){try{n.texImage3D.apply(n,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Me(le){W.equals(le)===!1&&(n.scissor(le.x,le.y,le.z,le.w),W.copy(le))}function Pe(le){Z.equals(le)===!1&&(n.viewport(le.x,le.y,le.z,le.w),Z.copy(le))}function Be(le,Ae){let Ie=h.get(Ae);Ie===void 0&&(Ie=new WeakMap,h.set(Ae,Ie));let ze=Ie.get(le);ze===void 0&&(ze=n.getUniformBlockIndex(Ae,le.name),Ie.set(le,ze))}function Ze(le,Ae){const ze=h.get(Ae).get(le);u.get(Ae)!==ze&&(n.uniformBlockBinding(Ae,ze,le.__bindingPointIndex),u.set(Ae,ze))}function Xe(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},X=null,$={},m={},y=new WeakMap,g=[],x=null,v=!1,b=null,w=null,A=null,T=null,D=null,O=null,C=null,B=!1,G=null,Y=null,oe=null,V=null,S=null,W.set(0,0,n.canvas.width,n.canvas.height),Z.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:ue,disable:ae,bindFramebuffer:me,drawBuffers:we,useProgram:Ce,setBlending:ve,setMaterial:De,setFlipSided:We,setCullFace:$e,setLineWidth:je,setPolygonOffset:tt,setScissorTest:lt,activeTexture:at,bindTexture:re,unbindTexture:Q,compressedTexImage2D:xe,compressedTexImage3D:Oe,texImage2D:K,texImage3D:ne,updateUBOMapping:Be,uniformBlockBinding:Ze,texStorage2D:j,texStorage3D:se,texSubImage2D:Ne,texSubImage3D:H,compressedTexSubImage2D:R,compressedTexSubImage3D:I,scissor:Me,viewport:Pe,reset:Xe}}function rG(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,h=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let g;const x=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(re,Q){return v?new OffscreenCanvas(re,Q):Ep("canvas")}function w(re,Q,xe,Oe){let Ne=1;if((re.width>Oe||re.height>Oe)&&(Ne=Oe/Math.max(re.width,re.height)),Ne<1||Q===!0)if(typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&re instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&re instanceof ImageBitmap){const H=Q?ny:Math.floor,R=H(Ne*re.width),I=H(Ne*re.height);g===void 0&&(g=b(R,I));const j=xe?b(R,I):g;return j.width=R,j.height=I,j.getContext("2d").drawImage(re,0,0,R,I),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+re.width+"x"+re.height+") to ("+R+"x"+I+")."),j}else return"data"in re&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+re.width+"x"+re.height+")."),re;return re}function A(re){return u3(re.width)&&u3(re.height)}function T(re){return a?!1:re.wrapS!==ei||re.wrapT!==ei||re.minFilter!==Zn&&re.minFilter!==nr}function D(re,Q){return re.generateMipmaps&&Q&&re.minFilter!==Zn&&re.minFilter!==nr}function O(re){n.generateMipmap(re)}function C(re,Q,xe,Oe,Ne=!1){if(a===!1)return Q;if(re!==null){if(n[re]!==void 0)return n[re];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+re+"'")}let H=Q;return Q===6403&&(xe===5126&&(H=33326),xe===5131&&(H=33325),xe===5121&&(H=33321)),Q===33319&&(xe===5126&&(H=33328),xe===5131&&(H=33327),xe===5121&&(H=33323)),Q===6408&&(xe===5126&&(H=34836),xe===5131&&(H=34842),xe===5121&&(H=Oe===on&&Ne===!1?35907:32856),xe===32819&&(H=32854),xe===32820&&(H=32855)),(H===33325||H===33326||H===33327||H===33328||H===34842||H===34836)&&e.get("EXT_color_buffer_float"),H}function B(re,Q,xe){return D(re,xe)===!0||re.isFramebufferTexture&&re.minFilter!==Zn&&re.minFilter!==nr?Math.log2(Math.max(Q.width,Q.height))+1:re.mipmaps!==void 0&&re.mipmaps.length>0?re.mipmaps.length:re.isCompressedTexture&&Array.isArray(re.image)?Q.mipmaps.length:1}function G(re){return re===Zn||re===ey||re===O0?9728:9729}function Y(re){const Q=re.target;Q.removeEventListener("dispose",Y),V(Q),Q.isVideoTexture&&y.delete(Q)}function oe(re){const Q=re.target;Q.removeEventListener("dispose",oe),L(Q)}function V(re){const Q=r.get(re);if(Q.__webglInit===void 0)return;const xe=re.source,Oe=x.get(xe);if(Oe){const Ne=Oe[Q.__cacheKey];Ne.usedTimes--,Ne.usedTimes===0&&S(re),Object.keys(Oe).length===0&&x.delete(xe)}r.remove(re)}function S(re){const Q=r.get(re);n.deleteTexture(Q.__webglTexture);const xe=re.source,Oe=x.get(xe);delete Oe[Q.__cacheKey],o.memory.textures--}function L(re){const Q=re.texture,xe=r.get(re),Oe=r.get(Q);if(Oe.__webglTexture!==void 0&&(n.deleteTexture(Oe.__webglTexture),o.memory.textures--),re.depthTexture&&re.depthTexture.dispose(),re.isWebGLCubeRenderTarget)for(let Ne=0;Ne<6;Ne++)n.deleteFramebuffer(xe.__webglFramebuffer[Ne]),xe.__webglDepthbuffer&&n.deleteRenderbuffer(xe.__webglDepthbuffer[Ne]);else{if(n.deleteFramebuffer(xe.__webglFramebuffer),xe.__webglDepthbuffer&&n.deleteRenderbuffer(xe.__webglDepthbuffer),xe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(xe.__webglMultisampledFramebuffer),xe.__webglColorRenderbuffer)for(let Ne=0;Ne<xe.__webglColorRenderbuffer.length;Ne++)xe.__webglColorRenderbuffer[Ne]&&n.deleteRenderbuffer(xe.__webglColorRenderbuffer[Ne]);xe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(xe.__webglDepthRenderbuffer)}if(re.isWebGLMultipleRenderTargets)for(let Ne=0,H=Q.length;Ne<H;Ne++){const R=r.get(Q[Ne]);R.__webglTexture&&(n.deleteTexture(R.__webglTexture),o.memory.textures--),r.remove(Q[Ne])}r.remove(Q),r.remove(re)}let z=0;function q(){z=0}function F(){const re=z;return re>=l&&console.warn("THREE.WebGLTextures: Trying to use "+re+" texture units while this GPU supports only "+l),z+=1,re}function X(re){const Q=[];return Q.push(re.wrapS),Q.push(re.wrapT),Q.push(re.wrapR||0),Q.push(re.magFilter),Q.push(re.minFilter),Q.push(re.anisotropy),Q.push(re.internalFormat),Q.push(re.format),Q.push(re.type),Q.push(re.generateMipmaps),Q.push(re.premultiplyAlpha),Q.push(re.flipY),Q.push(re.unpackAlignment),Q.push(re.encoding),Q.join()}function $(re,Q){const xe=r.get(re);if(re.isVideoTexture&&lt(re),re.isRenderTargetTexture===!1&&re.version>0&&xe.__version!==re.version){const Oe=re.image;if(Oe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Oe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ae(xe,re,Q);return}}t.bindTexture(3553,xe.__webglTexture,33984+Q)}function P(re,Q){const xe=r.get(re);if(re.version>0&&xe.__version!==re.version){ae(xe,re,Q);return}t.bindTexture(35866,xe.__webglTexture,33984+Q)}function M(re,Q){const xe=r.get(re);if(re.version>0&&xe.__version!==re.version){ae(xe,re,Q);return}t.bindTexture(32879,xe.__webglTexture,33984+Q)}function W(re,Q){const xe=r.get(re);if(re.version>0&&xe.__version!==re.version){me(xe,re,Q);return}t.bindTexture(34067,xe.__webglTexture,33984+Q)}const Z={[yp]:10497,[ei]:33071,[vp]:33648},N={[Zn]:9728,[ey]:9984,[O0]:9986,[nr]:9729,[IM]:9985,[tc]:9987};function J(re,Q,xe){if(xe?(n.texParameteri(re,10242,Z[Q.wrapS]),n.texParameteri(re,10243,Z[Q.wrapT]),(re===32879||re===35866)&&n.texParameteri(re,32882,Z[Q.wrapR]),n.texParameteri(re,10240,N[Q.magFilter]),n.texParameteri(re,10241,N[Q.minFilter])):(n.texParameteri(re,10242,33071),n.texParameteri(re,10243,33071),(re===32879||re===35866)&&n.texParameteri(re,32882,33071),(Q.wrapS!==ei||Q.wrapT!==ei)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(re,10240,G(Q.magFilter)),n.texParameteri(re,10241,G(Q.minFilter)),Q.minFilter!==Zn&&Q.minFilter!==nr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Oe=e.get("EXT_texture_filter_anisotropic");if(Q.magFilter===Zn||Q.minFilter!==O0&&Q.minFilter!==tc||Q.type===za&&e.has("OES_texture_float_linear")===!1||a===!1&&Q.type===Nh&&e.has("OES_texture_half_float_linear")===!1)return;(Q.anisotropy>1||r.get(Q).__currentAnisotropy)&&(n.texParameterf(re,Oe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Q.anisotropy,i.getMaxAnisotropy())),r.get(Q).__currentAnisotropy=Q.anisotropy)}}function ue(re,Q){let xe=!1;re.__webglInit===void 0&&(re.__webglInit=!0,Q.addEventListener("dispose",Y));const Oe=Q.source;let Ne=x.get(Oe);Ne===void 0&&(Ne={},x.set(Oe,Ne));const H=X(Q);if(H!==re.__cacheKey){Ne[H]===void 0&&(Ne[H]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,xe=!0),Ne[H].usedTimes++;const R=Ne[re.__cacheKey];R!==void 0&&(Ne[re.__cacheKey].usedTimes--,R.usedTimes===0&&S(Q)),re.__cacheKey=H,re.__webglTexture=Ne[H].texture}return xe}function ae(re,Q,xe){let Oe=3553;(Q.isDataArrayTexture||Q.isCompressedArrayTexture)&&(Oe=35866),Q.isData3DTexture&&(Oe=32879);const Ne=ue(re,Q),H=Q.source;t.bindTexture(Oe,re.__webglTexture,33984+xe);const R=r.get(H);if(H.version!==R.__version||Ne===!0){t.activeTexture(33984+xe),n.pixelStorei(37440,Q.flipY),n.pixelStorei(37441,Q.premultiplyAlpha),n.pixelStorei(3317,Q.unpackAlignment),n.pixelStorei(37443,0);const I=T(Q)&&A(Q.image)===!1;let j=w(Q.image,I,!1,u);j=at(Q,j);const se=A(j)||a,K=s.convert(Q.format,Q.encoding);let ne=s.convert(Q.type),Me=C(Q.internalFormat,K,ne,Q.encoding,Q.isVideoTexture);J(Oe,Q,se);let Pe;const Be=Q.mipmaps,Ze=a&&Q.isVideoTexture!==!0,Xe=R.__version===void 0||Ne===!0,le=B(Q,j,se);if(Q.isDepthTexture)Me=6402,a?Q.type===za?Me=36012:Q.type===Pl?Me=33190:Q.type===du?Me=35056:Me=33189:Q.type===za&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Q.format===jl&&Me===6402&&Q.type!==kM&&Q.type!==Pl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Q.type=Pl,ne=s.convert(Q.type)),Q.format===Pu&&Me===6402&&(Me=34041,Q.type!==du&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Q.type=du,ne=s.convert(Q.type))),Xe&&(Ze?t.texStorage2D(3553,1,Me,j.width,j.height):t.texImage2D(3553,0,Me,j.width,j.height,0,K,ne,null));else if(Q.isDataTexture)if(Be.length>0&&se){Ze&&Xe&&t.texStorage2D(3553,le,Me,Be[0].width,Be[0].height);for(let Ae=0,Ie=Be.length;Ae<Ie;Ae++)Pe=Be[Ae],Ze?t.texSubImage2D(3553,Ae,0,0,Pe.width,Pe.height,K,ne,Pe.data):t.texImage2D(3553,Ae,Me,Pe.width,Pe.height,0,K,ne,Pe.data);Q.generateMipmaps=!1}else Ze?(Xe&&t.texStorage2D(3553,le,Me,j.width,j.height),t.texSubImage2D(3553,0,0,0,j.width,j.height,K,ne,j.data)):t.texImage2D(3553,0,Me,j.width,j.height,0,K,ne,j.data);else if(Q.isCompressedTexture)if(Q.isCompressedArrayTexture){Ze&&Xe&&t.texStorage3D(35866,le,Me,Be[0].width,Be[0].height,j.depth);for(let Ae=0,Ie=Be.length;Ae<Ie;Ae++)Pe=Be[Ae],Q.format!==Di?K!==null?Ze?t.compressedTexSubImage3D(35866,Ae,0,0,0,Pe.width,Pe.height,j.depth,K,Pe.data,0,0):t.compressedTexImage3D(35866,Ae,Me,Pe.width,Pe.height,j.depth,0,Pe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ze?t.texSubImage3D(35866,Ae,0,0,0,Pe.width,Pe.height,j.depth,K,ne,Pe.data):t.texImage3D(35866,Ae,Me,Pe.width,Pe.height,j.depth,0,K,ne,Pe.data)}else{Ze&&Xe&&t.texStorage2D(3553,le,Me,Be[0].width,Be[0].height);for(let Ae=0,Ie=Be.length;Ae<Ie;Ae++)Pe=Be[Ae],Q.format!==Di?K!==null?Ze?t.compressedTexSubImage2D(3553,Ae,0,0,Pe.width,Pe.height,K,Pe.data):t.compressedTexImage2D(3553,Ae,Me,Pe.width,Pe.height,0,Pe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ze?t.texSubImage2D(3553,Ae,0,0,Pe.width,Pe.height,K,ne,Pe.data):t.texImage2D(3553,Ae,Me,Pe.width,Pe.height,0,K,ne,Pe.data)}else if(Q.isDataArrayTexture)Ze?(Xe&&t.texStorage3D(35866,le,Me,j.width,j.height,j.depth),t.texSubImage3D(35866,0,0,0,0,j.width,j.height,j.depth,K,ne,j.data)):t.texImage3D(35866,0,Me,j.width,j.height,j.depth,0,K,ne,j.data);else if(Q.isData3DTexture)Ze?(Xe&&t.texStorage3D(32879,le,Me,j.width,j.height,j.depth),t.texSubImage3D(32879,0,0,0,0,j.width,j.height,j.depth,K,ne,j.data)):t.texImage3D(32879,0,Me,j.width,j.height,j.depth,0,K,ne,j.data);else if(Q.isFramebufferTexture){if(Xe)if(Ze)t.texStorage2D(3553,le,Me,j.width,j.height);else{let Ae=j.width,Ie=j.height;for(let ze=0;ze<le;ze++)t.texImage2D(3553,ze,Me,Ae,Ie,0,K,ne,null),Ae>>=1,Ie>>=1}}else if(Be.length>0&&se){Ze&&Xe&&t.texStorage2D(3553,le,Me,Be[0].width,Be[0].height);for(let Ae=0,Ie=Be.length;Ae<Ie;Ae++)Pe=Be[Ae],Ze?t.texSubImage2D(3553,Ae,0,0,K,ne,Pe):t.texImage2D(3553,Ae,Me,K,ne,Pe);Q.generateMipmaps=!1}else Ze?(Xe&&t.texStorage2D(3553,le,Me,j.width,j.height),t.texSubImage2D(3553,0,0,0,K,ne,j)):t.texImage2D(3553,0,Me,K,ne,j);D(Q,se)&&O(Oe),R.__version=H.version,Q.onUpdate&&Q.onUpdate(Q)}re.__version=Q.version}function me(re,Q,xe){if(Q.image.length!==6)return;const Oe=ue(re,Q),Ne=Q.source;t.bindTexture(34067,re.__webglTexture,33984+xe);const H=r.get(Ne);if(Ne.version!==H.__version||Oe===!0){t.activeTexture(33984+xe),n.pixelStorei(37440,Q.flipY),n.pixelStorei(37441,Q.premultiplyAlpha),n.pixelStorei(3317,Q.unpackAlignment),n.pixelStorei(37443,0);const R=Q.isCompressedTexture||Q.image[0].isCompressedTexture,I=Q.image[0]&&Q.image[0].isDataTexture,j=[];for(let Ae=0;Ae<6;Ae++)!R&&!I?j[Ae]=w(Q.image[Ae],!1,!0,c):j[Ae]=I?Q.image[Ae].image:Q.image[Ae],j[Ae]=at(Q,j[Ae]);const se=j[0],K=A(se)||a,ne=s.convert(Q.format,Q.encoding),Me=s.convert(Q.type),Pe=C(Q.internalFormat,ne,Me,Q.encoding),Be=a&&Q.isVideoTexture!==!0,Ze=H.__version===void 0||Oe===!0;let Xe=B(Q,se,K);J(34067,Q,K);let le;if(R){Be&&Ze&&t.texStorage2D(34067,Xe,Pe,se.width,se.height);for(let Ae=0;Ae<6;Ae++){le=j[Ae].mipmaps;for(let Ie=0;Ie<le.length;Ie++){const ze=le[Ie];Q.format!==Di?ne!==null?Be?t.compressedTexSubImage2D(34069+Ae,Ie,0,0,ze.width,ze.height,ne,ze.data):t.compressedTexImage2D(34069+Ae,Ie,Pe,ze.width,ze.height,0,ze.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Be?t.texSubImage2D(34069+Ae,Ie,0,0,ze.width,ze.height,ne,Me,ze.data):t.texImage2D(34069+Ae,Ie,Pe,ze.width,ze.height,0,ne,Me,ze.data)}}}else{le=Q.mipmaps,Be&&Ze&&(le.length>0&&Xe++,t.texStorage2D(34067,Xe,Pe,j[0].width,j[0].height));for(let Ae=0;Ae<6;Ae++)if(I){Be?t.texSubImage2D(34069+Ae,0,0,0,j[Ae].width,j[Ae].height,ne,Me,j[Ae].data):t.texImage2D(34069+Ae,0,Pe,j[Ae].width,j[Ae].height,0,ne,Me,j[Ae].data);for(let Ie=0;Ie<le.length;Ie++){const it=le[Ie].image[Ae].image;Be?t.texSubImage2D(34069+Ae,Ie+1,0,0,it.width,it.height,ne,Me,it.data):t.texImage2D(34069+Ae,Ie+1,Pe,it.width,it.height,0,ne,Me,it.data)}}else{Be?t.texSubImage2D(34069+Ae,0,0,0,ne,Me,j[Ae]):t.texImage2D(34069+Ae,0,Pe,ne,Me,j[Ae]);for(let Ie=0;Ie<le.length;Ie++){const ze=le[Ie];Be?t.texSubImage2D(34069+Ae,Ie+1,0,0,ne,Me,ze.image[Ae]):t.texImage2D(34069+Ae,Ie+1,Pe,ne,Me,ze.image[Ae])}}}D(Q,K)&&O(34067),H.__version=Ne.version,Q.onUpdate&&Q.onUpdate(Q)}re.__version=Q.version}function we(re,Q,xe,Oe,Ne){const H=s.convert(xe.format,xe.encoding),R=s.convert(xe.type),I=C(xe.internalFormat,H,R,xe.encoding);r.get(Q).__hasExternalTextures||(Ne===32879||Ne===35866?t.texImage3D(Ne,0,I,Q.width,Q.height,Q.depth,0,H,R,null):t.texImage2D(Ne,0,I,Q.width,Q.height,0,H,R,null)),t.bindFramebuffer(36160,re),tt(Q)?p.framebufferTexture2DMultisampleEXT(36160,Oe,Ne,r.get(xe).__webglTexture,0,je(Q)):(Ne===3553||Ne>=34069&&Ne<=34074)&&n.framebufferTexture2D(36160,Oe,Ne,r.get(xe).__webglTexture,0),t.bindFramebuffer(36160,null)}function Ce(re,Q,xe){if(n.bindRenderbuffer(36161,re),Q.depthBuffer&&!Q.stencilBuffer){let Oe=33189;if(xe||tt(Q)){const Ne=Q.depthTexture;Ne&&Ne.isDepthTexture&&(Ne.type===za?Oe=36012:Ne.type===Pl&&(Oe=33190));const H=je(Q);tt(Q)?p.renderbufferStorageMultisampleEXT(36161,H,Oe,Q.width,Q.height):n.renderbufferStorageMultisample(36161,H,Oe,Q.width,Q.height)}else n.renderbufferStorage(36161,Oe,Q.width,Q.height);n.framebufferRenderbuffer(36160,36096,36161,re)}else if(Q.depthBuffer&&Q.stencilBuffer){const Oe=je(Q);xe&&tt(Q)===!1?n.renderbufferStorageMultisample(36161,Oe,35056,Q.width,Q.height):tt(Q)?p.renderbufferStorageMultisampleEXT(36161,Oe,35056,Q.width,Q.height):n.renderbufferStorage(36161,34041,Q.width,Q.height),n.framebufferRenderbuffer(36160,33306,36161,re)}else{const Oe=Q.isWebGLMultipleRenderTargets===!0?Q.texture:[Q.texture];for(let Ne=0;Ne<Oe.length;Ne++){const H=Oe[Ne],R=s.convert(H.format,H.encoding),I=s.convert(H.type),j=C(H.internalFormat,R,I,H.encoding),se=je(Q);xe&&tt(Q)===!1?n.renderbufferStorageMultisample(36161,se,j,Q.width,Q.height):tt(Q)?p.renderbufferStorageMultisampleEXT(36161,se,j,Q.width,Q.height):n.renderbufferStorage(36161,j,Q.width,Q.height)}}n.bindRenderbuffer(36161,null)}function ce(re,Q){if(Q&&Q.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,re),!(Q.depthTexture&&Q.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(Q.depthTexture).__webglTexture||Q.depthTexture.image.width!==Q.width||Q.depthTexture.image.height!==Q.height)&&(Q.depthTexture.image.width=Q.width,Q.depthTexture.image.height=Q.height,Q.depthTexture.needsUpdate=!0),$(Q.depthTexture,0);const Oe=r.get(Q.depthTexture).__webglTexture,Ne=je(Q);if(Q.depthTexture.format===jl)tt(Q)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,Oe,0,Ne):n.framebufferTexture2D(36160,36096,3553,Oe,0);else if(Q.depthTexture.format===Pu)tt(Q)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,Oe,0,Ne):n.framebufferTexture2D(36160,33306,3553,Oe,0);else throw new Error("Unknown depthTexture format")}function ye(re){const Q=r.get(re),xe=re.isWebGLCubeRenderTarget===!0;if(re.depthTexture&&!Q.__autoAllocateDepthBuffer){if(xe)throw new Error("target.depthTexture not supported in Cube render targets");ce(Q.__webglFramebuffer,re)}else if(xe){Q.__webglDepthbuffer=[];for(let Oe=0;Oe<6;Oe++)t.bindFramebuffer(36160,Q.__webglFramebuffer[Oe]),Q.__webglDepthbuffer[Oe]=n.createRenderbuffer(),Ce(Q.__webglDepthbuffer[Oe],re,!1)}else t.bindFramebuffer(36160,Q.__webglFramebuffer),Q.__webglDepthbuffer=n.createRenderbuffer(),Ce(Q.__webglDepthbuffer,re,!1);t.bindFramebuffer(36160,null)}function ve(re,Q,xe){const Oe=r.get(re);Q!==void 0&&we(Oe.__webglFramebuffer,re,re.texture,36064,3553),xe!==void 0&&ye(re)}function De(re){const Q=re.texture,xe=r.get(re),Oe=r.get(Q);re.addEventListener("dispose",oe),re.isWebGLMultipleRenderTargets!==!0&&(Oe.__webglTexture===void 0&&(Oe.__webglTexture=n.createTexture()),Oe.__version=Q.version,o.memory.textures++);const Ne=re.isWebGLCubeRenderTarget===!0,H=re.isWebGLMultipleRenderTargets===!0,R=A(re)||a;if(Ne){xe.__webglFramebuffer=[];for(let I=0;I<6;I++)xe.__webglFramebuffer[I]=n.createFramebuffer()}else{if(xe.__webglFramebuffer=n.createFramebuffer(),H)if(i.drawBuffers){const I=re.texture;for(let j=0,se=I.length;j<se;j++){const K=r.get(I[j]);K.__webglTexture===void 0&&(K.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&re.samples>0&&tt(re)===!1){const I=H?Q:[Q];xe.__webglMultisampledFramebuffer=n.createFramebuffer(),xe.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,xe.__webglMultisampledFramebuffer);for(let j=0;j<I.length;j++){const se=I[j];xe.__webglColorRenderbuffer[j]=n.createRenderbuffer(),n.bindRenderbuffer(36161,xe.__webglColorRenderbuffer[j]);const K=s.convert(se.format,se.encoding),ne=s.convert(se.type),Me=C(se.internalFormat,K,ne,se.encoding,re.isXRRenderTarget===!0),Pe=je(re);n.renderbufferStorageMultisample(36161,Pe,Me,re.width,re.height),n.framebufferRenderbuffer(36160,36064+j,36161,xe.__webglColorRenderbuffer[j])}n.bindRenderbuffer(36161,null),re.depthBuffer&&(xe.__webglDepthRenderbuffer=n.createRenderbuffer(),Ce(xe.__webglDepthRenderbuffer,re,!0)),t.bindFramebuffer(36160,null)}}if(Ne){t.bindTexture(34067,Oe.__webglTexture),J(34067,Q,R);for(let I=0;I<6;I++)we(xe.__webglFramebuffer[I],re,Q,36064,34069+I);D(Q,R)&&O(34067),t.unbindTexture()}else if(H){const I=re.texture;for(let j=0,se=I.length;j<se;j++){const K=I[j],ne=r.get(K);t.bindTexture(3553,ne.__webglTexture),J(3553,K,R),we(xe.__webglFramebuffer,re,K,36064+j,3553),D(K,R)&&O(3553)}t.unbindTexture()}else{let I=3553;(re.isWebGL3DRenderTarget||re.isWebGLArrayRenderTarget)&&(a?I=re.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(I,Oe.__webglTexture),J(I,Q,R),we(xe.__webglFramebuffer,re,Q,36064,I),D(Q,R)&&O(I),t.unbindTexture()}re.depthBuffer&&ye(re)}function We(re){const Q=A(re)||a,xe=re.isWebGLMultipleRenderTargets===!0?re.texture:[re.texture];for(let Oe=0,Ne=xe.length;Oe<Ne;Oe++){const H=xe[Oe];if(D(H,Q)){const R=re.isWebGLCubeRenderTarget?34067:3553,I=r.get(H).__webglTexture;t.bindTexture(R,I),O(R),t.unbindTexture()}}}function $e(re){if(a&&re.samples>0&&tt(re)===!1){const Q=re.isWebGLMultipleRenderTargets?re.texture:[re.texture],xe=re.width,Oe=re.height;let Ne=16384;const H=[],R=re.stencilBuffer?33306:36096,I=r.get(re),j=re.isWebGLMultipleRenderTargets===!0;if(j)for(let se=0;se<Q.length;se++)t.bindFramebuffer(36160,I.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+se,36161,null),t.bindFramebuffer(36160,I.__webglFramebuffer),n.framebufferTexture2D(36009,36064+se,3553,null,0);t.bindFramebuffer(36008,I.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,I.__webglFramebuffer);for(let se=0;se<Q.length;se++){H.push(36064+se),re.depthBuffer&&H.push(R);const K=I.__ignoreDepthValues!==void 0?I.__ignoreDepthValues:!1;if(K===!1&&(re.depthBuffer&&(Ne|=256),re.stencilBuffer&&(Ne|=1024)),j&&n.framebufferRenderbuffer(36008,36064,36161,I.__webglColorRenderbuffer[se]),K===!0&&(n.invalidateFramebuffer(36008,[R]),n.invalidateFramebuffer(36009,[R])),j){const ne=r.get(Q[se]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,ne,0)}n.blitFramebuffer(0,0,xe,Oe,0,0,xe,Oe,Ne,9728),m&&n.invalidateFramebuffer(36008,H)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),j)for(let se=0;se<Q.length;se++){t.bindFramebuffer(36160,I.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+se,36161,I.__webglColorRenderbuffer[se]);const K=r.get(Q[se]).__webglTexture;t.bindFramebuffer(36160,I.__webglFramebuffer),n.framebufferTexture2D(36009,36064+se,3553,K,0)}t.bindFramebuffer(36009,I.__webglMultisampledFramebuffer)}}function je(re){return Math.min(h,re.samples)}function tt(re){const Q=r.get(re);return a&&re.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Q.__useRenderToTexture!==!1}function lt(re){const Q=o.render.frame;y.get(re)!==Q&&(y.set(re,Q),re.update())}function at(re,Q){const xe=re.encoding,Oe=re.format,Ne=re.type;return re.isCompressedTexture===!0||re.isVideoTexture===!0||re.format===ty||xe!==Ka&&(xe===on?a===!1?e.has("EXT_sRGB")===!0&&Oe===Di?(re.format=ty,re.minFilter=nr,re.generateMipmaps=!1):Q=DM.sRGBToLinear(Q):(Oe!==Di||Ne!==Xa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",xe)),Q}this.allocateTextureUnit=F,this.resetTextureUnits=q,this.setTexture2D=$,this.setTexture2DArray=P,this.setTexture3D=M,this.setTextureCube=W,this.rebindTextures=ve,this.setupRenderTarget=De,this.updateRenderTargetMipmap=We,this.updateMultisampleRenderTarget=$e,this.setupDepthRenderbuffer=ye,this.setupFrameBufferTexture=we,this.useMultisampledRTT=tt}function p7(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===Xa)return 5121;if(s===BI)return 32819;if(s===FI)return 32820;if(s===NI)return 5120;if(s===DI)return 5122;if(s===kM)return 5123;if(s===OI)return 5124;if(s===Pl)return 5125;if(s===za)return 5126;if(s===Nh)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===zI)return 6406;if(s===Di)return 6408;if(s===VI)return 6409;if(s===HI)return 6410;if(s===jl)return 6402;if(s===Pu)return 34041;if(s===UI)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===ty)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===WI)return 6403;if(s===GI)return 36244;if(s===jI)return 33319;if(s===qI)return 33320;if(s===XI)return 36249;if(s===s1||s===o1||s===a1||s===l1)if(o===on)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===s1)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===o1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===a1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===l1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===s1)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===o1)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===a1)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===l1)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===H2||s===W2||s===G2||s===j2)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===H2)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===W2)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===G2)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===j2)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===KI)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===q2||s===X2)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===q2)return o===on?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===X2)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===K2||s===$2||s===Y2||s===J2||s===Q2||s===Z2||s===e3||s===t3||s===n3||s===r3||s===i3||s===s3||s===o3||s===a3)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===K2)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===$2)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Y2)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===J2)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Q2)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===Z2)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===e3)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===t3)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===n3)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===r3)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===i3)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===s3)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===o3)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===a3)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===l3)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===l3)return o===on?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===du?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class m7 extends An{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class sh extends Jt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const iG={type:"move"};class zb{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new sh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new sh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ee,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ee),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new sh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ee,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ee),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const g of e.hand.values()){const x=t.getJointPose(g,r),v=this._getHandJoint(c,g);x!==null&&(v.matrix.fromArray(x.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.jointRadius=x.radius),v.visible=x!==null}const u=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],p=u.position.distanceTo(h.position),m=.02,y=.005;c.inputState.pinching&&p>m+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(iG)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new sh;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class g7 extends qn{constructor(e,t,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:jl,u!==jl&&u!==Pu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===jl&&(r=Pl),r===void 0&&u===Pu&&(r=du),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Zn,this.minFilter=l!==void 0?l:Zn,this.flipY=!1,this.generateMipmaps=!1}}class sG extends ua{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,c=null,u=null,h=null,p=null,m=null;const y=t.getContextAttributes();let g=null,x=null;const v=[],b=[],w=new Set,A=new Map,T=new An;T.layers.enable(1),T.viewport=new qt;const D=new An;D.layers.enable(2),D.viewport=new qt;const O=[T,D],C=new m7;C.layers.enable(1),C.layers.enable(2);let B=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(P){let M=v[P];return M===void 0&&(M=new zb,v[P]=M),M.getTargetRaySpace()},this.getControllerGrip=function(P){let M=v[P];return M===void 0&&(M=new zb,v[P]=M),M.getGripSpace()},this.getHand=function(P){let M=v[P];return M===void 0&&(M=new zb,v[P]=M),M.getHandSpace()};function Y(P){const M=b.indexOf(P.inputSource);if(M===-1)return;const W=v[M];W!==void 0&&W.dispatchEvent({type:P.type,data:P.inputSource})}function oe(){i.removeEventListener("select",Y),i.removeEventListener("selectstart",Y),i.removeEventListener("selectend",Y),i.removeEventListener("squeeze",Y),i.removeEventListener("squeezestart",Y),i.removeEventListener("squeezeend",Y),i.removeEventListener("end",oe),i.removeEventListener("inputsourceschange",V);for(let P=0;P<v.length;P++){const M=b[P];M!==null&&(b[P]=null,v[P].disconnect(M))}B=null,G=null,e.setRenderTarget(g),p=null,h=null,u=null,i=null,x=null,$.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(P){s=P,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(P){a=P,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(P){l=P},this.getBaseLayer=function(){return h!==null?h:p},this.getBinding=function(){return u},this.getFrame=function(){return m},this.getSession=function(){return i},this.setSession=async function(P){if(i=P,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",Y),i.addEventListener("selectstart",Y),i.addEventListener("selectend",Y),i.addEventListener("squeeze",Y),i.addEventListener("squeezestart",Y),i.addEventListener("squeezeend",Y),i.addEventListener("end",oe),i.addEventListener("inputsourceschange",V),y.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const M={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:y.alpha,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};p=new XRWebGLLayer(i,t,M),i.updateRenderState({baseLayer:p}),x=new js(p.framebufferWidth,p.framebufferHeight,{format:Di,type:Xa,encoding:e.outputEncoding,stencilBuffer:y.stencil})}else{let M=null,W=null,Z=null;y.depth&&(Z=y.stencil?35056:33190,M=y.stencil?Pu:jl,W=y.stencil?du:Pl);const N={colorFormat:32856,depthFormat:Z,scaleFactor:s};u=new XRWebGLBinding(i,t),h=u.createProjectionLayer(N),i.updateRenderState({layers:[h]}),x=new js(h.textureWidth,h.textureHeight,{format:Di,type:Xa,depthTexture:new g7(h.textureWidth,h.textureHeight,W,void 0,void 0,void 0,void 0,void 0,void 0,M),stencilBuffer:y.stencil,encoding:e.outputEncoding,samples:y.antialias?4:0});const J=e.properties.get(x);J.__ignoreDepthValues=h.ignoreDepthValues}x.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await i.requestReferenceSpace(a),$.setContext(i),$.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function V(P){for(let M=0;M<P.removed.length;M++){const W=P.removed[M],Z=b.indexOf(W);Z>=0&&(b[Z]=null,v[Z].disconnect(W))}for(let M=0;M<P.added.length;M++){const W=P.added[M];let Z=b.indexOf(W);if(Z===-1){for(let J=0;J<v.length;J++)if(J>=b.length){b.push(W),Z=J;break}else if(b[J]===null){b[J]=W,Z=J;break}if(Z===-1)break}const N=v[Z];N&&N.connect(W)}}const S=new ee,L=new ee;function z(P,M,W){S.setFromMatrixPosition(M.matrixWorld),L.setFromMatrixPosition(W.matrixWorld);const Z=S.distanceTo(L),N=M.projectionMatrix.elements,J=W.projectionMatrix.elements,ue=N[14]/(N[10]-1),ae=N[14]/(N[10]+1),me=(N[9]+1)/N[5],we=(N[9]-1)/N[5],Ce=(N[8]-1)/N[0],ce=(J[8]+1)/J[0],ye=ue*Ce,ve=ue*ce,De=Z/(-Ce+ce),We=De*-Ce;M.matrixWorld.decompose(P.position,P.quaternion,P.scale),P.translateX(We),P.translateZ(De),P.matrixWorld.compose(P.position,P.quaternion,P.scale),P.matrixWorldInverse.copy(P.matrixWorld).invert();const $e=ue+De,je=ae+De,tt=ye-We,lt=ve+(Z-We),at=me*ae/je*$e,re=we*ae/je*$e;P.projectionMatrix.makePerspective(tt,lt,at,re,$e,je)}function q(P,M){M===null?P.matrixWorld.copy(P.matrix):P.matrixWorld.multiplyMatrices(M.matrixWorld,P.matrix),P.matrixWorldInverse.copy(P.matrixWorld).invert()}this.updateCamera=function(P){if(i===null)return;C.near=D.near=T.near=P.near,C.far=D.far=T.far=P.far,(B!==C.near||G!==C.far)&&(i.updateRenderState({depthNear:C.near,depthFar:C.far}),B=C.near,G=C.far);const M=P.parent,W=C.cameras;q(C,M);for(let N=0;N<W.length;N++)q(W[N],M);C.matrixWorld.decompose(C.position,C.quaternion,C.scale),P.matrix.copy(C.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale);const Z=P.children;for(let N=0,J=Z.length;N<J;N++)Z[N].updateMatrixWorld(!0);W.length===2?z(C,T,D):C.projectionMatrix.copy(T.projectionMatrix)},this.getCamera=function(){return C},this.getFoveation=function(){if(h!==null)return h.fixedFoveation;if(p!==null)return p.fixedFoveation},this.setFoveation=function(P){h!==null&&(h.fixedFoveation=P),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=P)},this.getPlanes=function(){return w};let F=null;function X(P,M){if(c=M.getViewerPose(l||o),m=M,c!==null){const W=c.views;p!==null&&(e.setRenderTargetFramebuffer(x,p.framebuffer),e.setRenderTarget(x));let Z=!1;W.length!==C.cameras.length&&(C.cameras.length=0,Z=!0);for(let N=0;N<W.length;N++){const J=W[N];let ue=null;if(p!==null)ue=p.getViewport(J);else{const me=u.getViewSubImage(h,J);ue=me.viewport,N===0&&(e.setRenderTargetTextures(x,me.colorTexture,h.ignoreDepthValues?void 0:me.depthStencilTexture),e.setRenderTarget(x))}let ae=O[N];ae===void 0&&(ae=new An,ae.layers.enable(N),ae.viewport=new qt,O[N]=ae),ae.matrix.fromArray(J.transform.matrix),ae.projectionMatrix.fromArray(J.projectionMatrix),ae.viewport.set(ue.x,ue.y,ue.width,ue.height),N===0&&C.matrix.copy(ae.matrix),Z===!0&&C.cameras.push(ae)}}for(let W=0;W<v.length;W++){const Z=b[W],N=v[W];Z!==null&&N!==void 0&&N.update(Z,M,l||o)}if(F&&F(P,M),M.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:M.detectedPlanes});let W=null;for(const Z of w)M.detectedPlanes.has(Z)||(W===null&&(W=[]),W.push(Z));if(W!==null)for(const Z of W)w.delete(Z),A.delete(Z),r.dispatchEvent({type:"planeremoved",data:Z});for(const Z of M.detectedPlanes)if(!w.has(Z))w.add(Z),A.set(Z,M.lastChangedTime),r.dispatchEvent({type:"planeadded",data:Z});else{const N=A.get(Z);Z.lastChangedTime>N&&(A.set(Z,Z.lastChangedTime),r.dispatchEvent({type:"planechanged",data:Z}))}}m=null}const $=new c7;$.setAnimationLoop(X),this.setAnimationLoop=function(P){F=P},this.dispose=function(){}}}function oG(n,e){function t(g,x){x.color.getRGB(g.fogColor.value,s7(n)),x.isFog?(g.fogNear.value=x.near,g.fogFar.value=x.far):x.isFogExp2&&(g.fogDensity.value=x.density)}function r(g,x,v,b,w){x.isMeshBasicMaterial||x.isMeshLambertMaterial?i(g,x):x.isMeshToonMaterial?(i(g,x),u(g,x)):x.isMeshPhongMaterial?(i(g,x),c(g,x)):x.isMeshStandardMaterial?(i(g,x),h(g,x),x.isMeshPhysicalMaterial&&p(g,x,w)):x.isMeshMatcapMaterial?(i(g,x),m(g,x)):x.isMeshDepthMaterial?i(g,x):x.isMeshDistanceMaterial?(i(g,x),y(g,x)):x.isMeshNormalMaterial?i(g,x):x.isLineBasicMaterial?(s(g,x),x.isLineDashedMaterial&&o(g,x)):x.isPointsMaterial?a(g,x,v,b):x.isSpriteMaterial?l(g,x):x.isShadowMaterial?(g.color.value.copy(x.color),g.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function i(g,x){g.opacity.value=x.opacity,x.color&&g.diffuse.value.copy(x.color),x.emissive&&g.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(g.map.value=x.map),x.alphaMap&&(g.alphaMap.value=x.alphaMap),x.bumpMap&&(g.bumpMap.value=x.bumpMap,g.bumpScale.value=x.bumpScale,x.side===cs&&(g.bumpScale.value*=-1)),x.displacementMap&&(g.displacementMap.value=x.displacementMap,g.displacementScale.value=x.displacementScale,g.displacementBias.value=x.displacementBias),x.emissiveMap&&(g.emissiveMap.value=x.emissiveMap),x.normalMap&&(g.normalMap.value=x.normalMap,g.normalScale.value.copy(x.normalScale),x.side===cs&&g.normalScale.value.negate()),x.specularMap&&(g.specularMap.value=x.specularMap),x.alphaTest>0&&(g.alphaTest.value=x.alphaTest);const v=e.get(x).envMap;if(v&&(g.envMap.value=v,g.flipEnvMap.value=v.isCubeTexture&&v.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=x.reflectivity,g.ior.value=x.ior,g.refractionRatio.value=x.refractionRatio),x.lightMap){g.lightMap.value=x.lightMap;const A=n.physicallyCorrectLights!==!0?Math.PI:1;g.lightMapIntensity.value=x.lightMapIntensity*A}x.aoMap&&(g.aoMap.value=x.aoMap,g.aoMapIntensity.value=x.aoMapIntensity);let b;x.map?b=x.map:x.specularMap?b=x.specularMap:x.displacementMap?b=x.displacementMap:x.normalMap?b=x.normalMap:x.bumpMap?b=x.bumpMap:x.roughnessMap?b=x.roughnessMap:x.metalnessMap?b=x.metalnessMap:x.alphaMap?b=x.alphaMap:x.emissiveMap?b=x.emissiveMap:x.clearcoatMap?b=x.clearcoatMap:x.clearcoatNormalMap?b=x.clearcoatNormalMap:x.clearcoatRoughnessMap?b=x.clearcoatRoughnessMap:x.iridescenceMap?b=x.iridescenceMap:x.iridescenceThicknessMap?b=x.iridescenceThicknessMap:x.specularIntensityMap?b=x.specularIntensityMap:x.specularColorMap?b=x.specularColorMap:x.transmissionMap?b=x.transmissionMap:x.thicknessMap?b=x.thicknessMap:x.sheenColorMap?b=x.sheenColorMap:x.sheenRoughnessMap&&(b=x.sheenRoughnessMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),g.uvTransform.value.copy(b.matrix));let w;x.aoMap?w=x.aoMap:x.lightMap&&(w=x.lightMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),g.uv2Transform.value.copy(w.matrix))}function s(g,x){g.diffuse.value.copy(x.color),g.opacity.value=x.opacity}function o(g,x){g.dashSize.value=x.dashSize,g.totalSize.value=x.dashSize+x.gapSize,g.scale.value=x.scale}function a(g,x,v,b){g.diffuse.value.copy(x.color),g.opacity.value=x.opacity,g.size.value=x.size*v,g.scale.value=b*.5,x.map&&(g.map.value=x.map),x.alphaMap&&(g.alphaMap.value=x.alphaMap),x.alphaTest>0&&(g.alphaTest.value=x.alphaTest);let w;x.map?w=x.map:x.alphaMap&&(w=x.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),g.uvTransform.value.copy(w.matrix))}function l(g,x){g.diffuse.value.copy(x.color),g.opacity.value=x.opacity,g.rotation.value=x.rotation,x.map&&(g.map.value=x.map),x.alphaMap&&(g.alphaMap.value=x.alphaMap),x.alphaTest>0&&(g.alphaTest.value=x.alphaTest);let v;x.map?v=x.map:x.alphaMap&&(v=x.alphaMap),v!==void 0&&(v.matrixAutoUpdate===!0&&v.updateMatrix(),g.uvTransform.value.copy(v.matrix))}function c(g,x){g.specular.value.copy(x.specular),g.shininess.value=Math.max(x.shininess,1e-4)}function u(g,x){x.gradientMap&&(g.gradientMap.value=x.gradientMap)}function h(g,x){g.roughness.value=x.roughness,g.metalness.value=x.metalness,x.roughnessMap&&(g.roughnessMap.value=x.roughnessMap),x.metalnessMap&&(g.metalnessMap.value=x.metalnessMap),e.get(x).envMap&&(g.envMapIntensity.value=x.envMapIntensity)}function p(g,x,v){g.ior.value=x.ior,x.sheen>0&&(g.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),g.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(g.sheenColorMap.value=x.sheenColorMap),x.sheenRoughnessMap&&(g.sheenRoughnessMap.value=x.sheenRoughnessMap)),x.clearcoat>0&&(g.clearcoat.value=x.clearcoat,g.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(g.clearcoatMap.value=x.clearcoatMap),x.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap),x.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),g.clearcoatNormalMap.value=x.clearcoatNormalMap,x.side===cs&&g.clearcoatNormalScale.value.negate())),x.iridescence>0&&(g.iridescence.value=x.iridescence,g.iridescenceIOR.value=x.iridescenceIOR,g.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(g.iridescenceMap.value=x.iridescenceMap),x.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=x.iridescenceThicknessMap)),x.transmission>0&&(g.transmission.value=x.transmission,g.transmissionSamplerMap.value=v.texture,g.transmissionSamplerSize.value.set(v.width,v.height),x.transmissionMap&&(g.transmissionMap.value=x.transmissionMap),g.thickness.value=x.thickness,x.thicknessMap&&(g.thicknessMap.value=x.thicknessMap),g.attenuationDistance.value=x.attenuationDistance,g.attenuationColor.value.copy(x.attenuationColor)),g.specularIntensity.value=x.specularIntensity,g.specularColor.value.copy(x.specularColor),x.specularIntensityMap&&(g.specularIntensityMap.value=x.specularIntensityMap),x.specularColorMap&&(g.specularColorMap.value=x.specularColorMap)}function m(g,x){x.matcap&&(g.matcap.value=x.matcap)}function y(g,x){g.referencePosition.value.copy(x.referencePosition),g.nearDistance.value=x.nearDistance,g.farDistance.value=x.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function aG(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(b,w){const A=w.program;r.uniformBlockBinding(b,A)}function c(b,w){let A=i[b.id];A===void 0&&(y(b),A=u(b),i[b.id]=A,b.addEventListener("dispose",x));const T=w.program;r.updateUBOMapping(b,T);const D=e.render.frame;s[b.id]!==D&&(p(b),s[b.id]=D)}function u(b){const w=h();b.__bindingPointIndex=w;const A=n.createBuffer(),T=b.__size,D=b.usage;return n.bindBuffer(35345,A),n.bufferData(35345,T,D),n.bindBuffer(35345,null),n.bindBufferBase(35345,w,A),A}function h(){for(let b=0;b<a;b++)if(o.indexOf(b)===-1)return o.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(b){const w=i[b.id],A=b.uniforms,T=b.__cache;n.bindBuffer(35345,w);for(let D=0,O=A.length;D<O;D++){const C=A[D];if(m(C,D,T)===!0){const B=C.__offset,G=Array.isArray(C.value)?C.value:[C.value];let Y=0;for(let oe=0;oe<G.length;oe++){const V=G[oe],S=g(V);typeof V=="number"?(C.__data[0]=V,n.bufferSubData(35345,B+Y,C.__data)):V.isMatrix3?(C.__data[0]=V.elements[0],C.__data[1]=V.elements[1],C.__data[2]=V.elements[2],C.__data[3]=V.elements[0],C.__data[4]=V.elements[3],C.__data[5]=V.elements[4],C.__data[6]=V.elements[5],C.__data[7]=V.elements[0],C.__data[8]=V.elements[6],C.__data[9]=V.elements[7],C.__data[10]=V.elements[8],C.__data[11]=V.elements[0]):(V.toArray(C.__data,Y),Y+=S.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,B,C.__data)}}n.bindBuffer(35345,null)}function m(b,w,A){const T=b.value;if(A[w]===void 0){if(typeof T=="number")A[w]=T;else{const D=Array.isArray(T)?T:[T],O=[];for(let C=0;C<D.length;C++)O.push(D[C].clone());A[w]=O}return!0}else if(typeof T=="number"){if(A[w]!==T)return A[w]=T,!0}else{const D=Array.isArray(A[w])?A[w]:[A[w]],O=Array.isArray(T)?T:[T];for(let C=0;C<D.length;C++){const B=D[C];if(B.equals(O[C])===!1)return B.copy(O[C]),!0}}return!1}function y(b){const w=b.uniforms;let A=0;const T=16;let D=0;for(let O=0,C=w.length;O<C;O++){const B=w[O],G={boundary:0,storage:0},Y=Array.isArray(B.value)?B.value:[B.value];for(let oe=0,V=Y.length;oe<V;oe++){const S=Y[oe],L=g(S);G.boundary+=L.boundary,G.storage+=L.storage}if(B.__data=new Float32Array(G.storage/Float32Array.BYTES_PER_ELEMENT),B.__offset=A,O>0){D=A%T;const oe=T-D;D!==0&&oe-G.boundary<0&&(A+=T-D,B.__offset=A)}A+=G.storage}return D=A%T,D>0&&(A+=T-D),b.__size=A,b.__cache={},this}function g(b){const w={boundary:0,storage:0};return typeof b=="number"?(w.boundary=4,w.storage=4):b.isVector2?(w.boundary=8,w.storage=8):b.isVector3||b.isColor?(w.boundary=16,w.storage=12):b.isVector4?(w.boundary=16,w.storage=16):b.isMatrix3?(w.boundary=48,w.storage=48):b.isMatrix4?(w.boundary=64,w.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),w}function x(b){const w=b.target;w.removeEventListener("dispose",x);const A=o.indexOf(w.__bindingPointIndex);o.splice(A,1),n.deleteBuffer(i[w.id]),delete i[w.id],delete s[w.id]}function v(){for(const b in i)n.deleteBuffer(i[b]);o=[],i={},s={}}return{bind:l,update:c,dispose:v}}function lG(){const n=Ep("canvas");return n.style.display="block",n}function VM(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:lG(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let u;t!==null?u=t.getContextAttributes().alpha:u=n.alpha!==void 0?n.alpha:!1;let h=null,p=null;const m=[],y=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Ka,this.physicallyCorrectLights=!1,this.toneMapping=bo,this.toneMappingExposure=1;const g=this;let x=!1,v=0,b=0,w=null,A=-1,T=null;const D=new qt,O=new qt;let C=null,B=e.width,G=e.height,Y=1,oe=null,V=null;const S=new qt(0,0,B,G),L=new qt(0,0,B,G);let z=!1;const q=new rv;let F=!1,X=!1,$=null;const P=new Tt,M=new Le,W=new ee,Z={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function N(){return w===null?Y:1}let J=t;function ue(te,de){for(let Se=0;Se<te.length;Se++){const ge=te[Se],Ee=e.getContext(ge,de);if(Ee!==null)return Ee}return null}try{const te={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Qy}`),e.addEventListener("webglcontextlost",Me,!1),e.addEventListener("webglcontextrestored",Pe,!1),e.addEventListener("webglcontextcreationerror",Be,!1),J===null){const de=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&de.shift(),J=ue(de,te),J===null)throw ue(de)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}J.getShaderPrecisionFormat===void 0&&(J.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(te){throw console.error("THREE.WebGLRenderer: "+te.message),te}let ae,me,we,Ce,ce,ye,ve,De,We,$e,je,tt,lt,at,re,Q,xe,Oe,Ne,H,R,I,j,se;function K(){ae=new MH(J),me=new yH(J,ae,n),ae.init(me),I=new p7(J,ae,me),we=new nG(J,ae,me),Ce=new CH,ce=new GW,ye=new rG(J,ae,we,ce,me,I,Ce),ve=new _H(g),De=new SH(g),We=new Oz(J,me),j=new gH(J,ae,We,me),$e=new EH(J,We,Ce,j),je=new IH(J,$e,We,Ce),Ne=new RH(J,me,ye),Q=new vH(ce),tt=new WW(g,ve,De,ae,me,j,Q),lt=new oG(g,ce),at=new qW,re=new QW(ae,me),Oe=new mH(g,ve,De,we,je,u,o),xe=new tG(g,je,me),se=new aG(J,Ce,me,we),H=new xH(J,ae,Ce,me),R=new AH(J,ae,Ce,me),Ce.programs=tt.programs,g.capabilities=me,g.extensions=ae,g.properties=ce,g.renderLists=at,g.shadowMap=xe,g.state=we,g.info=Ce}K();const ne=new sG(g,J);this.xr=ne,this.getContext=function(){return J},this.getContextAttributes=function(){return J.getContextAttributes()},this.forceContextLoss=function(){const te=ae.get("WEBGL_lose_context");te&&te.loseContext()},this.forceContextRestore=function(){const te=ae.get("WEBGL_lose_context");te&&te.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(te){te!==void 0&&(Y=te,this.setSize(B,G,!1))},this.getSize=function(te){return te.set(B,G)},this.setSize=function(te,de,Se){if(ne.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}B=te,G=de,e.width=Math.floor(te*Y),e.height=Math.floor(de*Y),Se!==!1&&(e.style.width=te+"px",e.style.height=de+"px"),this.setViewport(0,0,te,de)},this.getDrawingBufferSize=function(te){return te.set(B*Y,G*Y).floor()},this.setDrawingBufferSize=function(te,de,Se){B=te,G=de,Y=Se,e.width=Math.floor(te*Se),e.height=Math.floor(de*Se),this.setViewport(0,0,te,de)},this.getCurrentViewport=function(te){return te.copy(D)},this.getViewport=function(te){return te.copy(S)},this.setViewport=function(te,de,Se,ge){te.isVector4?S.set(te.x,te.y,te.z,te.w):S.set(te,de,Se,ge),we.viewport(D.copy(S).multiplyScalar(Y).floor())},this.getScissor=function(te){return te.copy(L)},this.setScissor=function(te,de,Se,ge){te.isVector4?L.set(te.x,te.y,te.z,te.w):L.set(te,de,Se,ge),we.scissor(O.copy(L).multiplyScalar(Y).floor())},this.getScissorTest=function(){return z},this.setScissorTest=function(te){we.setScissorTest(z=te)},this.setOpaqueSort=function(te){oe=te},this.setTransparentSort=function(te){V=te},this.getClearColor=function(te){return te.copy(Oe.getClearColor())},this.setClearColor=function(){Oe.setClearColor.apply(Oe,arguments)},this.getClearAlpha=function(){return Oe.getClearAlpha()},this.setClearAlpha=function(){Oe.setClearAlpha.apply(Oe,arguments)},this.clear=function(te=!0,de=!0,Se=!0){let ge=0;te&&(ge|=16384),de&&(ge|=256),Se&&(ge|=1024),J.clear(ge)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Me,!1),e.removeEventListener("webglcontextrestored",Pe,!1),e.removeEventListener("webglcontextcreationerror",Be,!1),at.dispose(),re.dispose(),ce.dispose(),ve.dispose(),De.dispose(),je.dispose(),j.dispose(),se.dispose(),tt.dispose(),ne.dispose(),ne.removeEventListener("sessionstart",ze),ne.removeEventListener("sessionend",it),$&&($.dispose(),$=null),ft.stop()};function Me(te){te.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function Pe(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const te=Ce.autoReset,de=xe.enabled,Se=xe.autoUpdate,ge=xe.needsUpdate,Ee=xe.type;K(),Ce.autoReset=te,xe.enabled=de,xe.autoUpdate=Se,xe.needsUpdate=ge,xe.type=Ee}function Be(te){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",te.statusMessage)}function Ze(te){const de=te.target;de.removeEventListener("dispose",Ze),Xe(de)}function Xe(te){le(te),ce.remove(te)}function le(te){const de=ce.get(te).programs;de!==void 0&&(de.forEach(function(Se){tt.releaseProgram(Se)}),te.isShaderMaterial&&tt.releaseShaderCache(te))}this.renderBufferDirect=function(te,de,Se,ge,Ee,Ke){de===null&&(de=Z);const mt=Ee.isMesh&&Ee.matrixWorld.determinant()<0,nt=Ys(te,de,Se,ge,Ee);we.setMaterial(ge,mt);let st=Se.index,bt=1;ge.wireframe===!0&&(st=$e.getWireframeAttribute(Se),bt=2);const yt=Se.drawRange,vt=Se.attributes.position;let Zt=yt.start*bt,wn=(yt.start+yt.count)*bt;Ke!==null&&(Zt=Math.max(Zt,Ke.start*bt),wn=Math.min(wn,(Ke.start+Ke.count)*bt)),st!==null?(Zt=Math.max(Zt,0),wn=Math.min(wn,st.count)):vt!=null&&(Zt=Math.max(Zt,0),wn=Math.min(wn,vt.count));const ci=wn-Zt;if(ci<0||ci===1/0)return;j.setup(Ee,ge,nt,Se,st);let Xi,sn=H;if(st!==null&&(Xi=We.get(st),sn=R,sn.setIndex(Xi)),Ee.isMesh)ge.wireframe===!0?(we.setLineWidth(ge.wireframeLinewidth*N()),sn.setMode(1)):sn.setMode(4);else if(Ee.isLine){let wt=ge.linewidth;wt===void 0&&(wt=1),we.setLineWidth(wt*N()),Ee.isLineSegments?sn.setMode(1):Ee.isLineLoop?sn.setMode(2):sn.setMode(3)}else Ee.isPoints?sn.setMode(0):Ee.isSprite&&sn.setMode(4);if(Ee.isInstancedMesh)sn.renderInstances(Zt,ci,Ee.count);else if(Se.isInstancedBufferGeometry){const wt=Se._maxInstanceCount!==void 0?Se._maxInstanceCount:1/0,Js=Math.min(Se.instanceCount,wt);sn.renderInstances(Zt,ci,Js)}else sn.render(Zt,ci)},this.compile=function(te,de){function Se(ge,Ee,Ke){ge.transparent===!0&&ge.side===y0?(ge.side=cs,ge.needsUpdate=!0,Pt(ge,Ee,Ke),ge.side=Ql,ge.needsUpdate=!0,Pt(ge,Ee,Ke),ge.side=y0):Pt(ge,Ee,Ke)}p=re.get(te),p.init(),y.push(p),te.traverseVisible(function(ge){ge.isLight&&ge.layers.test(de.layers)&&(p.pushLight(ge),ge.castShadow&&p.pushShadow(ge))}),p.setupLights(g.physicallyCorrectLights),te.traverse(function(ge){const Ee=ge.material;if(Ee)if(Array.isArray(Ee))for(let Ke=0;Ke<Ee.length;Ke++){const mt=Ee[Ke];Se(mt,te,ge)}else Se(Ee,te,ge)}),y.pop(),p=null};let Ae=null;function Ie(te){Ae&&Ae(te)}function ze(){ft.stop()}function it(){ft.start()}const ft=new c7;ft.setAnimationLoop(Ie),typeof self<"u"&&ft.setContext(self),this.setAnimationLoop=function(te){Ae=te,ne.setAnimationLoop(te),te===null?ft.stop():ft.start()},ne.addEventListener("sessionstart",ze),ne.addEventListener("sessionend",it),this.render=function(te,de){if(de!==void 0&&de.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;te.matrixWorldAutoUpdate===!0&&te.updateMatrixWorld(),de.parent===null&&de.matrixWorldAutoUpdate===!0&&de.updateMatrixWorld(),ne.enabled===!0&&ne.isPresenting===!0&&(ne.cameraAutoUpdate===!0&&ne.updateCamera(de),de=ne.getCamera()),te.isScene===!0&&te.onBeforeRender(g,te,de,w),p=re.get(te,y.length),p.init(),y.push(p),P.multiplyMatrices(de.projectionMatrix,de.matrixWorldInverse),q.setFromProjectionMatrix(P),X=this.localClippingEnabled,F=Q.init(this.clippingPlanes,X,de),h=at.get(te,m.length),h.init(),m.push(h),xt(te,de,0,g.sortObjects),h.finish(),g.sortObjects===!0&&h.sort(oe,V),F===!0&&Q.beginShadows();const Se=p.state.shadowsArray;if(xe.render(Se,te,de),F===!0&&Q.endShadows(),this.info.autoReset===!0&&this.info.reset(),Oe.render(h,te),p.setupLights(g.physicallyCorrectLights),de.isArrayCamera){const ge=de.cameras;for(let Ee=0,Ke=ge.length;Ee<Ke;Ee++){const mt=ge[Ee];pn(h,te,mt,mt.viewport)}}else pn(h,te,de);w!==null&&(ye.updateMultisampleRenderTarget(w),ye.updateRenderTargetMipmap(w)),te.isScene===!0&&te.onAfterRender(g,te,de),j.resetDefaultState(),A=-1,T=null,y.pop(),y.length>0?p=y[y.length-1]:p=null,m.pop(),m.length>0?h=m[m.length-1]:h=null};function xt(te,de,Se,ge){if(te.visible===!1)return;if(te.layers.test(de.layers)){if(te.isGroup)Se=te.renderOrder;else if(te.isLOD)te.autoUpdate===!0&&te.update(de);else if(te.isLight)p.pushLight(te),te.castShadow&&p.pushShadow(te);else if(te.isSprite){if(!te.frustumCulled||q.intersectsSprite(te)){ge&&W.setFromMatrixPosition(te.matrixWorld).applyMatrix4(P);const mt=je.update(te),nt=te.material;nt.visible&&h.push(te,mt,nt,Se,W.z,null)}}else if((te.isMesh||te.isLine||te.isPoints)&&(te.isSkinnedMesh&&te.skeleton.frame!==Ce.render.frame&&(te.skeleton.update(),te.skeleton.frame=Ce.render.frame),!te.frustumCulled||q.intersectsObject(te))){ge&&W.setFromMatrixPosition(te.matrixWorld).applyMatrix4(P);const mt=je.update(te),nt=te.material;if(Array.isArray(nt)){const st=mt.groups;for(let bt=0,yt=st.length;bt<yt;bt++){const vt=st[bt],Zt=nt[vt.materialIndex];Zt&&Zt.visible&&h.push(te,mt,Zt,Se,W.z,vt)}}else nt.visible&&h.push(te,mt,nt,Se,W.z,null)}}const Ke=te.children;for(let mt=0,nt=Ke.length;mt<nt;mt++)xt(Ke[mt],de,Se,ge)}function pn(te,de,Se,ge){const Ee=te.opaque,Ke=te.transmissive,mt=te.transparent;p.setupLightsView(Se),Ke.length>0&&Bt(Ee,de,Se),ge&&we.viewport(D.copy(ge)),Ee.length>0&&pt(Ee,de,Se),Ke.length>0&&pt(Ke,de,Se),mt.length>0&&pt(mt,de,Se),we.buffers.depth.setTest(!0),we.buffers.depth.setMask(!0),we.buffers.color.setMask(!0),we.setPolygonOffset(!1)}function Bt(te,de,Se){const ge=me.isWebGL2;$===null&&($=new js(1,1,{generateMipmaps:!0,type:ae.has("EXT_color_buffer_half_float")?Nh:Xa,minFilter:tc,samples:ge&&s===!0?4:0})),g.getDrawingBufferSize(M),ge?$.setSize(M.x,M.y):$.setSize(ny(M.x),ny(M.y));const Ee=g.getRenderTarget();g.setRenderTarget($),g.clear();const Ke=g.toneMapping;g.toneMapping=bo,pt(te,de,Se),g.toneMapping=Ke,ye.updateMultisampleRenderTarget($),ye.updateRenderTargetMipmap($),g.setRenderTarget(Ee)}function pt(te,de,Se){const ge=de.isScene===!0?de.overrideMaterial:null;for(let Ee=0,Ke=te.length;Ee<Ke;Ee++){const mt=te[Ee],nt=mt.object,st=mt.geometry,bt=ge===null?mt.material:ge,yt=mt.group;nt.layers.test(Se.layers)&&sr(nt,de,Se,st,bt,yt)}}function sr(te,de,Se,ge,Ee,Ke){te.onBeforeRender(g,de,Se,ge,Ee,Ke),te.modelViewMatrix.multiplyMatrices(Se.matrixWorldInverse,te.matrixWorld),te.normalMatrix.getNormalMatrix(te.modelViewMatrix),Ee.onBeforeRender(g,de,Se,ge,te,Ke),Ee.transparent===!0&&Ee.side===y0?(Ee.side=cs,Ee.needsUpdate=!0,g.renderBufferDirect(Se,de,ge,Ee,te,Ke),Ee.side=Ql,Ee.needsUpdate=!0,g.renderBufferDirect(Se,de,ge,Ee,te,Ke),Ee.side=y0):g.renderBufferDirect(Se,de,ge,Ee,te,Ke),te.onAfterRender(g,de,Se,ge,Ee,Ke)}function Pt(te,de,Se){de.isScene!==!0&&(de=Z);const ge=ce.get(te),Ee=p.state.lights,Ke=p.state.shadowsArray,mt=Ee.state.version,nt=tt.getParameters(te,Ee.state,Ke,de,Se),st=tt.getProgramCacheKey(nt);let bt=ge.programs;ge.environment=te.isMeshStandardMaterial?de.environment:null,ge.fog=de.fog,ge.envMap=(te.isMeshStandardMaterial?De:ve).get(te.envMap||ge.environment),bt===void 0&&(te.addEventListener("dispose",Ze),bt=new Map,ge.programs=bt);let yt=bt.get(st);if(yt!==void 0){if(ge.currentProgram===yt&&ge.lightsStateVersion===mt)return en(te,nt),yt}else nt.uniforms=tt.getUniforms(te),te.onBuild(Se,nt,g),te.onBeforeCompile(nt,g),yt=tt.acquireProgram(nt,st),bt.set(st,yt),ge.uniforms=nt.uniforms;const vt=ge.uniforms;(!te.isShaderMaterial&&!te.isRawShaderMaterial||te.clipping===!0)&&(vt.clippingPlanes=Q.uniform),en(te,nt),ge.needsLights=Qt(te),ge.lightsStateVersion=mt,ge.needsLights&&(vt.ambientLightColor.value=Ee.state.ambient,vt.lightProbe.value=Ee.state.probe,vt.directionalLights.value=Ee.state.directional,vt.directionalLightShadows.value=Ee.state.directionalShadow,vt.spotLights.value=Ee.state.spot,vt.spotLightShadows.value=Ee.state.spotShadow,vt.rectAreaLights.value=Ee.state.rectArea,vt.ltc_1.value=Ee.state.rectAreaLTC1,vt.ltc_2.value=Ee.state.rectAreaLTC2,vt.pointLights.value=Ee.state.point,vt.pointLightShadows.value=Ee.state.pointShadow,vt.hemisphereLights.value=Ee.state.hemi,vt.directionalShadowMap.value=Ee.state.directionalShadowMap,vt.directionalShadowMatrix.value=Ee.state.directionalShadowMatrix,vt.spotShadowMap.value=Ee.state.spotShadowMap,vt.spotLightMatrix.value=Ee.state.spotLightMatrix,vt.spotLightMap.value=Ee.state.spotLightMap,vt.pointShadowMap.value=Ee.state.pointShadowMap,vt.pointShadowMatrix.value=Ee.state.pointShadowMatrix);const Zt=yt.getUniforms(),wn=h1.seqWithValue(Zt.seq,vt);return ge.currentProgram=yt,ge.uniformsList=wn,yt}function en(te,de){const Se=ce.get(te);Se.outputEncoding=de.outputEncoding,Se.instancing=de.instancing,Se.skinning=de.skinning,Se.morphTargets=de.morphTargets,Se.morphNormals=de.morphNormals,Se.morphColors=de.morphColors,Se.morphTargetsCount=de.morphTargetsCount,Se.numClippingPlanes=de.numClippingPlanes,Se.numIntersection=de.numClipIntersection,Se.vertexAlphas=de.vertexAlphas,Se.vertexTangents=de.vertexTangents,Se.toneMapping=de.toneMapping}function Ys(te,de,Se,ge,Ee){de.isScene!==!0&&(de=Z),ye.resetTextureUnits();const Ke=de.fog,mt=ge.isMeshStandardMaterial?de.environment:null,nt=w===null?g.outputEncoding:w.isXRRenderTarget===!0?w.texture.encoding:Ka,st=(ge.isMeshStandardMaterial?De:ve).get(ge.envMap||mt),bt=ge.vertexColors===!0&&!!Se.attributes.color&&Se.attributes.color.itemSize===4,yt=!!ge.normalMap&&!!Se.attributes.tangent,vt=!!Se.morphAttributes.position,Zt=!!Se.morphAttributes.normal,wn=!!Se.morphAttributes.color,ci=ge.toneMapped?g.toneMapping:bo,Xi=Se.morphAttributes.position||Se.morphAttributes.normal||Se.morphAttributes.color,sn=Xi!==void 0?Xi.length:0,wt=ce.get(ge),Js=p.state.lights;if(F===!0&&(X===!0||te!==T)){const Wt=te===T&&ge.id===A;Q.setState(ge,te,Wt)}let mn=!1;ge.version===wt.__version?(wt.needsLights&&wt.lightsStateVersion!==Js.state.version||wt.outputEncoding!==nt||Ee.isInstancedMesh&&wt.instancing===!1||!Ee.isInstancedMesh&&wt.instancing===!0||Ee.isSkinnedMesh&&wt.skinning===!1||!Ee.isSkinnedMesh&&wt.skinning===!0||wt.envMap!==st||ge.fog===!0&&wt.fog!==Ke||wt.numClippingPlanes!==void 0&&(wt.numClippingPlanes!==Q.numPlanes||wt.numIntersection!==Q.numIntersection)||wt.vertexAlphas!==bt||wt.vertexTangents!==yt||wt.morphTargets!==vt||wt.morphNormals!==Zt||wt.morphColors!==wn||wt.toneMapping!==ci||me.isWebGL2===!0&&wt.morphTargetsCount!==sn)&&(mn=!0):(mn=!0,wt.__version=ge.version);let Ki=wt.currentProgram;mn===!0&&(Ki=Pt(ge,de,Ee));let To=!1,Vr=!1,Hr=!1;const _t=Ki.getUniforms(),Dt=wt.uniforms;if(we.useProgram(Ki.program)&&(To=!0,Vr=!0,Hr=!0),ge.id!==A&&(A=ge.id,Vr=!0),To||T!==te){if(_t.setValue(J,"projectionMatrix",te.projectionMatrix),me.logarithmicDepthBuffer&&_t.setValue(J,"logDepthBufFC",2/(Math.log(te.far+1)/Math.LN2)),T!==te&&(T=te,Vr=!0,Hr=!0),ge.isShaderMaterial||ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshStandardMaterial||ge.envMap){const Wt=_t.map.cameraPosition;Wt!==void 0&&Wt.setValue(J,W.setFromMatrixPosition(te.matrixWorld))}(ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshLambertMaterial||ge.isMeshBasicMaterial||ge.isMeshStandardMaterial||ge.isShaderMaterial)&&_t.setValue(J,"isOrthographic",te.isOrthographicCamera===!0),(ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshLambertMaterial||ge.isMeshBasicMaterial||ge.isMeshStandardMaterial||ge.isShaderMaterial||ge.isShadowMaterial||Ee.isSkinnedMesh)&&_t.setValue(J,"viewMatrix",te.matrixWorldInverse)}if(Ee.isSkinnedMesh){_t.setOptional(J,Ee,"bindMatrix"),_t.setOptional(J,Ee,"bindMatrixInverse");const Wt=Ee.skeleton;Wt&&(me.floatVertexTextures?(Wt.boneTexture===null&&Wt.computeBoneTexture(),_t.setValue(J,"boneTexture",Wt.boneTexture,ye),_t.setValue(J,"boneTextureSize",Wt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Wr=Se.morphAttributes;if((Wr.position!==void 0||Wr.normal!==void 0||Wr.color!==void 0&&me.isWebGL2===!0)&&Ne.update(Ee,Se,ge,Ki),(Vr||wt.receiveShadow!==Ee.receiveShadow)&&(wt.receiveShadow=Ee.receiveShadow,_t.setValue(J,"receiveShadow",Ee.receiveShadow)),ge.isMeshGouraudMaterial&&ge.envMap!==null&&(Dt.envMap.value=st,Dt.flipEnvMap.value=st.isCubeTexture&&st.isRenderTargetTexture===!1?-1:1),Vr&&(_t.setValue(J,"toneMappingExposure",g.toneMappingExposure),wt.needsLights&&tn(Dt,Hr),Ke&&ge.fog===!0&&lt.refreshFogUniforms(Dt,Ke),lt.refreshMaterialUniforms(Dt,ge,Y,G,$),h1.upload(J,wt.uniformsList,Dt,ye)),ge.isShaderMaterial&&ge.uniformsNeedUpdate===!0&&(h1.upload(J,wt.uniformsList,Dt,ye),ge.uniformsNeedUpdate=!1),ge.isSpriteMaterial&&_t.setValue(J,"center",Ee.center),_t.setValue(J,"modelViewMatrix",Ee.modelViewMatrix),_t.setValue(J,"normalMatrix",Ee.normalMatrix),_t.setValue(J,"modelMatrix",Ee.matrixWorld),ge.isShaderMaterial||ge.isRawShaderMaterial){const Wt=ge.uniformsGroups;for(let wr=0,da=Wt.length;wr<da;wr++)if(me.isWebGL2){const pa=Wt[wr];se.update(pa,Ki),se.bind(pa,Ki)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Ki}function tn(te,de){te.ambientLightColor.needsUpdate=de,te.lightProbe.needsUpdate=de,te.directionalLights.needsUpdate=de,te.directionalLightShadows.needsUpdate=de,te.pointLights.needsUpdate=de,te.pointLightShadows.needsUpdate=de,te.spotLights.needsUpdate=de,te.spotLightShadows.needsUpdate=de,te.rectAreaLights.needsUpdate=de,te.hemisphereLights.needsUpdate=de}function Qt(te){return te.isMeshLambertMaterial||te.isMeshToonMaterial||te.isMeshPhongMaterial||te.isMeshStandardMaterial||te.isShadowMaterial||te.isShaderMaterial&&te.lights===!0}this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(te,de,Se){ce.get(te.texture).__webglTexture=de,ce.get(te.depthTexture).__webglTexture=Se;const ge=ce.get(te);ge.__hasExternalTextures=!0,ge.__hasExternalTextures&&(ge.__autoAllocateDepthBuffer=Se===void 0,ge.__autoAllocateDepthBuffer||ae.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ge.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(te,de){const Se=ce.get(te);Se.__webglFramebuffer=de,Se.__useDefaultFramebuffer=de===void 0},this.setRenderTarget=function(te,de=0,Se=0){w=te,v=de,b=Se;let ge=!0,Ee=null,Ke=!1,mt=!1;if(te){const st=ce.get(te);st.__useDefaultFramebuffer!==void 0?(we.bindFramebuffer(36160,null),ge=!1):st.__webglFramebuffer===void 0?ye.setupRenderTarget(te):st.__hasExternalTextures&&ye.rebindTextures(te,ce.get(te.texture).__webglTexture,ce.get(te.depthTexture).__webglTexture);const bt=te.texture;(bt.isData3DTexture||bt.isDataArrayTexture||bt.isCompressedArrayTexture)&&(mt=!0);const yt=ce.get(te).__webglFramebuffer;te.isWebGLCubeRenderTarget?(Ee=yt[de],Ke=!0):me.isWebGL2&&te.samples>0&&ye.useMultisampledRTT(te)===!1?Ee=ce.get(te).__webglMultisampledFramebuffer:Ee=yt,D.copy(te.viewport),O.copy(te.scissor),C=te.scissorTest}else D.copy(S).multiplyScalar(Y).floor(),O.copy(L).multiplyScalar(Y).floor(),C=z;if(we.bindFramebuffer(36160,Ee)&&me.drawBuffers&&ge&&we.drawBuffers(te,Ee),we.viewport(D),we.scissor(O),we.setScissorTest(C),Ke){const st=ce.get(te.texture);J.framebufferTexture2D(36160,36064,34069+de,st.__webglTexture,Se)}else if(mt){const st=ce.get(te.texture),bt=de||0;J.framebufferTextureLayer(36160,36064,st.__webglTexture,Se||0,bt)}A=-1},this.readRenderTargetPixels=function(te,de,Se,ge,Ee,Ke,mt){if(!(te&&te.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let nt=ce.get(te).__webglFramebuffer;if(te.isWebGLCubeRenderTarget&&mt!==void 0&&(nt=nt[mt]),nt){we.bindFramebuffer(36160,nt);try{const st=te.texture,bt=st.format,yt=st.type;if(bt!==Di&&I.convert(bt)!==J.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const vt=yt===Nh&&(ae.has("EXT_color_buffer_half_float")||me.isWebGL2&&ae.has("EXT_color_buffer_float"));if(yt!==Xa&&I.convert(yt)!==J.getParameter(35738)&&!(yt===za&&(me.isWebGL2||ae.has("OES_texture_float")||ae.has("WEBGL_color_buffer_float")))&&!vt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}de>=0&&de<=te.width-ge&&Se>=0&&Se<=te.height-Ee&&J.readPixels(de,Se,ge,Ee,I.convert(bt),I.convert(yt),Ke)}finally{const st=w!==null?ce.get(w).__webglFramebuffer:null;we.bindFramebuffer(36160,st)}}},this.copyFramebufferToTexture=function(te,de,Se=0){const ge=Math.pow(2,-Se),Ee=Math.floor(de.image.width*ge),Ke=Math.floor(de.image.height*ge);ye.setTexture2D(de,0),J.copyTexSubImage2D(3553,Se,0,0,te.x,te.y,Ee,Ke),we.unbindTexture()},this.copyTextureToTexture=function(te,de,Se,ge=0){const Ee=de.image.width,Ke=de.image.height,mt=I.convert(Se.format),nt=I.convert(Se.type);ye.setTexture2D(Se,0),J.pixelStorei(37440,Se.flipY),J.pixelStorei(37441,Se.premultiplyAlpha),J.pixelStorei(3317,Se.unpackAlignment),de.isDataTexture?J.texSubImage2D(3553,ge,te.x,te.y,Ee,Ke,mt,nt,de.image.data):de.isCompressedTexture?J.compressedTexSubImage2D(3553,ge,te.x,te.y,de.mipmaps[0].width,de.mipmaps[0].height,mt,de.mipmaps[0].data):J.texSubImage2D(3553,ge,te.x,te.y,mt,nt,de.image),ge===0&&Se.generateMipmaps&&J.generateMipmap(3553),we.unbindTexture()},this.copyTextureToTexture3D=function(te,de,Se,ge,Ee=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ke=te.max.x-te.min.x+1,mt=te.max.y-te.min.y+1,nt=te.max.z-te.min.z+1,st=I.convert(ge.format),bt=I.convert(ge.type);let yt;if(ge.isData3DTexture)ye.setTexture3D(ge,0),yt=32879;else if(ge.isDataArrayTexture)ye.setTexture2DArray(ge,0),yt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}J.pixelStorei(37440,ge.flipY),J.pixelStorei(37441,ge.premultiplyAlpha),J.pixelStorei(3317,ge.unpackAlignment);const vt=J.getParameter(3314),Zt=J.getParameter(32878),wn=J.getParameter(3316),ci=J.getParameter(3315),Xi=J.getParameter(32877),sn=Se.isCompressedTexture?Se.mipmaps[0]:Se.image;J.pixelStorei(3314,sn.width),J.pixelStorei(32878,sn.height),J.pixelStorei(3316,te.min.x),J.pixelStorei(3315,te.min.y),J.pixelStorei(32877,te.min.z),Se.isDataTexture||Se.isData3DTexture?J.texSubImage3D(yt,Ee,de.x,de.y,de.z,Ke,mt,nt,st,bt,sn.data):Se.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),J.compressedTexSubImage3D(yt,Ee,de.x,de.y,de.z,Ke,mt,nt,st,sn.data)):J.texSubImage3D(yt,Ee,de.x,de.y,de.z,Ke,mt,nt,st,bt,sn),J.pixelStorei(3314,vt),J.pixelStorei(32878,Zt),J.pixelStorei(3316,wn),J.pixelStorei(3315,ci),J.pixelStorei(32877,Xi),Ee===0&&ge.generateMipmaps&&J.generateMipmap(yt),we.unbindTexture()},this.initTexture=function(te){te.isCubeTexture?ye.setTextureCube(te,0):te.isData3DTexture?ye.setTexture3D(te,0):te.isDataArrayTexture||te.isCompressedArrayTexture?ye.setTexture2DArray(te,0):ye.setTexture2D(te,0),we.unbindTexture()},this.resetState=function(){v=0,b=0,w=null,we.reset(),j.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class x7 extends VM{}x7.prototype.isWebGL1Renderer=!0;class sv{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new et(e),this.density=t}clone(){return new sv(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class ov{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new et(e),this.near=t,this.far=r}clone(){return new ov(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}let HM=class extends Jt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}};class av{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Sp,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=us()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=us()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=us()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const hi=new ee;class Ru{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)hi.fromBufferAttribute(this,t),hi.applyMatrix4(e),this.setXYZ(t,hi.x,hi.y,hi.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)hi.fromBufferAttribute(this,t),hi.applyNormalMatrix(e),this.setXYZ(t,hi.x,hi.y,hi.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)hi.fromBufferAttribute(this,t),hi.transformDirection(e),this.setXYZ(t,hi.x,hi.y,hi.z);return this}setX(e,t){return this.normalized&&(t=un(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=un(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=un(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=un(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ua(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ua(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ua(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ua(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=un(t,this.array),r=un(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=un(t,this.array),r=un(r,this.array),i=un(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=un(t,this.array),r=un(r,this.array),i=un(i,this.array),s=un(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new hn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ru(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class WM extends zr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Cf;const Yd=new ee,Tf=new ee,Pf=new ee,Rf=new Le,Jd=new Le,y7=new Tt,ox=new ee,Qd=new ee,ax=new ee,VC=new Le,Ub=new Le,HC=new Le;class v7 extends Jt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Cf===void 0){Cf=new Lt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new av(t,5);Cf.setIndex([0,1,2,0,2,3]),Cf.setAttribute("position",new Ru(r,3,0,!1)),Cf.setAttribute("uv",new Ru(r,2,3,!1))}this.geometry=Cf,this.material=e!==void 0?e:new WM,this.center=new Le(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Tf.setFromMatrixScale(this.matrixWorld),y7.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Pf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Tf.multiplyScalar(-Pf.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;lx(ox.set(-.5,-.5,0),Pf,o,Tf,i,s),lx(Qd.set(.5,-.5,0),Pf,o,Tf,i,s),lx(ax.set(.5,.5,0),Pf,o,Tf,i,s),VC.set(0,0),Ub.set(1,0),HC.set(1,1);let a=e.ray.intersectTriangle(ox,Qd,ax,!1,Yd);if(a===null&&(lx(Qd.set(-.5,.5,0),Pf,o,Tf,i,s),Ub.set(0,1),a=e.ray.intersectTriangle(ox,ax,Qd,!1,Yd),a===null))return;const l=e.ray.origin.distanceTo(Yd);l<e.near||l>e.far||t.push({distance:l,point:Yd.clone(),uv:Bs.getUV(Yd,ox,Qd,ax,VC,Ub,HC,new Le),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function lx(n,e,t,r,i,s){Rf.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Jd.x=s*Rf.x-i*Rf.y,Jd.y=i*Rf.x+s*Rf.y):Jd.copy(Rf),n.copy(e),n.x+=Jd.x,n.y+=Jd.y,n.applyMatrix4(y7)}const cx=new ee,WC=new ee;class _7 extends Jt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){cx.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(cx);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){cx.setFromMatrixPosition(e.matrixWorld),WC.setFromMatrixPosition(this.matrixWorld);const r=cx.distanceTo(WC)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const GC=new ee,jC=new qt,qC=new qt,cG=new ee,XC=new Tt;class b7 extends Or{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Tt,this.bindMatrixInverse=new Tt}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new qt,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;jC.fromBufferAttribute(i.attributes.skinIndex,e),qC.fromBufferAttribute(i.attributes.skinWeight,e),GC.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=qC.getComponent(s);if(o!==0){const a=jC.getComponent(s);XC.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(cG.copy(GC).applyMatrix4(XC),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class GM extends Jt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class vh extends qn{constructor(e=null,t=1,r=1,i,s,o,a,l,c=Zn,u=Zn,h,p){super(null,o,a,l,c,u,i,s,h,p),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const KC=new Tt,uG=new Tt;class lv{constructor(e=[],t=[]){this.uuid=us(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Tt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Tt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:uG;KC.multiplyMatrices(a,t[s]),KC.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new lv(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=n7(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new vh(t,e,e,Di,za);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new GM),this.bones.push(o),this.boneInverses.push(new Tt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Bh extends hn{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const $C=new Tt,YC=new Tt,ux=[],fG=new Tt,Zd=new Or;class w7 extends Or{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Bh(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,fG)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Zd.geometry=this.geometry,Zd.material=this.material,Zd.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,$C),YC.multiplyMatrices(r,$C),Zd.matrixWorld=YC,Zd.raycast(e,ux);for(let o=0,a=ux.length;o<a;o++){const l=ux[o];l.instanceId=s,l.object=this,t.push(l)}ux.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Bh(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Ai extends zr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new et(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const JC=new ee,QC=new ee,ZC=new Tt,Vb=new lm,fx=new Uu;class nc extends Jt{constructor(e=new Lt,t=new Ai){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)JC.fromBufferAttribute(t,i-1),QC.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=JC.distanceTo(QC);e.setAttribute("lineDistance",new ut(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),fx.copy(r.boundingSphere),fx.applyMatrix4(i),fx.radius+=s,e.ray.intersectsSphere(fx)===!1)return;ZC.copy(i).invert(),Vb.copy(e.ray).applyMatrix4(ZC);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new ee,u=new ee,h=new ee,p=new ee,m=this.isLineSegments?2:1,y=r.index,x=r.attributes.position;if(y!==null){const v=Math.max(0,o.start),b=Math.min(y.count,o.start+o.count);for(let w=v,A=b-1;w<A;w+=m){const T=y.getX(w),D=y.getX(w+1);if(c.fromBufferAttribute(x,T),u.fromBufferAttribute(x,D),Vb.distanceSqToSegment(c,u,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(p);C<e.near||C>e.far||t.push({distance:C,point:h.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,o.start),b=Math.min(x.count,o.start+o.count);for(let w=v,A=b-1;w<A;w+=m){if(c.fromBufferAttribute(x,w),u.fromBufferAttribute(x,w+1),Vb.distanceSqToSegment(c,u,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const D=e.ray.origin.distanceTo(p);D<e.near||D>e.far||t.push({distance:D,point:h.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const e5=new ee,t5=new ee;class fa extends nc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)e5.fromBufferAttribute(t,i),t5.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+e5.distanceTo(t5);e.setAttribute("lineDistance",new ut(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class S7 extends nc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class jM extends zr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const n5=new Tt,d3=new lm,hx=new Uu,dx=new ee;class M7 extends Jt{constructor(e=new Lt,t=new jM){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),hx.copy(r.boundingSphere),hx.applyMatrix4(i),hx.radius+=s,e.ray.intersectsSphere(hx)===!1)return;n5.copy(i).invert(),d3.copy(e.ray).applyMatrix4(n5);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,h=r.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let y=p,g=m;y<g;y++){const x=c.getX(y);dx.fromBufferAttribute(h,x),r5(dx,x,l,i,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let y=p,g=m;y<g;y++)dx.fromBufferAttribute(h,y),r5(dx,y,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function r5(n,e,t,r,i,s,o){const a=d3.distanceSqToPoint(n);if(a<t){const l=new ee;d3.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class hG extends qn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:nr,this.magFilter=s!==void 0?s:nr,this.generateMipmaps=!1;const u=this;function h(){u.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class dG extends qn{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=Zn,this.minFilter=Zn,this.generateMipmaps=!1,this.needsUpdate=!0}}class qM extends qn{constructor(e,t,r,i,s,o,a,l,c,u,h,p){super(null,o,a,l,c,u,i,s,h,p),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class pG extends qM{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=ei}}class mG extends qn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ao{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],p=r[i+1]-u,m=(o-u)/p;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new Le:new ee);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new ee,i=[],s=[],o=[],a=new ee,l=new Tt;for(let m=0;m<=e;m++){const y=m/e;i[m]=this.getTangentAt(y,new ee)}s[0]=new ee,o[0]=new ee;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),h=Math.abs(i[0].y),p=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),h<=c&&(c=h,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(rr(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,y))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(rr(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(i[y],m*y)),o[y].crossVectors(i[y],s[y])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class cv extends Ao{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new Le,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*u-m*h+this.aX,c=p*h+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class E7 extends cv{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function XM(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,h){let p=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+h)+(l-a)/h;p*=u,m*=u,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const px=new ee,Hb=new XM,Wb=new XM,Gb=new XM;class A7 extends Ao{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new ee){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(px.subVectors(i[0],i[1]).add(i[0]),c=px);const h=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(px.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=px),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(c.distanceToSquared(h),m),g=Math.pow(h.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(u),m);g<1e-4&&(g=1),y<1e-4&&(y=g),x<1e-4&&(x=g),Hb.initNonuniformCatmullRom(c.x,h.x,p.x,u.x,y,g,x),Wb.initNonuniformCatmullRom(c.y,h.y,p.y,u.y,y,g,x),Gb.initNonuniformCatmullRom(c.z,h.z,p.z,u.z,y,g,x)}else this.curveType==="catmullrom"&&(Hb.initCatmullRom(c.x,h.x,p.x,u.x,this.tension),Wb.initCatmullRom(c.y,h.y,p.y,u.y,this.tension),Gb.initCatmullRom(c.z,h.z,p.z,u.z,this.tension));return r.set(Hb.calc(l),Wb.calc(l),Gb.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new ee().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function i5(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function gG(n,e){const t=1-n;return t*t*e}function xG(n,e){return 2*(1-n)*n*e}function yG(n,e){return n*n*e}function F0(n,e,t,r){return gG(n,e)+xG(n,t)+yG(n,r)}function vG(n,e){const t=1-n;return t*t*t*e}function _G(n,e){const t=1-n;return 3*t*t*n*e}function bG(n,e){return 3*(1-n)*n*n*e}function wG(n,e){return n*n*n*e}function z0(n,e,t,r,i){return vG(n,e)+_G(n,t)+bG(n,r)+wG(n,i)}class KM extends Ao{constructor(e=new Le,t=new Le,r=new Le,i=new Le){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Le){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(z0(e,i.x,s.x,o.x,a.x),z0(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class C7 extends Ao{constructor(e=new ee,t=new ee,r=new ee,i=new ee){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new ee){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(z0(e,i.x,s.x,o.x,a.x),z0(e,i.y,s.y,o.y,a.y),z0(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class uv extends Ao{constructor(e=new Le,t=new Le){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Le){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new Le;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class T7 extends Ao{constructor(e=new ee,t=new ee){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ee){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class $M extends Ao{constructor(e=new Le,t=new Le,r=new Le){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Le){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(F0(e,i.x,s.x,o.x),F0(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class YM extends Ao{constructor(e=new ee,t=new ee,r=new ee){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new ee){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(F0(e,i.x,s.x,o.x),F0(e,i.y,s.y,o.y),F0(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class JM extends Ao{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Le){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return r.set(i5(a,l.x,c.x,u.x,h.x),i5(a,l.y,c.y,u.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Le().fromArray(i))}return this}}var QM=Object.freeze({__proto__:null,ArcCurve:E7,CatmullRomCurve3:A7,CubicBezierCurve:KM,CubicBezierCurve3:C7,EllipseCurve:cv,LineCurve:uv,LineCurve3:T7,QuadraticBezierCurve:$M,QuadraticBezierCurve3:YM,SplineCurve:JM});class P7 extends Ao{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new uv(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new QM[i.type]().fromJSON(i))}return this}}class Ap extends P7{constructor(e){super(),this.type="Path",this.currentPoint=new Le,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new uv(this.currentPoint.clone(),new Le(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new $M(this.currentPoint.clone(),new Le(e,t),new Le(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new KM(this.currentPoint.clone(),new Le(e,t),new Le(r,i),new Le(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new JM(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new cv(e,t,r,i,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class od extends Lt{constructor(e=[new Le(0,-.5),new Le(.5,0),new Le(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=rr(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,h=new ee,p=new Le,m=new ee,y=new ee,g=new ee;let x=0,v=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:x=e[b+1].x-e[b].x,v=e[b+1].y-e[b].y,m.x=v*1,m.y=-x,m.z=v*0,g.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:x=e[b+1].x-e[b].x,v=e[b+1].y-e[b].y,m.x=v*1,m.y=-x,m.z=v*0,y.copy(m),m.x+=g.x,m.y+=g.y,m.z+=g.z,m.normalize(),l.push(m.x,m.y,m.z),g.copy(y)}for(let b=0;b<=t;b++){const w=r+b*u*i,A=Math.sin(w),T=Math.cos(w);for(let D=0;D<=e.length-1;D++){h.x=e[D].x*A,h.y=e[D].y,h.z=e[D].x*T,o.push(h.x,h.y,h.z),p.x=b/t,p.y=D/(e.length-1),a.push(p.x,p.y);const O=l[3*D+0]*A,C=l[3*D+1],B=l[3*D+0]*T;c.push(O,C,B)}}for(let b=0;b<t;b++)for(let w=0;w<e.length-1;w++){const A=w+b*e.length,T=A,D=A+e.length,O=A+e.length+1,C=A+1;s.push(T,D,C),s.push(O,C,D)}this.setIndex(s),this.setAttribute("position",new ut(o,3)),this.setAttribute("uv",new ut(a,2)),this.setAttribute("normal",new ut(c,3))}static fromJSON(e){return new od(e.points,e.segments,e.phiStart,e.phiLength)}}class fm extends od{constructor(e=1,t=1,r=4,i=8){const s=new Ap;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new fm(e.radius,e.length,e.capSegments,e.radialSegments)}}class hm extends Lt{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new ee,u=new Le;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const m=r+h/t*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[p]/e+1)/2,u.y=(o[p+1]/e+1)/2,l.push(u.x,u.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new ut(o,3)),this.setAttribute("normal",new ut(a,3)),this.setAttribute("uv",new ut(l,2))}static fromJSON(e){return new hm(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Vu extends Lt{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],h=[],p=[],m=[];let y=0;const g=[],x=r/2;let v=0;b(),o===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(u),this.setAttribute("position",new ut(h,3)),this.setAttribute("normal",new ut(p,3)),this.setAttribute("uv",new ut(m,2));function b(){const A=new ee,T=new ee;let D=0;const O=(t-e)/r;for(let C=0;C<=s;C++){const B=[],G=C/s,Y=G*(t-e)+e;for(let oe=0;oe<=i;oe++){const V=oe/i,S=V*l+a,L=Math.sin(S),z=Math.cos(S);T.x=Y*L,T.y=-G*r+x,T.z=Y*z,h.push(T.x,T.y,T.z),A.set(L,O,z).normalize(),p.push(A.x,A.y,A.z),m.push(V,1-G),B.push(y++)}g.push(B)}for(let C=0;C<i;C++)for(let B=0;B<s;B++){const G=g[B][C],Y=g[B+1][C],oe=g[B+1][C+1],V=g[B][C+1];u.push(G,Y,V),u.push(Y,oe,V),D+=6}c.addGroup(v,D,0),v+=D}function w(A){const T=y,D=new Le,O=new ee;let C=0;const B=A===!0?e:t,G=A===!0?1:-1;for(let oe=1;oe<=i;oe++)h.push(0,x*G,0),p.push(0,G,0),m.push(.5,.5),y++;const Y=y;for(let oe=0;oe<=i;oe++){const S=oe/i*l+a,L=Math.cos(S),z=Math.sin(S);O.x=B*z,O.y=x*G,O.z=B*L,h.push(O.x,O.y,O.z),p.push(0,G,0),D.x=L*.5+.5,D.y=z*.5*G+.5,m.push(D.x,D.y),y++}for(let oe=0;oe<i;oe++){const V=T+oe,S=Y+oe;A===!0?u.push(S,S+1,V):u.push(S+1,S,V),C+=3}c.addGroup(v,C,A===!0?1:2),v+=C}}static fromJSON(e){return new Vu(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class dm extends Vu{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new dm(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class nl extends Lt{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new ut(s,3)),this.setAttribute("normal",new ut(s.slice(),3)),this.setAttribute("uv",new ut(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(b){const w=new ee,A=new ee,T=new ee;for(let D=0;D<t.length;D+=3)m(t[D+0],w),m(t[D+1],A),m(t[D+2],T),l(w,A,T,b)}function l(b,w,A,T){const D=T+1,O=[];for(let C=0;C<=D;C++){O[C]=[];const B=b.clone().lerp(A,C/D),G=w.clone().lerp(A,C/D),Y=D-C;for(let oe=0;oe<=Y;oe++)oe===0&&C===D?O[C][oe]=B:O[C][oe]=B.clone().lerp(G,oe/Y)}for(let C=0;C<D;C++)for(let B=0;B<2*(D-C)-1;B++){const G=Math.floor(B/2);B%2===0?(p(O[C][G+1]),p(O[C+1][G]),p(O[C][G])):(p(O[C][G+1]),p(O[C+1][G+1]),p(O[C+1][G]))}}function c(b){const w=new ee;for(let A=0;A<s.length;A+=3)w.x=s[A+0],w.y=s[A+1],w.z=s[A+2],w.normalize().multiplyScalar(b),s[A+0]=w.x,s[A+1]=w.y,s[A+2]=w.z}function u(){const b=new ee;for(let w=0;w<s.length;w+=3){b.x=s[w+0],b.y=s[w+1],b.z=s[w+2];const A=x(b)/2/Math.PI+.5,T=v(b)/Math.PI+.5;o.push(A,1-T)}y(),h()}function h(){for(let b=0;b<o.length;b+=6){const w=o[b+0],A=o[b+2],T=o[b+4],D=Math.max(w,A,T),O=Math.min(w,A,T);D>.9&&O<.1&&(w<.2&&(o[b+0]+=1),A<.2&&(o[b+2]+=1),T<.2&&(o[b+4]+=1))}}function p(b){s.push(b.x,b.y,b.z)}function m(b,w){const A=b*3;w.x=e[A+0],w.y=e[A+1],w.z=e[A+2]}function y(){const b=new ee,w=new ee,A=new ee,T=new ee,D=new Le,O=new Le,C=new Le;for(let B=0,G=0;B<s.length;B+=9,G+=6){b.set(s[B+0],s[B+1],s[B+2]),w.set(s[B+3],s[B+4],s[B+5]),A.set(s[B+6],s[B+7],s[B+8]),D.set(o[G+0],o[G+1]),O.set(o[G+2],o[G+3]),C.set(o[G+4],o[G+5]),T.copy(b).add(w).add(A).divideScalar(3);const Y=x(T);g(D,G+0,b,Y),g(O,G+2,w,Y),g(C,G+4,A,Y)}}function g(b,w,A,T){T<0&&b.x===1&&(o[w]=b.x-1),A.x===0&&A.z===0&&(o[w]=T/2/Math.PI+.5)}function x(b){return Math.atan2(b.z,-b.x)}function v(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}static fromJSON(e){return new nl(e.vertices,e.indices,e.radius,e.details)}}class pm extends nl{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new pm(e.radius,e.detail)}}const mx=new ee,gx=new ee,jb=new ee,xx=new Bs;class R7 extends Lt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(pu*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],h=new Array(3),p={},m=[];for(let y=0;y<l;y+=3){o?(c[0]=o.getX(y),c[1]=o.getX(y+1),c[2]=o.getX(y+2)):(c[0]=y,c[1]=y+1,c[2]=y+2);const{a:g,b:x,c:v}=xx;if(g.fromBufferAttribute(a,c[0]),x.fromBufferAttribute(a,c[1]),v.fromBufferAttribute(a,c[2]),xx.getNormal(jb),h[0]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,h[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,h[2]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let b=0;b<3;b++){const w=(b+1)%3,A=h[b],T=h[w],D=xx[u[b]],O=xx[u[w]],C=`${A}_${T}`,B=`${T}_${A}`;B in p&&p[B]?(jb.dot(p[B].normal)<=s&&(m.push(D.x,D.y,D.z),m.push(O.x,O.y,O.z)),p[B]=null):C in p||(p[C]={index0:c[b],index1:c[w],normal:jb.clone()})}}for(const y in p)if(p[y]){const{index0:g,index1:x}=p[y];mx.fromBufferAttribute(a,g),gx.fromBufferAttribute(a,x),m.push(mx.x,mx.y,mx.z),m.push(gx.x,gx.y,gx.z)}this.setAttribute("position",new ut(m,3))}}}class xu extends Ap{constructor(e){super(e),this.uuid=us(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Ap().fromJSON(i))}return this}}const SG={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=I7(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,h,p,m;if(r&&(s=TG(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let y=t;y<i;y+=t)h=n[y],p=n[y+1],h<a&&(a=h),p<l&&(l=p),h>c&&(c=h),p>u&&(u=p);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return Cp(s,o,t,a,l,m,0),o}};function I7(n,e,t,r,i){let s,o;if(i===zG(n,e,t,r)>0)for(s=e;s<t;s+=r)o=s5(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=s5(s,n[s],n[s+1],o);return o&&fv(o,o.next)&&(Pp(o),o=o.next),o}function Iu(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(fv(t,t.next)||Ln(t.prev,t,t.next)===0)){if(Pp(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Cp(n,e,t,r,i,s,o){if(!n)return;!o&&s&&LG(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?EG(n,r,i,s):MG(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Pp(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=AG(Iu(n),e,t),Cp(n,e,t,r,i,s,2)):o===2&&CG(n,e,t,r,i,s):Cp(Iu(n),e,t,r,i,s,1);break}}}function MG(n){const e=n.prev,t=n,r=n.next;if(Ln(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,h=a<l?a<c?a:c:l<c?l:c,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let y=r.next;for(;y!==e;){if(y.x>=u&&y.x<=p&&y.y>=h&&y.y<=m&&oh(i,a,s,l,o,c,y.x,y.y)&&Ln(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function EG(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Ln(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,h=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,y=u<h?u<p?u:p:h<p?h:p,g=a>l?a>c?a:c:l>c?l:c,x=u>h?u>p?u:p:h>p?h:p,v=p3(m,y,e,t,r),b=p3(g,x,e,t,r);let w=n.prevZ,A=n.nextZ;for(;w&&w.z>=v&&A&&A.z<=b;){if(w.x>=m&&w.x<=g&&w.y>=y&&w.y<=x&&w!==i&&w!==o&&oh(a,u,l,h,c,p,w.x,w.y)&&Ln(w.prev,w,w.next)>=0||(w=w.prevZ,A.x>=m&&A.x<=g&&A.y>=y&&A.y<=x&&A!==i&&A!==o&&oh(a,u,l,h,c,p,A.x,A.y)&&Ln(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;w&&w.z>=v;){if(w.x>=m&&w.x<=g&&w.y>=y&&w.y<=x&&w!==i&&w!==o&&oh(a,u,l,h,c,p,w.x,w.y)&&Ln(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;A&&A.z<=b;){if(A.x>=m&&A.x<=g&&A.y>=y&&A.y<=x&&A!==i&&A!==o&&oh(a,u,l,h,c,p,A.x,A.y)&&Ln(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function AG(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!fv(i,s)&&k7(i,r,r.next,s)&&Tp(i,s)&&Tp(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),Pp(r),Pp(r.next),r=n=s),r=r.next}while(r!==n);return Iu(r)}function CG(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&OG(o,a)){let l=L7(o,a);o=Iu(o,o.next),l=Iu(l,l.next),Cp(o,e,t,r,i,s,0),Cp(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function TG(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=I7(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(DG(c));for(i.sort(PG),s=0;s<i.length;s++)t=RG(i[s],t);return t}function PG(n,e){return n.x-e.x}function RG(n,e){const t=IG(n,e);if(!t)return e;const r=L7(t,n);return Iu(r,r.next),Iu(t,t.next)}function IG(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>r&&(r=p,i=t.x<t.next.x?t:t.next,p===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,h;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&oh(o<c?s:r,o,l,c,o<c?r:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),Tp(t,n)&&(h<u||h===u&&(t.x>i.x||t.x===i.x&&kG(i,t)))&&(i=t,u=h)),t=t.next;while(t!==a);return i}function kG(n,e){return Ln(n.prev,n,e.prev)<0&&Ln(e.next,n,n.next)<0}function LG(n,e,t,r){let i=n;do i.z===0&&(i.z=p3(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,NG(i)}function NG(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function p3(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function DG(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function oh(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function OG(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!BG(n,e)&&(Tp(n,e)&&Tp(e,n)&&FG(n,e)&&(Ln(n.prev,n,e.prev)||Ln(n,e.prev,e))||fv(n,e)&&Ln(n.prev,n,n.next)>0&&Ln(e.prev,e,e.next)>0)}function Ln(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function fv(n,e){return n.x===e.x&&n.y===e.y}function k7(n,e,t,r){const i=vx(Ln(n,e,t)),s=vx(Ln(n,e,r)),o=vx(Ln(t,r,n)),a=vx(Ln(t,r,e));return!!(i!==s&&o!==a||i===0&&yx(n,t,e)||s===0&&yx(n,r,e)||o===0&&yx(t,n,r)||a===0&&yx(t,e,r))}function yx(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function vx(n){return n>0?1:n<0?-1:0}function BG(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&k7(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Tp(n,e){return Ln(n.prev,n,n.next)<0?Ln(n,e,n.next)>=0&&Ln(n,n.prev,e)>=0:Ln(n,e,n.prev)<0||Ln(n,n.next,e)<0}function FG(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function L7(n,e){const t=new m3(n.i,n.x,n.y),r=new m3(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function s5(n,e,t,r){const i=new m3(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Pp(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function m3(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function zG(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class Jo{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Jo.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];o5(e),a5(r,e);let o=e.length;t.forEach(o5);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,a5(r,t[l]);const a=SG.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function o5(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function a5(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class mm extends Lt{constructor(e=new xu([new Le(.5,.5),new Le(-.5,.5),new Le(-.5,-.5),new Le(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new ut(i,3)),this.setAttribute("uv",new ut(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:m-.1,g=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const v=t.extrudePath,b=t.UVGenerator!==void 0?t.UVGenerator:UG;let w,A=!1,T,D,O,C;v&&(w=v.getSpacedPoints(u),A=!0,p=!1,T=v.computeFrenetFrames(u,!1),D=new ee,O=new ee,C=new ee),p||(x=0,m=0,y=0,g=0);const B=a.extractPoints(c);let G=B.shape;const Y=B.holes;if(!Jo.isClockWise(G)){G=G.reverse();for(let ce=0,ye=Y.length;ce<ye;ce++){const ve=Y[ce];Jo.isClockWise(ve)&&(Y[ce]=ve.reverse())}}const V=Jo.triangulateShape(G,Y),S=G;for(let ce=0,ye=Y.length;ce<ye;ce++){const ve=Y[ce];G=G.concat(ve)}function L(ce,ye,ve){return ye||console.error("THREE.ExtrudeGeometry: vec does not exist"),ye.clone().multiplyScalar(ve).add(ce)}const z=G.length,q=V.length;function F(ce,ye,ve){let De,We,$e;const je=ce.x-ye.x,tt=ce.y-ye.y,lt=ve.x-ce.x,at=ve.y-ce.y,re=je*je+tt*tt,Q=je*at-tt*lt;if(Math.abs(Q)>Number.EPSILON){const xe=Math.sqrt(re),Oe=Math.sqrt(lt*lt+at*at),Ne=ye.x-tt/xe,H=ye.y+je/xe,R=ve.x-at/Oe,I=ve.y+lt/Oe,j=((R-Ne)*at-(I-H)*lt)/(je*at-tt*lt);De=Ne+je*j-ce.x,We=H+tt*j-ce.y;const se=De*De+We*We;if(se<=2)return new Le(De,We);$e=Math.sqrt(se/2)}else{let xe=!1;je>Number.EPSILON?lt>Number.EPSILON&&(xe=!0):je<-Number.EPSILON?lt<-Number.EPSILON&&(xe=!0):Math.sign(tt)===Math.sign(at)&&(xe=!0),xe?(De=-tt,We=je,$e=Math.sqrt(re)):(De=je,We=tt,$e=Math.sqrt(re/2))}return new Le(De/$e,We/$e)}const X=[];for(let ce=0,ye=S.length,ve=ye-1,De=ce+1;ce<ye;ce++,ve++,De++)ve===ye&&(ve=0),De===ye&&(De=0),X[ce]=F(S[ce],S[ve],S[De]);const $=[];let P,M=X.concat();for(let ce=0,ye=Y.length;ce<ye;ce++){const ve=Y[ce];P=[];for(let De=0,We=ve.length,$e=We-1,je=De+1;De<We;De++,$e++,je++)$e===We&&($e=0),je===We&&(je=0),P[De]=F(ve[De],ve[$e],ve[je]);$.push(P),M=M.concat(P)}for(let ce=0;ce<x;ce++){const ye=ce/x,ve=m*Math.cos(ye*Math.PI/2),De=y*Math.sin(ye*Math.PI/2)+g;for(let We=0,$e=S.length;We<$e;We++){const je=L(S[We],X[We],De);ue(je.x,je.y,-ve)}for(let We=0,$e=Y.length;We<$e;We++){const je=Y[We];P=$[We];for(let tt=0,lt=je.length;tt<lt;tt++){const at=L(je[tt],P[tt],De);ue(at.x,at.y,-ve)}}}const W=y+g;for(let ce=0;ce<z;ce++){const ye=p?L(G[ce],M[ce],W):G[ce];A?(O.copy(T.normals[0]).multiplyScalar(ye.x),D.copy(T.binormals[0]).multiplyScalar(ye.y),C.copy(w[0]).add(O).add(D),ue(C.x,C.y,C.z)):ue(ye.x,ye.y,0)}for(let ce=1;ce<=u;ce++)for(let ye=0;ye<z;ye++){const ve=p?L(G[ye],M[ye],W):G[ye];A?(O.copy(T.normals[ce]).multiplyScalar(ve.x),D.copy(T.binormals[ce]).multiplyScalar(ve.y),C.copy(w[ce]).add(O).add(D),ue(C.x,C.y,C.z)):ue(ve.x,ve.y,h/u*ce)}for(let ce=x-1;ce>=0;ce--){const ye=ce/x,ve=m*Math.cos(ye*Math.PI/2),De=y*Math.sin(ye*Math.PI/2)+g;for(let We=0,$e=S.length;We<$e;We++){const je=L(S[We],X[We],De);ue(je.x,je.y,h+ve)}for(let We=0,$e=Y.length;We<$e;We++){const je=Y[We];P=$[We];for(let tt=0,lt=je.length;tt<lt;tt++){const at=L(je[tt],P[tt],De);A?ue(at.x,at.y+w[u-1].y,w[u-1].x+ve):ue(at.x,at.y,h+ve)}}}Z(),N();function Z(){const ce=i.length/3;if(p){let ye=0,ve=z*ye;for(let De=0;De<q;De++){const We=V[De];ae(We[2]+ve,We[1]+ve,We[0]+ve)}ye=u+x*2,ve=z*ye;for(let De=0;De<q;De++){const We=V[De];ae(We[0]+ve,We[1]+ve,We[2]+ve)}}else{for(let ye=0;ye<q;ye++){const ve=V[ye];ae(ve[2],ve[1],ve[0])}for(let ye=0;ye<q;ye++){const ve=V[ye];ae(ve[0]+z*u,ve[1]+z*u,ve[2]+z*u)}}r.addGroup(ce,i.length/3-ce,0)}function N(){const ce=i.length/3;let ye=0;J(S,ye),ye+=S.length;for(let ve=0,De=Y.length;ve<De;ve++){const We=Y[ve];J(We,ye),ye+=We.length}r.addGroup(ce,i.length/3-ce,1)}function J(ce,ye){let ve=ce.length;for(;--ve>=0;){const De=ve;let We=ve-1;We<0&&(We=ce.length-1);for(let $e=0,je=u+x*2;$e<je;$e++){const tt=z*$e,lt=z*($e+1),at=ye+De+tt,re=ye+We+tt,Q=ye+We+lt,xe=ye+De+lt;me(at,re,Q,xe)}}}function ue(ce,ye,ve){l.push(ce),l.push(ye),l.push(ve)}function ae(ce,ye,ve){we(ce),we(ye),we(ve);const De=i.length/3,We=b.generateTopUV(r,i,De-3,De-2,De-1);Ce(We[0]),Ce(We[1]),Ce(We[2])}function me(ce,ye,ve,De){we(ce),we(ye),we(De),we(ye),we(ve),we(De);const We=i.length/3,$e=b.generateSideWallUV(r,i,We-6,We-3,We-2,We-1);Ce($e[0]),Ce($e[1]),Ce($e[3]),Ce($e[1]),Ce($e[2]),Ce($e[3])}function we(ce){i.push(l[ce*3+0]),i.push(l[ce*3+1]),i.push(l[ce*3+2])}function Ce(ce){s.push(ce.x),s.push(ce.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return VG(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new QM[i.type]().fromJSON(i)),new mm(r,e.options)}}const UG={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Le(s,o),new Le(a,l),new Le(c,u)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],h=e[r*3+2],p=e[i*3],m=e[i*3+1],y=e[i*3+2],g=e[s*3],x=e[s*3+1],v=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Le(o,1-l),new Le(c,1-h),new Le(p,1-y),new Le(g,1-v)]:[new Le(a,1-l),new Le(u,1-h),new Le(m,1-y),new Le(x,1-v)]}};function VG(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class gm extends nl{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new gm(e.radius,e.detail)}}class ad extends nl{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ad(e.radius,e.detail)}}class xm extends Lt{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let h=e;const p=(t-e)/i,m=new ee,y=new Le;for(let g=0;g<=i;g++){for(let x=0;x<=r;x++){const v=s+x/r*o;m.x=h*Math.cos(v),m.y=h*Math.sin(v),l.push(m.x,m.y,m.z),c.push(0,0,1),y.x=(m.x/t+1)/2,y.y=(m.y/t+1)/2,u.push(y.x,y.y)}h+=p}for(let g=0;g<i;g++){const x=g*(r+1);for(let v=0;v<r;v++){const b=v+x,w=b,A=b+r+1,T=b+r+2,D=b+1;a.push(w,A,D),a.push(A,T,D)}}this.setIndex(a),this.setAttribute("position",new ut(l,3)),this.setAttribute("normal",new ut(c,3)),this.setAttribute("uv",new ut(u,2))}static fromJSON(e){return new xm(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class ym extends Lt{constructor(e=new xu([new Le(0,.5),new Le(-.5,-.5),new Le(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new ut(i,3)),this.setAttribute("normal",new ut(s,3)),this.setAttribute("uv",new ut(o,2));function c(u){const h=i.length/3,p=u.extractPoints(t);let m=p.shape;const y=p.holes;Jo.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,v=y.length;x<v;x++){const b=y[x];Jo.isClockWise(b)===!0&&(y[x]=b.reverse())}const g=Jo.triangulateShape(m,y);for(let x=0,v=y.length;x<v;x++){const b=y[x];m=m.concat(b)}for(let x=0,v=m.length;x<v;x++){const b=m[x];i.push(b.x,b.y,0),s.push(0,0,1),o.push(b.x,b.y)}for(let x=0,v=g.length;x<v;x++){const b=g[x],w=b[0]+h,A=b[1]+h,T=b[2]+h;r.push(w,A,T),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return HG(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new ym(r,e.curveSegments)}}function HG(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class ld extends Lt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],h=new ee,p=new ee,m=[],y=[],g=[],x=[];for(let v=0;v<=r;v++){const b=[],w=v/r;let A=0;v==0&&o==0?A=.5/t:v==r&&l==Math.PI&&(A=-.5/t);for(let T=0;T<=t;T++){const D=T/t;h.x=-e*Math.cos(i+D*s)*Math.sin(o+w*a),h.y=e*Math.cos(o+w*a),h.z=e*Math.sin(i+D*s)*Math.sin(o+w*a),y.push(h.x,h.y,h.z),p.copy(h).normalize(),g.push(p.x,p.y,p.z),x.push(D+A,1-w),b.push(c++)}u.push(b)}for(let v=0;v<r;v++)for(let b=0;b<t;b++){const w=u[v][b+1],A=u[v][b],T=u[v+1][b],D=u[v+1][b+1];(v!==0||o>0)&&m.push(w,A,D),(v!==r-1||l<Math.PI)&&m.push(A,T,D)}this.setIndex(m),this.setAttribute("position",new ut(y,3)),this.setAttribute("normal",new ut(g,3)),this.setAttribute("uv",new ut(x,2))}static fromJSON(e){return new ld(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class vm extends nl{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new vm(e.radius,e.detail)}}class _m extends Lt{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new ee,h=new ee,p=new ee;for(let m=0;m<=r;m++)for(let y=0;y<=i;y++){const g=y/i*s,x=m/r*Math.PI*2;h.x=(e+t*Math.cos(x))*Math.cos(g),h.y=(e+t*Math.cos(x))*Math.sin(g),h.z=t*Math.sin(x),a.push(h.x,h.y,h.z),u.x=e*Math.cos(g),u.y=e*Math.sin(g),p.subVectors(h,u).normalize(),l.push(p.x,p.y,p.z),c.push(y/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let y=1;y<=i;y++){const g=(i+1)*m+y-1,x=(i+1)*(m-1)+y-1,v=(i+1)*(m-1)+y,b=(i+1)*m+y;o.push(g,x,b),o.push(x,v,b)}this.setIndex(o),this.setAttribute("position",new ut(a,3)),this.setAttribute("normal",new ut(l,3)),this.setAttribute("uv",new ut(c,2))}static fromJSON(e){return new _m(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class bm extends Lt{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],h=new ee,p=new ee,m=new ee,y=new ee,g=new ee,x=new ee,v=new ee;for(let w=0;w<=r;++w){const A=w/r*s*Math.PI*2;b(A,s,o,e,m),b(A+.01,s,o,e,y),x.subVectors(y,m),v.addVectors(y,m),g.crossVectors(x,v),v.crossVectors(g,x),g.normalize(),v.normalize();for(let T=0;T<=i;++T){const D=T/i*Math.PI*2,O=-t*Math.cos(D),C=t*Math.sin(D);h.x=m.x+(O*v.x+C*g.x),h.y=m.y+(O*v.y+C*g.y),h.z=m.z+(O*v.z+C*g.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),c.push(p.x,p.y,p.z),u.push(w/r),u.push(T/i)}}for(let w=1;w<=r;w++)for(let A=1;A<=i;A++){const T=(i+1)*(w-1)+(A-1),D=(i+1)*w+(A-1),O=(i+1)*w+A,C=(i+1)*(w-1)+A;a.push(T,D,C),a.push(D,O,C)}this.setIndex(a),this.setAttribute("position",new ut(l,3)),this.setAttribute("normal",new ut(c,3)),this.setAttribute("uv",new ut(u,2));function b(w,A,T,D,O){const C=Math.cos(w),B=Math.sin(w),G=T/A*w,Y=Math.cos(G);O.x=D*(2+Y)*.5*C,O.y=D*(2+Y)*B*.5,O.z=D*Math.sin(G)*.5}}static fromJSON(e){return new bm(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class wm extends Lt{constructor(e=new YM(new ee(-1,-1,0),new ee(-1,1,0),new ee(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new ee,l=new ee,c=new Le;let u=new ee;const h=[],p=[],m=[],y=[];g(),this.setIndex(y),this.setAttribute("position",new ut(h,3)),this.setAttribute("normal",new ut(p,3)),this.setAttribute("uv",new ut(m,2));function g(){for(let w=0;w<t;w++)x(w);x(s===!1?t:0),b(),v()}function x(w){u=e.getPointAt(w/t,u);const A=o.normals[w],T=o.binormals[w];for(let D=0;D<=i;D++){const O=D/i*Math.PI*2,C=Math.sin(O),B=-Math.cos(O);l.x=B*A.x+C*T.x,l.y=B*A.y+C*T.y,l.z=B*A.z+C*T.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,h.push(a.x,a.y,a.z)}}function v(){for(let w=1;w<=t;w++)for(let A=1;A<=i;A++){const T=(i+1)*(w-1)+(A-1),D=(i+1)*w+(A-1),O=(i+1)*w+A,C=(i+1)*(w-1)+A;y.push(T,D,C),y.push(D,O,C)}}function b(){for(let w=0;w<=t;w++)for(let A=0;A<=i;A++)c.x=w/t,c.y=A/i,m.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new wm(new QM[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class N7 extends Lt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new ee,s=new ee;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const h=l[c],p=h.start,m=h.count;for(let y=p,g=p+m;y<g;y+=3)for(let x=0;x<3;x++){const v=a.getX(y+x),b=a.getX(y+(x+1)%3);i.fromBufferAttribute(o,v),s.fromBufferAttribute(o,b),l5(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,h=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,h),l5(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new ut(t,3))}}}function l5(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var c5=Object.freeze({__proto__:null,BoxGeometry:hc,CapsuleGeometry:fm,CircleGeometry:hm,ConeGeometry:dm,CylinderGeometry:Vu,DodecahedronGeometry:pm,EdgesGeometry:R7,ExtrudeGeometry:mm,IcosahedronGeometry:gm,LatheGeometry:od,OctahedronGeometry:ad,PlaneGeometry:id,PolyhedronGeometry:nl,RingGeometry:xm,ShapeGeometry:ym,SphereGeometry:ld,TetrahedronGeometry:vm,TorusGeometry:_m,TorusKnotGeometry:bm,TubeGeometry:wm,WireframeGeometry:N7});class D7 extends zr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new et(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class O7 extends Mo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class ZM extends zr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new et(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cc,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class B7 extends ZM{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Le(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return rr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new et(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new et(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new et(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class F7 extends zr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new et(16777215),this.specular=new et(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cc,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=om,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class z7 extends zr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new et(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cc,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class U7 extends zr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cc,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class V7 extends zr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cc,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=om,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class H7 extends zr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new et(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cc,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class W7 extends Ai{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ls(n,e,t){return eE(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function ou(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function eE(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function G7(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function g3(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function tE(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function WG(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),h=[],p=[];for(let m=0;m<c.times.length;++m){const y=c.times[m]*i;if(!(y<t||y>=r)){h.push(c.times[m]);for(let g=0;g<u;++g)p.push(c.values[m*u+g])}}h.length!==0&&(c.times=ou(h,c.times.constructor),c.values=ou(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function GG(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===l});if(c===void 0)continue;let u=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=h/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const y=a.times.length-1;let g;if(s<=a.times[0]){const v=u,b=h-u;g=Ls(a.values,v,b)}else if(s>=a.times[y]){const v=y*h+u,b=v+h-u;g=Ls(a.values,v,b)}else{const v=a.createInterpolant(),b=u,w=h-u;v.evaluate(s),g=Ls(v.resultBuffer,b,w)}l==="quaternion"&&new ii().fromArray(g).normalize().conjugate().toArray(g);const x=c.times.length;for(let v=0;v<x;++v){const b=v*m+p;if(l==="quaternion")ii.multiplyQuaternionsFlat(c.values,b,g,0,c.values,b);else{const w=m-p*2;for(let A=0;A<w;++A)c.values[b+A]-=g[A]}}}return n.blendMode=LM,n}var jG=Object.freeze({__proto__:null,arraySlice:Ls,convertArray:ou,isTypedArray:eE,getKeyframeOrder:G7,sortedArray:g3,flattenJSON:tE,subclip:WG,makeClipAdditive:GG});class Sm{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class j7 extends Sm{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ru,endingEnd:ru}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case iu:s=e,a=2*t-r;break;case wp:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case iu:o=e,l=2*r-t;break;case wp:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,y=(r-t)/(i-t),g=y*y,x=g*y,v=-p*x+2*p*g-p*y,b=(1+p)*x+(-1.5-2*p)*g+(-.5+p)*y+1,w=(-1-m)*x+(1.5+m)*g+.5*y,A=m*x-m*g;for(let T=0;T!==a;++T)s[T]=v*o[u+T]+b*o[c+T]+w*o[l+T]+A*o[h+T];return s}}class nE extends Sm{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),h=1-u;for(let p=0;p!==a;++p)s[p]=o[c+p]*h+o[l+p]*u;return s}}class q7 extends Sm{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Co{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ou(t,this.TimeBufferType),this.values=ou(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:ou(e.times,Array),values:ou(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new q7(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new nE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new j7(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case _p:t=this.InterpolantFactoryMethodDiscrete;break;case bp:t=this.InterpolantFactoryMethodLinear;break;case c1:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return _p;case this.InterpolantFactoryMethodLinear:return bp;case this.InterpolantFactoryMethodSmooth:return c1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Ls(r,s,o),this.values=Ls(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&eE(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Ls(this.times),t=Ls(this.values),r=this.getValueSize(),i=this.getInterpolation()===c1,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const h=a*r,p=h-r,m=h+r;for(let y=0;y!==r;++y){const g=t[h+y];if(g!==t[p+y]||g!==t[m+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*r,p=o*r;for(let m=0;m!==r;++m)t[p+m]=t[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Ls(e,0,o),this.values=Ls(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=Ls(this.times,0),t=Ls(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Co.prototype.TimeBufferType=Float32Array;Co.prototype.ValueBufferType=Float32Array;Co.prototype.DefaultInterpolation=bp;class Hu extends Co{}Hu.prototype.ValueTypeName="bool";Hu.prototype.ValueBufferType=Array;Hu.prototype.DefaultInterpolation=_p;Hu.prototype.InterpolantFactoryMethodLinear=void 0;Hu.prototype.InterpolantFactoryMethodSmooth=void 0;class rE extends Co{}rE.prototype.ValueTypeName="color";class Rp extends Co{}Rp.prototype.ValueTypeName="number";class X7 extends Sm{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)ii.slerpFlat(s,0,o,c-a,o,c,l);return s}}class cd extends Co{InterpolantFactoryMethodLinear(e){return new X7(this.times,this.values,this.getValueSize(),e)}}cd.prototype.ValueTypeName="quaternion";cd.prototype.DefaultInterpolation=bp;cd.prototype.InterpolantFactoryMethodSmooth=void 0;class Wu extends Co{}Wu.prototype.ValueTypeName="string";Wu.prototype.ValueBufferType=Array;Wu.prototype.DefaultInterpolation=_p;Wu.prototype.InterpolantFactoryMethodLinear=void 0;Wu.prototype.InterpolantFactoryMethodSmooth=void 0;class Ip extends Co{}Ip.prototype.ValueTypeName="vector";class kp{constructor(e,t=-1,r,i=tv){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=us(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(XG(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Co.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=G7(l);l=g3(l,1,u),c=g3(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Rp(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const h=u[1];let p=i[h];p||(i[h]=p=[]),p.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,p,m,y,g){if(m.length!==0){const x=[],v=[];tE(m,x,v,y),x.length!==0&&g.push(new h(p,x,v))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const p=c[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let g=0;g<p[y].morphTargets.length;g++)m[p[y].morphTargets[g]]=-1;for(const g in m){const x=[],v=[];for(let b=0;b!==p[y].morphTargets.length;++b){const w=p[y];x.push(w.time),v.push(w.morphTarget===g?1:0)}i.push(new Rp(".morphTargetInfluence["+g+"]",x,v))}l=m.length*o}else{const m=".bones["+t[h].name+"]";r(Ip,m+".position",p,"pos",i),r(cd,m+".quaternion",p,"rot",i),r(Ip,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function qG(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Rp;case"vector":case"vector2":case"vector3":case"vector4":return Ip;case"color":return rE;case"quaternion":return cd;case"bool":case"boolean":return Hu;case"string":return Wu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function XG(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=qG(n.type);if(n.times===void 0){const t=[],r=[];tE(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const ku={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class iE{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,h){return c.push(u,h),this},this.removeHandler=function(u){const h=c.indexOf(u);return h!==-1&&c.splice(h,2),this},this.getHandler=function(u){for(let h=0,p=c.length;h<p;h+=2){const m=c[h],y=c[h+1];if(m.global&&(m.lastIndex=0),m.test(u))return y}return null}}}const K7=new iE;class xs{constructor(e){this.manager=e!==void 0?e:K7,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Aa={};class KG extends Error{constructor(e,t){super(e),this.response=t}}class $a extends xs{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=ku.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Aa[e]!==void 0){Aa[e].push({onLoad:t,onProgress:r,onError:i});return}Aa[e]=[],Aa[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Aa[e],h=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,y=m!==0;let g=0;const x=new ReadableStream({start(v){b();function b(){h.read().then(({done:w,value:A})=>{if(w)v.close();else{g+=A.byteLength;const T=new ProgressEvent("progress",{lengthComputable:y,loaded:g,total:m});for(let D=0,O=u.length;D<O;D++){const C=u[D];C.onProgress&&C.onProgress(T)}v.enqueue(A),b()}})}}});return new Response(x)}else throw new KG(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(y=>m.decode(y))}}}).then(c=>{ku.add(e,c);const u=Aa[e];delete Aa[e];for(let h=0,p=u.length;h<p;h++){const m=u[h];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=Aa[e];if(u===void 0)throw this.manager.itemError(e),c;delete Aa[e];for(let h=0,p=u.length;h<p;h++){const m=u[h];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class $G extends xs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new $a(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=kp.parse(e[r]);t.push(i)}return t}}class YG extends xs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new qM,l=new $a(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=nr),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)u(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let y=0;y<m;y++){o[y]={mipmaps:[]};for(let g=0;g<p.mipmapCount;g++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+g]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=nr),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class Lp extends xs{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ku.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Ep("img");function l(){u(),ku.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(h){u(),i&&i(h),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class JG extends xs{constructor(e){super(e)}load(e,t,r,i){const s=new um,o=new Lp(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class QG extends xs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new vh,a=new $a(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:ei,o.wrapT=c.wrapT!==void 0?c.wrapT:ei,o.magFilter=c.magFilter!==void 0?c.magFilter:nr,o.minFilter=c.minFilter!==void 0?c.minFilter:nr,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=tc),c.mipmapCount===1&&(o.minFilter=nr),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},r,i),o}}class ZG extends xs{constructor(e){super(e)}load(e,t,r,i){const s=new qn,o=new Lp(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class dc extends Jt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new et(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class $7 extends dc{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Jt.DefaultUp),this.updateMatrix(),this.groundColor=new et(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const qb=new Tt,u5=new ee,f5=new ee;class sE{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Le(512,512),this.map=null,this.mapPass=null,this.matrix=new Tt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new rv,this._frameExtents=new Le(1,1),this._viewportCount=1,this._viewports=[new qt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;u5.setFromMatrixPosition(e.matrixWorld),t.position.copy(u5),f5.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(f5),t.updateMatrixWorld(),qb.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(qb),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(qb)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class ej extends sE{constructor(){super(new An(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=Mp*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Y7 extends dc{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Jt.DefaultUp),this.updateMatrix(),this.target=new Jt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new ej}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const h5=new Tt,e0=new ee,Xb=new ee;class tj extends sE{constructor(){super(new An(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Le(4,2),this._viewportCount=6,this._viewports=[new qt(2,1,1,1),new qt(0,1,1,1),new qt(3,1,1,1),new qt(1,1,1,1),new qt(3,0,1,1),new qt(1,0,1,1)],this._cubeDirections=[new ee(1,0,0),new ee(-1,0,0),new ee(0,0,1),new ee(0,0,-1),new ee(0,1,0),new ee(0,-1,0)],this._cubeUps=[new ee(0,1,0),new ee(0,1,0),new ee(0,1,0),new ee(0,1,0),new ee(0,0,1),new ee(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),e0.setFromMatrixPosition(e.matrixWorld),r.position.copy(e0),Xb.copy(r.position),Xb.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(Xb),r.updateMatrixWorld(),i.makeTranslation(-e0.x,-e0.y,-e0.z),h5.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(h5)}}class J7 extends dc{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new tj}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class nj extends sE{constructor(){super(new ql(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Q7 extends dc{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Jt.DefaultUp),this.updateMatrix(),this.target=new Jt,this.shadow=new nj}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Z7 extends dc{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class ek extends dc{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class tk{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ee)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class hv extends dc{constructor(e=new tk,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class dv extends xs{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new $a(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=dv.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new et().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new et().setHex(o.value);break;case"v2":i.uniforms[s].value=new Le().fromArray(o.value);break;case"v3":i.uniforms[s].value=new ee().fromArray(o.value);break;case"v4":i.uniforms[s].value=new qt().fromArray(o.value);break;case"m3":i.uniforms[s].value=new wi().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Tt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Le().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Le().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:D7,SpriteMaterial:WM,RawShaderMaterial:O7,ShaderMaterial:Mo,PointsMaterial:jM,MeshPhysicalMaterial:B7,MeshStandardMaterial:ZM,MeshPhongMaterial:F7,MeshToonMaterial:z7,MeshNormalMaterial:U7,MeshLambertMaterial:V7,MeshDepthMaterial:zM,MeshDistanceMaterial:UM,MeshBasicMaterial:fc,MeshMatcapMaterial:H7,LineDashedMaterial:W7,LineBasicMaterial:Ai,Material:zr};return new t[e]}}class x3{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class nk extends Lt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class rk extends xs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new $a(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,y){if(t[y]!==void 0)return t[y];const x=m.interleavedBuffers[y],v=s(m,x.buffer),b=rh(x.type,v),w=new av(b,x.stride);return w.uuid=x.uuid,t[y]=w,w}function s(m,y){if(r[y]!==void 0)return r[y];const x=m.arrayBuffers[y],v=new Uint32Array(x).buffer;return r[y]=v,v}const o=e.isInstancedBufferGeometry?new nk:new Lt,a=e.data.index;if(a!==void 0){const m=rh(a.type,a.array);o.setIndex(new hn(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let g;if(y.isInterleavedBufferAttribute){const x=i(e.data,y.data);g=new Ru(x,y.itemSize,y.offset,y.normalized)}else{const x=rh(y.type,y.array),v=y.isInstancedBufferAttribute?Bh:hn;g=new v(x,y.itemSize,y.normalized)}y.name!==void 0&&(g.name=y.name),y.usage!==void 0&&g.setUsage(y.usage),y.updateRange!==void 0&&(g.updateRange.offset=y.updateRange.offset,g.updateRange.count=y.updateRange.count),o.setAttribute(m,g)}const c=e.data.morphAttributes;if(c)for(const m in c){const y=c[m],g=[];for(let x=0,v=y.length;x<v;x++){const b=y[x];let w;if(b.isInterleavedBufferAttribute){const A=i(e.data,b.data);w=new Ru(A,b.itemSize,b.offset,b.normalized)}else{const A=rh(b.type,b.array);w=new hn(A,b.itemSize,b.normalized)}b.name!==void 0&&(w.name=b.name),g.push(w)}o.morphAttributes[m]=g}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,y=h.length;m!==y;++m){const g=h[m];o.addGroup(g.start,g.count,g.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new ee;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Uu(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class rj extends xs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?x3.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new $a(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?x3.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new $a(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new xu().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new lv().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new rk;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in c5?a=c5[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new dv;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=kp.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:rh(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new iE(t);s=new Lp(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const h=e[c],p=h.url;if(Array.isArray(p)){const m=[];for(let y=0,g=p.length;y<g;y++){const x=p[y],v=a(x);v!==null&&(v instanceof HTMLImageElement?m.push(v):m.push(new vh(v.data,v.width,v.height)))}i[h.uuid]=new su(m)}else{const m=a(h.url);i[h.uuid]=new su(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:rh(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Lp(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let h=0,p=c.length;h<p;h++){const m=c[h],y=await s(m);y!==null&&(y instanceof HTMLImageElement?u.push(y):u.push(new vh(y.data,y.width,y.height)))}r[l.uuid]=new su(u)}else{const u=await s(l.url);r[l.uuid]=new su(u)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new um,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new vh:u=new qn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,ij)),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],d5),u.wrapT=r(a.wrap[1],d5)),a.format!==void 0&&(u.format=a.format),a.type!==void 0&&(u.type=a.type),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,p5)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,p5)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,t,r,i,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let y=0,g=p.length;y<g;y++){const x=p[y];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(r[x])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let u,h;switch(e.type){case"Scene":o=new HM,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new et(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new ov(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new sv(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":o=new An(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new ql(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Z7(e.color,e.intensity);break;case"DirectionalLight":o=new Q7(e.color,e.intensity);break;case"PointLight":o=new J7(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new ek(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Y7(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new $7(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new hv().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),h=l(e.material),o=new b7(u,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),h=l(e.material),o=new Or(u,h);break;case"InstancedMesh":u=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,y=e.instanceColor;o=new w7(u,h,p),o.instanceMatrix=new Bh(new Float32Array(m.array),16),y!==void 0&&(o.instanceColor=new Bh(new Float32Array(y.array),y.itemSize));break;case"LOD":o=new _7;break;case"Line":o=new nc(a(e.geometry),l(e.material));break;case"LineLoop":o=new S7(a(e.geometry),l(e.material));break;case"LineSegments":o=new fa(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new M7(a(e.geometry),l(e.material));break;case"Sprite":o=new v7(l(e.material));break;case"Group":o=new sh;break;case"Bone":o=new GM;break;default:o=new Jt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const y=p[m];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const y=p[m],g=o.getObjectByProperty("uuid",y.object);g!==void 0&&o.addLevel(g,y.distance,y.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const ij={UVMapping:ev,CubeReflectionMapping:Zl,CubeRefractionMapping:ec,EquirectangularReflectionMapping:gp,EquirectangularRefractionMapping:xp,CubeUVReflectionMapping:nd},d5={RepeatWrapping:yp,ClampToEdgeWrapping:ei,MirroredRepeatWrapping:vp},p5={NearestFilter:Zn,NearestMipmapNearestFilter:ey,NearestMipmapLinearFilter:O0,LinearFilter:nr,LinearMipmapNearestFilter:IM,LinearMipmapLinearFilter:tc};class sj extends xs{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ku.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){ku.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let _x;class oE{static getContext(){return _x===void 0&&(_x=new(window.AudioContext||window.webkitAudioContext)),_x}static setContext(e){_x=e}}class oj extends xs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new $a(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);oE.getContext().decodeAudioData(l,function(u){t(u)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class aj extends hv{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new et().set(e),s=new et().set(t),o=new ee(i.r,i.g,i.b),a=new ee(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class lj extends hv{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new et().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const m5=new Tt,g5=new Tt,kc=new Tt;class cj{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new An,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new An,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,kc.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(pu*t.fov*.5)/t.zoom;let a,l;g5.elements[12]=-i,m5.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,kc.elements[0]=2*t.near/(l-a),kc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(kc),a=-o*t.aspect-s,l=o*t.aspect-s,kc.elements[0]=2*t.near/(l-a),kc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(kc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(g5),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(m5)}}class aE{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=x5(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=x5();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function x5(){return(typeof performance>"u"?Date:performance).now()}const Lc=new ee,y5=new ii,uj=new ee,Nc=new ee;class fj extends Jt{constructor(){super(),this.type="AudioListener",this.context=oE.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new aE}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Lc,y5,uj),Nc.set(0,0,-1).applyQuaternion(y5),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Lc.x,i),t.positionY.linearRampToValueAtTime(Lc.y,i),t.positionZ.linearRampToValueAtTime(Lc.z,i),t.forwardX.linearRampToValueAtTime(Nc.x,i),t.forwardY.linearRampToValueAtTime(Nc.y,i),t.forwardZ.linearRampToValueAtTime(Nc.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Lc.x,Lc.y,Lc.z),t.setOrientation(Nc.x,Nc.y,Nc.z,r.x,r.y,r.z)}}class ik extends Jt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Dc=new ee,v5=new ii,hj=new ee,Oc=new ee;class dj extends ik{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Dc,v5,hj),Oc.set(0,0,1).applyQuaternion(v5);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Dc.x,r),t.positionY.linearRampToValueAtTime(Dc.y,r),t.positionZ.linearRampToValueAtTime(Dc.z,r),t.orientationX.linearRampToValueAtTime(Oc.x,r),t.orientationY.linearRampToValueAtTime(Oc.y,r),t.orientationZ.linearRampToValueAtTime(Oc.z,r)}else t.setPosition(Dc.x,Dc.y,Dc.z),t.setOrientation(Oc.x,Oc.y,Oc.z)}}class pj{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class sk{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){ii.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;ii.multiplyQuaternionsFlat(e,o,e,t,e,r),ii.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const lE="\\[\\]\\.:\\/",mj=new RegExp("["+lE+"]","g"),cE="[^"+lE+"]",gj="[^"+lE.replace("\\.","")+"]",xj=/((?:WC+[\/:])*)/.source.replace("WC",cE),yj=/(WCOD+)?/.source.replace("WCOD",gj),vj=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",cE),_j=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",cE),bj=new RegExp("^"+xj+yj+vj+_j+"$"),wj=["material","materials","bones","map"];class Sj{constructor(e,t,r){const i=r||Gt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Gt{constructor(e,t,r){this.path=t,this.parsedPath=r||Gt.parseTrackName(t),this.node=Gt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Gt.Composite(e,t,r):new Gt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(mj,"")}static parseTrackName(e){const t=bj.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);wj.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Gt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Gt.Composite=Sj;Gt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Gt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Gt.prototype.GetterByBindingType=[Gt.prototype._getValue_direct,Gt.prototype._getValue_array,Gt.prototype._getValue_arrayElement,Gt.prototype._getValue_toArray];Gt.prototype.SetterByBindingTypeAndVersioning=[[Gt.prototype._setValue_direct,Gt.prototype._setValue_direct_setNeedsUpdate,Gt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Gt.prototype._setValue_array,Gt.prototype._setValue_array_setNeedsUpdate,Gt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Gt.prototype._setValue_arrayElement,Gt.prototype._setValue_arrayElement_setNeedsUpdate,Gt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Gt.prototype._setValue_fromArray,Gt.prototype._setValue_fromArray_setNeedsUpdate,Gt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Mj{constructor(){this.isAnimationObjectGroup=!0,this.uuid=us(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,h=arguments.length;u!==h;++u){const p=arguments[u],m=p.uuid;let y=t[m];if(y===void 0){y=l++,t[m]=y,e.push(p);for(let g=0,x=o;g!==x;++g)s[g].push(new Gt(p,r[g],i[g]))}else if(y<c){a=e[y];const g=--c,x=e[g];t[x.uuid]=y,e[y]=x,t[m]=g,e[g]=p;for(let v=0,b=o;v!==b;++v){const w=s[v],A=w[g];let T=w[y];w[y]=A,T===void 0&&(T=new Gt(p,r[v],i[v])),w[g]=T}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const h=s++,p=e[h];t[p.uuid]=u,e[u]=p,t[c]=h,e[h]=l;for(let m=0,y=i;m!==y;++m){const g=r[m],x=g[h],v=g[u];g[u]=x,g[h]=v}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,h=t[u];if(h!==void 0)if(delete t[u],h<s){const p=--s,m=e[p],y=--o,g=e[y];t[m.uuid]=h,e[h]=m,t[g.uuid]=p,e[p]=g,e.pop();for(let x=0,v=i;x!==v;++x){const b=r[x],w=b[p],A=b[y];b[h]=w,b[p]=A,b.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let y=0,g=i;y!==g;++y){const x=r[y];x[h]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,h=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(h);for(let p=u,m=l.length;p!==m;++p){const y=l[p];h[p]=new Gt(y,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class Ej{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:ru,endingEnd:ru};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=YI,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case LM:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case tv:default:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===JI;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===$I){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=iu,i.endingEnd=iu):(e?i.endingStart=this.zeroSlopeAtStart?iu:ru:i.endingStart=wp,t?i.endingEnd=this.zeroSlopeAtEnd?iu:ru:i.endingEnd=wp)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const Aj=new Float32Array(1);class Cj extends ua{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let h=0;h!==s;++h){const p=i[h],m=p.name;let y=u[m];if(y!==void 0)++y.referenceCount,o[h]=y;else{if(y=o[h],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const g=t&&t._propertyBindings[h].binding.parsedPath;y=new sk(Gt.create(r,m,g),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),o[h]=y}a[h].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new nE(new Float32Array(2),new Float32Array(2),1,Aj),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?kp.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=tv),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===r)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new Ej(this,o,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?kp.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=u,t[u]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class uE{constructor(e){this.value=e}clone(){return new uE(this.value.clone===void 0?this.value:this.value.clone())}}let Tj=0;class Pj extends ua{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Tj++}),this.name="",this.usage=Sp,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class Rj extends av{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Ij{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class ok{constructor(e,t,r=0,i=1/0){this.ray=new lm(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new gu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return y3(e,this,r,t),r.sort(_5),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)y3(e[i],this,r,t);return r.sort(_5),r}}function _5(n,e){return n.distance-e.distance}function y3(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)y3(i[s],e,t,!0)}}class v3{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(rr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class kj{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const b5=new Le;class Lj{constructor(e=new Le(1/0,1/0),t=new Le(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=b5.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return b5.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const w5=new ee,bx=new ee;class Nj{constructor(e=new ee,t=new ee){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){w5.subVectors(e,this.start),bx.subVectors(this.end,this.start);const r=bx.dot(bx);let s=bx.dot(w5)/r;return t&&(s=rr(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const S5=new ee;class Dj extends Jt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Lt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new ut(i,3));const s=new Ai({fog:!1,toneMapped:!1});this.cone=new fa(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),S5.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(S5),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const xl=new ee,wx=new Tt,Kb=new Tt;class Oj extends fa{constructor(e){const t=ak(e),r=new Lt,i=[],s=[],o=new et(0,0,1),a=new et(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new ut(i,3)),r.setAttribute("color",new ut(s,3));const l=new Ai({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");Kb.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(wx.multiplyMatrices(Kb,a.matrixWorld),xl.setFromMatrixPosition(wx),i.setXYZ(o,xl.x,xl.y,xl.z),wx.multiplyMatrices(Kb,a.parent.matrixWorld),xl.setFromMatrixPosition(wx),i.setXYZ(o+1,xl.x,xl.y,xl.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function ak(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,ak(n.children[t]));return e}class Bj extends Or{constructor(e,t,r){const i=new ld(t,4,2),s=new fc({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Fj=new ee,M5=new et,E5=new et;class zj extends Jt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new ad(t);i.rotateY(Math.PI*.5),this.material=new fc({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new hn(o,3)),this.add(new Or(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");M5.copy(this.light.color),E5.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?M5:E5;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Fj.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Uj extends fa{constructor(e=10,t=10,r=4473924,i=8947848){r=new et(r),i=new et(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,y=-a;p<=t;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const g=p===s?r:i;g.toArray(c,m),m+=3,g.toArray(c,m),m+=3,g.toArray(c,m),m+=3,g.toArray(c,m),m+=3}const u=new Lt;u.setAttribute("position",new ut(l,3)),u.setAttribute("color",new ut(c,3));const h=new Ai({vertexColors:!0,toneMapped:!1});super(u,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Vj extends fa{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new et(s),o=new et(o);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const p=h/t*(Math.PI*2),m=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,y);const g=h&1?s:o;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let h=0;h<r;h++){const p=h&1?s:o,m=e-e/r*h;for(let y=0;y<i;y++){let g=y/i*(Math.PI*2),x=Math.sin(g)*m,v=Math.cos(g)*m;a.push(x,0,v),l.push(p.r,p.g,p.b),g=(y+1)/i*(Math.PI*2),x=Math.sin(g)*m,v=Math.cos(g)*m,a.push(x,0,v),l.push(p.r,p.g,p.b)}}const c=new Lt;c.setAttribute("position",new ut(a,3)),c.setAttribute("color",new ut(l,3));const u=new Ai({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const A5=new ee,Sx=new ee,C5=new ee;class Hj extends Jt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Lt;i.setAttribute("position",new ut([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Ai({fog:!1,toneMapped:!1});this.lightPlane=new nc(i,s),this.add(this.lightPlane),i=new Lt,i.setAttribute("position",new ut([0,0,0,0,0,1],3)),this.targetLine=new nc(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),A5.setFromMatrixPosition(this.light.matrixWorld),Sx.setFromMatrixPosition(this.light.target.matrixWorld),C5.subVectors(Sx,A5),this.lightPlane.lookAt(Sx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Sx),this.targetLine.scale.z=C5.length()}}const Mx=new ee,Fn=new cm;class Wj extends fa{constructor(e){const t=new Lt,r=new Ai({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,g){l(y),l(g)}function l(y){i.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(i.length/3-1)}t.setAttribute("position",new ut(i,3)),t.setAttribute("color",new ut(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new et(16755200),u=new et(16711680),h=new et(43775),p=new et(16777215),m=new et(3355443);this.setColors(c,u,h,p,m)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;Fn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),$n("c",t,e,Fn,0,0,-1),$n("t",t,e,Fn,0,0,1),$n("n1",t,e,Fn,-r,-i,-1),$n("n2",t,e,Fn,r,-i,-1),$n("n3",t,e,Fn,-r,i,-1),$n("n4",t,e,Fn,r,i,-1),$n("f1",t,e,Fn,-r,-i,1),$n("f2",t,e,Fn,r,-i,1),$n("f3",t,e,Fn,-r,i,1),$n("f4",t,e,Fn,r,i,1),$n("u1",t,e,Fn,r*.7,i*1.1,-1),$n("u2",t,e,Fn,-r*.7,i*1.1,-1),$n("u3",t,e,Fn,0,i*2,-1),$n("cf1",t,e,Fn,-r,0,1),$n("cf2",t,e,Fn,r,0,1),$n("cf3",t,e,Fn,0,-i,1),$n("cf4",t,e,Fn,0,i,1),$n("cn1",t,e,Fn,-r,0,-1),$n("cn2",t,e,Fn,r,0,-1),$n("cn3",t,e,Fn,0,-i,-1),$n("cn4",t,e,Fn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function $n(n,e,t,r,i,s,o){Mx.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],Mx.x,Mx.y,Mx.z)}}const Ex=new uc;class Gj extends fa{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Lt;s.setIndex(new hn(r,1)),s.setAttribute("position",new hn(i,3)),super(s,new Ai({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Ex.setFromObject(this.object),Ex.isEmpty())return;const t=Ex.min,r=Ex.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class jj extends fa{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Lt;s.setIndex(new hn(r,1)),s.setAttribute("position",new ut(i,3)),super(s,new Ai({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class qj extends nc{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Lt;o.setAttribute("position",new ut(s,3)),o.computeBoundingSphere(),super(o,new Ai({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Lt;l.setAttribute("position",new ut(a,3)),l.computeBoundingSphere(),this.add(new Or(l,new fc({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const T5=new ee;let Ax,$b;class Xj extends Jt{constructor(e=new ee(0,0,1),t=new ee(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",Ax===void 0&&(Ax=new Lt,Ax.setAttribute("position",new ut([0,0,0,0,1,0],3)),$b=new Vu(0,.5,1,5,1),$b.translate(0,-.5,0)),this.position.copy(t),this.line=new nc(Ax,new Ai({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Or($b,new fc({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{T5.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(T5,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Kj extends fa{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Lt;i.setAttribute("position",new ut(t,3)),i.setAttribute("color",new ut(r,3));const s=new Ai({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new et,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class $j{constructor(){this.type="ShapePath",this.color=new et,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Ap,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(v){const b=[];for(let w=0,A=v.length;w<A;w++){const T=v[w],D=new xu;D.curves=T.curves,b.push(D)}return b}function r(v,b){const w=b.length;let A=!1;for(let T=w-1,D=0;D<w;T=D++){let O=b[T],C=b[D],B=C.x-O.x,G=C.y-O.y;if(Math.abs(G)>Number.EPSILON){if(G<0&&(O=b[D],B=-B,C=b[T],G=-G),v.y<O.y||v.y>C.y)continue;if(v.y===O.y){if(v.x===O.x)return!0}else{const Y=G*(v.x-O.x)-B*(v.y-O.y);if(Y===0)return!0;if(Y<0)continue;A=!A}}else{if(v.y!==O.y)continue;if(C.x<=v.x&&v.x<=O.x||O.x<=v.x&&v.x<=C.x)return!0}}return A}const i=Jo.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new xu,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const h=[],p=[];let m=[],y=0,g;p[y]=void 0,m[y]=[];for(let v=0,b=s.length;v<b;v++)a=s[v],g=a.getPoints(),o=i(g),o=e?!o:o,o?(!u&&p[y]&&y++,p[y]={s:new xu,p:g},p[y].s.curves=a.curves,u&&y++,m[y]=[]):m[y].push({h:a,p:g[0]});if(!p[0])return t(s);if(p.length>1){let v=!1,b=0;for(let w=0,A=p.length;w<A;w++)h[w]=[];for(let w=0,A=p.length;w<A;w++){const T=m[w];for(let D=0;D<T.length;D++){const O=T[D];let C=!0;for(let B=0;B<p.length;B++)r(O.p,p[B].p)&&(w!==B&&b++,C?(C=!1,h[B].push(O)):v=!0);C&&h[w].push(O)}}b>0&&v===!1&&(m=h)}let x;for(let v=0,b=p.length;v<b;v++){l=p[v].s,c.push(l),x=m[v];for(let w=0,A=x.length;w<A;w++)l.holes.push(x[w].h)}return c}}const Na=Yj();function Yj(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function Jj(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=rr(n,-65504,65504),Na.floatView[0]=n;const e=Na.uint32View[0],t=e>>23&511;return Na.baseTable[t]+((e&8388607)>>Na.shiftTable[t])}function Qj(n){const e=n>>10;return Na.uint32View[0]=Na.mantissaTable[Na.offsetTable[e]+(n&1023)]+Na.exponentTable[e],Na.floatView[0]}var Zj=Object.freeze({__proto__:null,toHalfFloat:Jj,fromHalfFloat:Qj});function eq(){console.error("THREE.ImmediateRenderObject has been removed.")}class tq extends js{constructor(e,t,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,r),this.samples=4}}class nq extends am{constructor(e,t,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,r,i)}}class rq extends nv{constructor(e,t,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,r,i)}}class iq extends hc{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class sq extends fm{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class oq extends hm{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class aq extends dm{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class lq extends Vu{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class cq extends pm{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class uq extends mm{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class fq extends gm{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class hq extends od{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class dq extends ad{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class pq extends id{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class mq extends nl{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class gq extends xm{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class xq extends ym{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class yq extends ld{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class vq extends vm{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class _q extends _m{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class bq extends bm{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class wq extends wm{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Qy}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Qy);const ry=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:RM,AddEquation:$c,AddOperation:PI,AdditiveAnimationBlendMode:LM,AdditiveBlending:B2,AlphaFormat:zI,AlwaysDepth:wI,AlwaysStencilFunc:t7,AmbientLight:Z7,AmbientLightProbe:lj,AnimationClip:kp,AnimationLoader:$G,AnimationMixer:Cj,AnimationObjectGroup:Mj,AnimationUtils:jG,ArcCurve:E7,ArrayCamera:m7,ArrowHelper:Xj,Audio:ik,AudioAnalyser:pj,AudioContext:oE,AudioListener:fj,AudioLoader:oj,AxesHelper:Kj,BackSide:cs,BasicDepthPacking:QI,BasicShadowMap:lI,Bone:GM,BooleanKeyframeTrack:Hu,Box2:Lj,Box3:uc,Box3Helper:jj,BoxBufferGeometry:iq,BoxGeometry:hc,BoxHelper:Gj,BufferAttribute:hn,BufferGeometry:Lt,BufferGeometryLoader:rk,ByteType:NI,Cache:ku,Camera:cm,CameraHelper:Wj,CanvasTexture:mG,CapsuleBufferGeometry:sq,CapsuleGeometry:fm,CatmullRomCurve3:A7,CineonToneMapping:kI,CircleBufferGeometry:oq,CircleGeometry:hm,ClampToEdgeWrapping:ei,Clock:aE,Color:et,ColorKeyframeTrack:rE,ColorManagement:Jr,CompressedArrayTexture:pG,CompressedTexture:qM,CompressedTextureLoader:YG,ConeBufferGeometry:aq,ConeGeometry:dm,CubeCamera:a7,CubeReflectionMapping:Zl,CubeRefractionMapping:ec,CubeTexture:um,CubeTextureLoader:JG,CubeUVReflectionMapping:nd,CubicBezierCurve:KM,CubicBezierCurve3:C7,CubicInterpolant:j7,CullFaceBack:O2,CullFaceFront:aI,CullFaceFrontBack:yF,CullFaceNone:oI,Curve:Ao,CurvePath:P7,CustomBlending:cI,CustomToneMapping:LI,CylinderBufferGeometry:lq,CylinderGeometry:Vu,Cylindrical:kj,Data3DTexture:nv,DataArrayTexture:am,DataTexture:vh,DataTexture2DArray:nq,DataTexture3D:rq,DataTextureLoader:QG,DataUtils:Zj,DecrementStencilOp:RF,DecrementWrapStencilOp:kF,DefaultLoadingManager:K7,DepthFormat:jl,DepthStencilFormat:Pu,DepthTexture:g7,DirectionalLight:Q7,DirectionalLightHelper:Hj,DiscreteInterpolant:q7,DodecahedronBufferGeometry:cq,DodecahedronGeometry:pm,DoubleSide:sm,DstAlphaFactor:gI,DstColorFactor:yI,DynamicCopyUsage:XF,DynamicDrawUsage:VF,DynamicReadUsage:GF,EdgesGeometry:R7,EllipseCurve:cv,EqualDepth:MI,EqualStencilFunc:OF,EquirectangularReflectionMapping:gp,EquirectangularRefractionMapping:xp,Euler:rd,EventDispatcher:ua,ExtrudeBufferGeometry:uq,ExtrudeGeometry:mm,FileLoader:$a,Float16BufferAttribute:Cz,Float32BufferAttribute:ut,Float64BufferAttribute:Tz,FloatType:za,Fog:ov,FogExp2:sv,FramebufferTexture:dG,FrontSide:Ql,Frustum:rv,GLBufferAttribute:Ij,GLSL1:$F,GLSL3:c3,GreaterDepth:AI,GreaterEqualDepth:EI,GreaterEqualStencilFunc:UF,GreaterStencilFunc:FF,GridHelper:Uj,Group:sh,HalfFloatType:Nh,HemisphereLight:$7,HemisphereLightHelper:zj,HemisphereLightProbe:aj,IcosahedronBufferGeometry:fq,IcosahedronGeometry:gm,ImageBitmapLoader:sj,ImageLoader:Lp,ImageUtils:DM,ImmediateRenderObject:eq,IncrementStencilOp:PF,IncrementWrapStencilOp:IF,InstancedBufferAttribute:Bh,InstancedBufferGeometry:nk,InstancedInterleavedBuffer:Rj,InstancedMesh:w7,Int16BufferAttribute:Ez,Int32BufferAttribute:Az,Int8BufferAttribute:wz,IntType:OI,InterleavedBuffer:av,InterleavedBufferAttribute:Ru,Interpolant:Sm,InterpolateDiscrete:_p,InterpolateLinear:bp,InterpolateSmooth:c1,InvertStencilOp:LF,KeepStencilOp:u1,KeyframeTrack:Co,LOD:_7,LatheBufferGeometry:hq,LatheGeometry:od,Layers:gu,LessDepth:SI,LessEqualDepth:Z1,LessEqualStencilFunc:BF,LessStencilFunc:DF,Light:dc,LightProbe:hv,Line:nc,Line3:Nj,LineBasicMaterial:Ai,LineCurve:uv,LineCurve3:T7,LineDashedMaterial:W7,LineLoop:S7,LineSegments:fa,LinearEncoding:Ka,LinearFilter:nr,LinearInterpolant:nE,LinearMipMapLinearFilter:wF,LinearMipMapNearestFilter:bF,LinearMipmapLinearFilter:tc,LinearMipmapNearestFilter:IM,LinearSRGBColorSpace:Dh,LinearToneMapping:RI,Loader:xs,LoaderUtils:x3,LoadingManager:iE,LoopOnce:$I,LoopPingPong:JI,LoopRepeat:YI,LuminanceAlphaFormat:HI,LuminanceFormat:VI,MOUSE:Wc,Material:zr,MaterialLoader:dv,MathUtils:v0,Matrix3:wi,Matrix4:Tt,MaxEquation:V2,Mesh:Or,MeshBasicMaterial:fc,MeshDepthMaterial:zM,MeshDistanceMaterial:UM,MeshLambertMaterial:V7,MeshMatcapMaterial:H7,MeshNormalMaterial:U7,MeshPhongMaterial:F7,MeshPhysicalMaterial:B7,MeshStandardMaterial:ZM,MeshToonMaterial:z7,MinEquation:U2,MirroredRepeatWrapping:vp,MixOperation:TI,MultiplyBlending:z2,MultiplyOperation:om,NearestFilter:Zn,NearestMipMapLinearFilter:_F,NearestMipMapNearestFilter:vF,NearestMipmapLinearFilter:O0,NearestMipmapNearestFilter:ey,NeverDepth:bI,NeverStencilFunc:NF,NoBlending:Ha,NoColorSpace:AF,NoToneMapping:bo,NormalAnimationBlendMode:tv,NormalBlending:hu,NotEqualDepth:CI,NotEqualStencilFunc:zF,NumberKeyframeTrack:Rp,Object3D:Jt,ObjectLoader:rj,ObjectSpaceNormalMap:e7,OctahedronBufferGeometry:dq,OctahedronGeometry:ad,OneFactor:dI,OneMinusDstAlphaFactor:xI,OneMinusDstColorFactor:vI,OneMinusSrcAlphaFactor:PM,OneMinusSrcColorFactor:mI,OrthographicCamera:ql,PCFShadowMap:Zy,PCFSoftShadowMap:D0,PMREMGenerator:f3,Path:Ap,PerspectiveCamera:An,Plane:Sl,PlaneBufferGeometry:pq,PlaneGeometry:id,PlaneHelper:qj,PointLight:J7,PointLightHelper:Bj,Points:M7,PointsMaterial:jM,PolarGridHelper:Vj,PolyhedronBufferGeometry:mq,PolyhedronGeometry:nl,PositionalAudio:dj,PropertyBinding:Gt,PropertyMixer:sk,QuadraticBezierCurve:$M,QuadraticBezierCurve3:YM,Quaternion:ii,QuaternionKeyframeTrack:cd,QuaternionLinearInterpolant:X7,REVISION:Qy,RGBADepthPacking:ZI,RGBAFormat:Di,RGBAIntegerFormat:XI,RGBA_ASTC_10x10_Format:s3,RGBA_ASTC_10x5_Format:n3,RGBA_ASTC_10x6_Format:r3,RGBA_ASTC_10x8_Format:i3,RGBA_ASTC_12x10_Format:o3,RGBA_ASTC_12x12_Format:a3,RGBA_ASTC_4x4_Format:K2,RGBA_ASTC_5x4_Format:$2,RGBA_ASTC_5x5_Format:Y2,RGBA_ASTC_6x5_Format:J2,RGBA_ASTC_6x6_Format:Q2,RGBA_ASTC_8x5_Format:Z2,RGBA_ASTC_8x6_Format:e3,RGBA_ASTC_8x8_Format:t3,RGBA_BPTC_Format:l3,RGBA_ETC2_EAC_Format:X2,RGBA_PVRTC_2BPPV1_Format:j2,RGBA_PVRTC_4BPPV1_Format:G2,RGBA_S3TC_DXT1_Format:o1,RGBA_S3TC_DXT3_Format:a1,RGBA_S3TC_DXT5_Format:l1,RGBFormat:UI,RGB_ETC1_Format:KI,RGB_ETC2_Format:q2,RGB_PVRTC_2BPPV1_Format:W2,RGB_PVRTC_4BPPV1_Format:H2,RGB_S3TC_DXT1_Format:s1,RGFormat:jI,RGIntegerFormat:qI,RawShaderMaterial:O7,Ray:lm,Raycaster:ok,RectAreaLight:ek,RedFormat:WI,RedIntegerFormat:GI,ReinhardToneMapping:II,RepeatWrapping:yp,ReplaceStencilOp:TF,ReverseSubtractEquation:fI,RingBufferGeometry:gq,RingGeometry:xm,SRGBColorSpace:fo,Scene:HM,ShaderChunk:It,ShaderLib:po,ShaderMaterial:Mo,ShadowMaterial:D7,Shape:xu,ShapeBufferGeometry:xq,ShapeGeometry:ym,ShapePath:$j,ShapeUtils:Jo,ShortType:DI,Skeleton:lv,SkeletonHelper:Oj,SkinnedMesh:b7,Source:su,Sphere:Uu,SphereBufferGeometry:yq,SphereGeometry:ld,Spherical:v3,SphericalHarmonics3:tk,SplineCurve:JM,SpotLight:Y7,SpotLightHelper:Dj,Sprite:v7,SpriteMaterial:WM,SrcAlphaFactor:TM,SrcAlphaSaturateFactor:_I,SrcColorFactor:pI,StaticCopyUsage:qF,StaticDrawUsage:Sp,StaticReadUsage:WF,StereoCamera:cj,StreamCopyUsage:KF,StreamDrawUsage:HF,StreamReadUsage:jF,StringKeyframeTrack:Wu,SubtractEquation:uI,SubtractiveBlending:F2,TOUCH:Gc,TangentSpaceNormalMap:cc,TetrahedronBufferGeometry:vq,TetrahedronGeometry:vm,Texture:qn,TextureLoader:ZG,TorusBufferGeometry:_q,TorusGeometry:_m,TorusKnotBufferGeometry:bq,TorusKnotGeometry:bm,Triangle:Bs,TriangleFanDrawMode:EF,TriangleStripDrawMode:MF,TrianglesDrawMode:SF,TubeBufferGeometry:wq,TubeGeometry:wm,TwoPassDoubleSide:y0,UVMapping:ev,Uint16BufferAttribute:OM,Uint32BufferAttribute:BM,Uint8BufferAttribute:Sz,Uint8ClampedBufferAttribute:Mz,Uniform:uE,UniformsGroup:Pj,UniformsLib:Ye,UniformsUtils:o7,UnsignedByteType:Xa,UnsignedInt248Type:du,UnsignedIntType:Pl,UnsignedShort4444Type:BI,UnsignedShort5551Type:FI,UnsignedShortType:kM,VSMShadowMap:nu,Vector2:Le,Vector3:ee,Vector4:qt,VectorKeyframeTrack:Ip,VideoTexture:hG,WebGL1Renderer:x7,WebGL3DRenderTarget:hz,WebGLArrayRenderTarget:fz,WebGLCubeRenderTarget:l7,WebGLMultipleRenderTargets:dz,WebGLMultisampleRenderTarget:tq,WebGLRenderTarget:js,WebGLRenderer:VM,WebGLUtils:p7,WireframeGeometry:N7,WrapAroundEnding:wp,ZeroCurvatureEnding:ru,ZeroFactor:hI,ZeroSlopeEnding:iu,ZeroStencilOp:CF,_SRGBAFormat:ty,sRGBEncoding:on},Symbol.toStringTag,{value:"Module"}));var Rl={},Sq={get exports(){return Rl},set exports(n){Rl=n}},Gu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Gu.ConcurrentRoot=1;Gu.ContinuousEventPriority=4;Gu.DefaultEventPriority=16;Gu.DiscreteEventPriority=1;Gu.IdleEventPriority=536870912;Gu.LegacyRoot=0;(function(n){n.exports=Gu})(Sq);function Mq(n){let e;const t=new Set,r=(c,u)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const p=e;e=u?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},i=()=>e,s=(c,u=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const y=u(e);if(!h(p,y)){const g=p;c(p=y,g)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(c,u,h)=>u||h?s(c,u,h):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const Eq=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),P5=Eq?_e.useEffect:_e.useLayoutEffect;function Aq(n){const e=typeof n=="function"?Mq(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=_e.useReducer(x=>x+1,0),o=e.getState(),a=_e.useRef(o),l=_e.useRef(r),c=_e.useRef(i),u=_e.useRef(!1),h=_e.useRef();h.current===void 0&&(h.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(p=r(o),m=!i(h.current,p)),P5(()=>{m&&(h.current=p),a.current=o,l.current=r,c.current=i,u.current=!1});const y=_e.useRef(o);P5(()=>{const x=()=>{try{const b=e.getState(),w=l.current(b);c.current(h.current,w)||(a.current=b,h.current=w,s())}catch{u.current=!0,s()}},v=e.subscribe(x);return e.getState()!==y.current&&x(),v},[]);const g=m?p:h.current;return _e.useDebugValue(g),g};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var _3={},Cq={get exports(){return _3},set exports(n){_3=n}},Np={},Tq={get exports(){return Np},set exports(n){Np=n}},lk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,X){var $=F.length;F.push(X);e:for(;0<$;){var P=$-1>>>1,M=F[P];if(0<i(M,X))F[P]=X,F[$]=M,$=P;else break e}}function t(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var X=F[0],$=F.pop();if($!==X){F[0]=$;e:for(var P=0,M=F.length,W=M>>>1;P<W;){var Z=2*(P+1)-1,N=F[Z],J=Z+1,ue=F[J];if(0>i(N,$))J<M&&0>i(ue,N)?(F[P]=ue,F[J]=$,P=J):(F[P]=N,F[Z]=$,P=Z);else if(J<M&&0>i(ue,$))F[P]=ue,F[J]=$,P=J;else break e}}return X}function i(F,X){var $=F.sortIndex-X.sortIndex;return $!==0?$:F.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,m=!1,y=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var X=t(c);X!==null;){if(X.callback===null)r(c);else if(X.startTime<=F)r(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(c)}}function A(F){if(g=!1,w(F),!y)if(t(l)!==null)y=!0,z(T);else{var X=t(c);X!==null&&q(A,X.startTime-F)}}function T(F,X){y=!1,g&&(g=!1,v(C),C=-1),m=!0;var $=p;try{for(w(X),h=t(l);h!==null&&(!(h.expirationTime>X)||F&&!Y());){var P=h.callback;if(typeof P=="function"){h.callback=null,p=h.priorityLevel;var M=P(h.expirationTime<=X);X=n.unstable_now(),typeof M=="function"?h.callback=M:h===t(l)&&r(l),w(X)}else r(l);h=t(l)}if(h!==null)var W=!0;else{var Z=t(c);Z!==null&&q(A,Z.startTime-X),W=!1}return W}finally{h=null,p=$,m=!1}}var D=!1,O=null,C=-1,B=5,G=-1;function Y(){return!(n.unstable_now()-G<B)}function oe(){if(O!==null){var F=n.unstable_now();G=F;var X=!0;try{X=O(!0,F)}finally{X?V():(D=!1,O=null)}}else D=!1}var V;if(typeof b=="function")V=function(){b(oe)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,L=S.port2;S.port1.onmessage=oe,V=function(){L.postMessage(null)}}else V=function(){x(oe,0)};function z(F){O=F,D||(D=!0,V())}function q(F,X){C=x(function(){F(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,z(T))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var $=p;p=X;try{return F()}finally{p=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,X){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var $=p;p=F;try{return X()}finally{p=$}},n.unstable_scheduleCallback=function(F,X,$){var P=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?P+$:P):$=P,F){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=$+M,F={id:u++,callback:X,priorityLevel:F,startTime:$,expirationTime:M,sortIndex:-1},$>P?(F.sortIndex=$,e(c,F),t(l)===null&&F===t(c)&&(g?(v(C),C=-1):g=!0,q(A,$-P))):(F.sortIndex=M,e(l,F),y||m||(y=!0,z(T))),F},n.unstable_shouldYield=Y,n.unstable_wrapCallback=function(F){var X=p;return function(){var $=p;p=X;try{return F.apply(this,arguments)}finally{p=$}}}})(lk);(function(n){n.exports=lk})(Tq);/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pq=function(e){var t={},r=_e,i=Np,s=Object.assign;function o(f){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+f,_=1;_<arguments.length;_++)d+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),T=Symbol.iterator;function D(f){return f===null||typeof f!="object"?null:(f=T&&f[T]||f["@@iterator"],typeof f=="function"?f:null)}function O(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case h:return"StrictMode";case x:return"Suspense";case v:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case y:return(f.displayName||"Context")+".Consumer";case m:return(f._context.displayName||"Context")+".Provider";case g:var d=f.render;return f=f.displayName,f||(f=d.displayName||d.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case b:return d=f.displayName||null,d!==null?d:O(f.type)||"Memo";case w:d=f._payload,f=f._init;try{return O(f(d))}catch{}}return null}function C(f){var d=f.type;switch(f.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=d.render,f=f.displayName||f.name||"",d.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O(d);case 8:return d===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function B(f){var d=f,_=f;if(f.alternate)for(;d.return;)d=d.return;else{f=d;do d=f,d.flags&4098&&(_=d.return),f=d.return;while(f)}return d.tag===3?_:null}function G(f){if(B(f)!==f)throw Error(o(188))}function Y(f){var d=f.alternate;if(!d){if(d=B(f),d===null)throw Error(o(188));return d!==f?null:f}for(var _=f,E=d;;){var k=_.return;if(k===null)break;var U=k.alternate;if(U===null){if(E=k.return,E!==null){_=E;continue}break}if(k.child===U.child){for(U=k.child;U;){if(U===_)return G(k),f;if(U===E)return G(k),d;U=U.sibling}throw Error(o(188))}if(_.return!==E.return)_=k,E=U;else{for(var ie=!1,he=k.child;he;){if(he===_){ie=!0,_=k,E=U;break}if(he===E){ie=!0,E=k,_=U;break}he=he.sibling}if(!ie){for(he=U.child;he;){if(he===_){ie=!0,_=U,E=k;break}if(he===E){ie=!0,E=U,_=k;break}he=he.sibling}if(!ie)throw Error(o(189))}}if(_.alternate!==E)throw Error(o(190))}if(_.tag!==3)throw Error(o(188));return _.stateNode.current===_?f:d}function oe(f){return f=Y(f),f!==null?V(f):null}function V(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var d=V(f);if(d!==null)return d;f=f.sibling}return null}function S(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var d=S(f);if(d!==null)return d}f=f.sibling}return null}var L=Array.isArray,z=e.getPublicInstance,q=e.getRootHostContext,F=e.getChildHostContext,X=e.prepareForCommit,$=e.resetAfterCommit,P=e.createInstance,M=e.appendInitialChild,W=e.finalizeInitialChildren,Z=e.prepareUpdate,N=e.shouldSetTextContent,J=e.createTextInstance,ue=e.scheduleTimeout,ae=e.cancelTimeout,me=e.noTimeout,we=e.isPrimaryRenderer,Ce=e.supportsMutation,ce=e.supportsPersistence,ye=e.supportsHydration,ve=e.getInstanceFromNode,De=e.preparePortalMount,We=e.getCurrentEventPriority,$e=e.detachDeletedInstance,je=e.supportsMicrotasks,tt=e.scheduleMicrotask,lt=e.supportsTestSelectors,at=e.findFiberRoot,re=e.getBoundingRect,Q=e.getTextContent,xe=e.isHiddenSubtree,Oe=e.matchAccessibilityRole,Ne=e.setFocusIfFocusable,H=e.setupIntersectionObserver,R=e.appendChild,I=e.appendChildToContainer,j=e.commitTextUpdate,se=e.commitMount,K=e.commitUpdate,ne=e.insertBefore,Me=e.insertInContainerBefore,Pe=e.removeChild,Be=e.removeChildFromContainer,Ze=e.resetTextContent,Xe=e.hideInstance,le=e.hideTextInstance,Ae=e.unhideInstance,Ie=e.unhideTextInstance,ze=e.clearContainer,it=e.cloneInstance,ft=e.createContainerChildSet,xt=e.appendChildToContainerChildSet,pn=e.finalizeContainerChildren,Bt=e.replaceContainerChildren,pt=e.cloneHiddenInstance,sr=e.cloneHiddenTextInstance,Pt=e.canHydrateInstance,en=e.canHydrateTextInstance,Ys=e.canHydrateSuspenseInstance,tn=e.isSuspenseInstancePending,Qt=e.isSuspenseInstanceFallback,te=e.registerSuspenseInstanceRetry,de=e.getNextHydratableSibling,Se=e.getFirstHydratableChild,ge=e.getFirstHydratableChildWithinContainer,Ee=e.getFirstHydratableChildWithinSuspenseInstance,Ke=e.hydrateInstance,mt=e.hydrateTextInstance,nt=e.hydrateSuspenseInstance,st=e.getNextHydratableInstanceAfterSuspenseInstance,bt=e.commitHydratedContainer,yt=e.commitHydratedSuspenseInstance,vt=e.clearSuspenseBoundary,Zt=e.clearSuspenseBoundaryFromContainer,wn=e.shouldDeleteUnhydratedTailInstances,ci=e.didNotMatchHydratedContainerTextInstance,Xi=e.didNotMatchHydratedTextInstance,sn;function wt(f){if(sn===void 0)try{throw Error()}catch(_){var d=_.stack.trim().match(/\n( *(at )?)/);sn=d&&d[1]||""}return`
`+sn+f}var Js=!1;function mn(f,d){if(!f||Js)return"";Js=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(He){var E=He}Reflect.construct(f,[],d)}else{try{d.call()}catch(He){E=He}f.call(d.prototype)}else{try{throw Error()}catch(He){E=He}f()}}catch(He){if(He&&E&&typeof He.stack=="string"){for(var k=He.stack.split(`
`),U=E.stack.split(`
`),ie=k.length-1,he=U.length-1;1<=ie&&0<=he&&k[ie]!==U[he];)he--;for(;1<=ie&&0<=he;ie--,he--)if(k[ie]!==U[he]){if(ie!==1||he!==1)do if(ie--,he--,0>he||k[ie]!==U[he]){var Re=`
`+k[ie].replace(" at new "," at ");return f.displayName&&Re.includes("<anonymous>")&&(Re=Re.replace("<anonymous>",f.displayName)),Re}while(1<=ie&&0<=he);break}}}finally{Js=!1,Error.prepareStackTrace=_}return(f=f?f.displayName||f.name:"")?wt(f):""}var Ki=Object.prototype.hasOwnProperty,To=[],Vr=-1;function Hr(f){return{current:f}}function _t(f){0>Vr||(f.current=To[Vr],To[Vr]=null,Vr--)}function Dt(f,d){Vr++,To[Vr]=f.current,f.current=d}var Wr={},Wt=Hr(Wr),wr=Hr(!1),da=Wr;function pa(f,d){var _=f.type.contextTypes;if(!_)return Wr;var E=f.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===d)return E.__reactInternalMemoizedMaskedChildContext;var k={},U;for(U in _)k[U]=d[U];return E&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=d,f.__reactInternalMemoizedMaskedChildContext=k),k}function Ci(f){return f=f.childContextTypes,f!=null}function Im(){_t(wr),_t(Wt)}function _A(f,d,_){if(Wt.current!==Wr)throw Error(o(168));Dt(Wt,d),Dt(wr,_)}function bA(f,d,_){var E=f.stateNode;if(d=d.childContextTypes,typeof E.getChildContext!="function")return _;E=E.getChildContext();for(var k in E)if(!(k in d))throw Error(o(108,C(f)||"Unknown",k));return s({},_,E)}function km(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Wr,da=Wt.current,Dt(Wt,f),Dt(wr,wr.current),!0}function wA(f,d,_){var E=f.stateNode;if(!E)throw Error(o(169));_?(f=bA(f,d,da),E.__reactInternalMemoizedMergedChildContext=f,_t(wr),_t(Wt),Dt(Wt,f)):_t(wr),Dt(wr,_)}var Qs=Math.clz32?Math.clz32:tD,ZN=Math.log,eD=Math.LN2;function tD(f){return f>>>=0,f===0?32:31-(ZN(f)/eD|0)|0}var Lm=64,Nm=4194304;function gd(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function Dm(f,d){var _=f.pendingLanes;if(_===0)return 0;var E=0,k=f.suspendedLanes,U=f.pingedLanes,ie=_&268435455;if(ie!==0){var he=ie&~k;he!==0?E=gd(he):(U&=ie,U!==0&&(E=gd(U)))}else ie=_&~k,ie!==0?E=gd(ie):U!==0&&(E=gd(U));if(E===0)return 0;if(d!==0&&d!==E&&!(d&k)&&(k=E&-E,U=d&-d,k>=U||k===16&&(U&4194240)!==0))return d;if(E&4&&(E|=_&16),d=f.entangledLanes,d!==0)for(f=f.entanglements,d&=E;0<d;)_=31-Qs(d),k=1<<_,E|=f[_],d&=~k;return E}function nD(f,d){switch(f){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rD(f,d){for(var _=f.suspendedLanes,E=f.pingedLanes,k=f.expirationTimes,U=f.pendingLanes;0<U;){var ie=31-Qs(U),he=1<<ie,Re=k[ie];Re===-1?(!(he&_)||he&E)&&(k[ie]=nD(he,d)):Re<=d&&(f.expiredLanes|=he),U&=~he}}function Uv(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function Vv(f){for(var d=[],_=0;31>_;_++)d.push(f);return d}function xd(f,d,_){f.pendingLanes|=d,d!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,d=31-Qs(d),f[d]=_}function iD(f,d){var _=f.pendingLanes&~d;f.pendingLanes=d,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=d,f.mutableReadLanes&=d,f.entangledLanes&=d,d=f.entanglements;var E=f.eventTimes;for(f=f.expirationTimes;0<_;){var k=31-Qs(_),U=1<<k;d[k]=0,E[k]=-1,f[k]=-1,_&=~U}}function Hv(f,d){var _=f.entangledLanes|=d;for(f=f.entanglements;_;){var E=31-Qs(_),k=1<<E;k&d|f[E]&d&&(f[E]|=d),_&=~k}}var Kt=0;function SA(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var Wv=i.unstable_scheduleCallback,MA=i.unstable_cancelCallback,sD=i.unstable_shouldYield,oD=i.unstable_requestPaint,Sr=i.unstable_now,Gv=i.unstable_ImmediatePriority,aD=i.unstable_UserBlockingPriority,jv=i.unstable_NormalPriority,lD=i.unstable_IdlePriority,Om=null,Po=null;function cD(f){if(Po&&typeof Po.onCommitFiberRoot=="function")try{Po.onCommitFiberRoot(Om,f,void 0,(f.current.flags&128)===128)}catch{}}function uD(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var Ro=typeof Object.is=="function"?Object.is:uD,ma=null,Bm=!1,qv=!1;function EA(f){ma===null?ma=[f]:ma.push(f)}function fD(f){Bm=!0,EA(f)}function Io(){if(!qv&&ma!==null){qv=!0;var f=0,d=Kt;try{var _=ma;for(Kt=1;f<_.length;f++){var E=_[f];do E=E(!0);while(E!==null)}ma=null,Bm=!1}catch(k){throw ma!==null&&(ma=ma.slice(f+1)),Wv(Gv,Io),k}finally{Kt=d,qv=!1}}return null}var hD=a.ReactCurrentBatchConfig;function Fm(f,d){if(Ro(f,d))return!0;if(typeof f!="object"||f===null||typeof d!="object"||d===null)return!1;var _=Object.keys(f),E=Object.keys(d);if(_.length!==E.length)return!1;for(E=0;E<_.length;E++){var k=_[E];if(!Ki.call(d,k)||!Ro(f[k],d[k]))return!1}return!0}function dD(f){switch(f.tag){case 5:return wt(f.type);case 16:return wt("Lazy");case 13:return wt("Suspense");case 19:return wt("SuspenseList");case 0:case 2:case 15:return f=mn(f.type,!1),f;case 11:return f=mn(f.type.render,!1),f;case 1:return f=mn(f.type,!0),f;default:return""}}function Zs(f,d){if(f&&f.defaultProps){d=s({},d),f=f.defaultProps;for(var _ in f)d[_]===void 0&&(d[_]=f[_]);return d}return d}var zm=Hr(null),Um=null,Zu=null,Xv=null;function Kv(){Xv=Zu=Um=null}function AA(f,d,_){we?(Dt(zm,d._currentValue),d._currentValue=_):(Dt(zm,d._currentValue2),d._currentValue2=_)}function $v(f){var d=zm.current;_t(zm),we?f._currentValue=d:f._currentValue2=d}function Yv(f,d,_){for(;f!==null;){var E=f.alternate;if((f.childLanes&d)!==d?(f.childLanes|=d,E!==null&&(E.childLanes|=d)):E!==null&&(E.childLanes&d)!==d&&(E.childLanes|=d),f===_)break;f=f.return}}function ef(f,d){Um=f,Xv=Zu=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&d&&(Ji=!0),f.firstContext=null)}function vs(f){var d=we?f._currentValue:f._currentValue2;if(Xv!==f)if(f={context:f,memoizedValue:d,next:null},Zu===null){if(Um===null)throw Error(o(308));Zu=f,Um.dependencies={lanes:0,firstContext:f}}else Zu=Zu.next=f;return d}var ko=null,il=!1;function Jv(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CA(f,d){f=f.updateQueue,d.updateQueue===f&&(d.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function ga(f,d){return{eventTime:f,lane:d,tag:0,payload:null,callback:null,next:null}}function sl(f,d){var _=f.updateQueue;_!==null&&(_=_.shared,or!==null&&f.mode&1&&!(Nt&2)?(f=_.interleaved,f===null?(d.next=d,ko===null?ko=[_]:ko.push(_)):(d.next=f.next,f.next=d),_.interleaved=d):(f=_.pending,f===null?d.next=d:(d.next=f.next,f.next=d),_.pending=d))}function Vm(f,d,_){if(d=d.updateQueue,d!==null&&(d=d.shared,(_&4194240)!==0)){var E=d.lanes;E&=f.pendingLanes,_|=E,d.lanes=_,Hv(f,_)}}function TA(f,d){var _=f.updateQueue,E=f.alternate;if(E!==null&&(E=E.updateQueue,_===E)){var k=null,U=null;if(_=_.firstBaseUpdate,_!==null){do{var ie={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};U===null?k=U=ie:U=U.next=ie,_=_.next}while(_!==null);U===null?k=U=d:U=U.next=d}else k=U=d;_={baseState:E.baseState,firstBaseUpdate:k,lastBaseUpdate:U,shared:E.shared,effects:E.effects},f.updateQueue=_;return}f=_.lastBaseUpdate,f===null?_.firstBaseUpdate=d:f.next=d,_.lastBaseUpdate=d}function Hm(f,d,_,E){var k=f.updateQueue;il=!1;var U=k.firstBaseUpdate,ie=k.lastBaseUpdate,he=k.shared.pending;if(he!==null){k.shared.pending=null;var Re=he,He=Re.next;Re.next=null,ie===null?U=He:ie.next=He,ie=Re;var ot=f.alternate;ot!==null&&(ot=ot.updateQueue,he=ot.lastBaseUpdate,he!==ie&&(he===null?ot.firstBaseUpdate=He:he.next=He,ot.lastBaseUpdate=Re))}if(U!==null){var Mt=k.baseState;ie=0,ot=He=Re=null,he=U;do{var gt=he.lane,ln=he.eventTime;if((E&gt)===gt){ot!==null&&(ot=ot.next={eventTime:ln,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var dt=f,Xr=he;switch(gt=d,ln=_,Xr.tag){case 1:if(dt=Xr.payload,typeof dt=="function"){Mt=dt.call(ln,Mt,gt);break e}Mt=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=Xr.payload,gt=typeof dt=="function"?dt.call(ln,Mt,gt):dt,gt==null)break e;Mt=s({},Mt,gt);break e;case 2:il=!0}}he.callback!==null&&he.lane!==0&&(f.flags|=64,gt=k.effects,gt===null?k.effects=[he]:gt.push(he))}else ln={eventTime:ln,lane:gt,tag:he.tag,payload:he.payload,callback:he.callback,next:null},ot===null?(He=ot=ln,Re=Mt):ot=ot.next=ln,ie|=gt;if(he=he.next,he===null){if(he=k.shared.pending,he===null)break;gt=he,he=gt.next,gt.next=null,k.lastBaseUpdate=gt,k.shared.pending=null}}while(1);if(ot===null&&(Re=Mt),k.baseState=Re,k.firstBaseUpdate=He,k.lastBaseUpdate=ot,d=k.shared.interleaved,d!==null){k=d;do ie|=k.lane,k=k.next;while(k!==d)}else U===null&&(k.shared.lanes=0);uf|=ie,f.lanes=ie,f.memoizedState=Mt}}function PA(f,d,_){if(f=d.effects,d.effects=null,f!==null)for(d=0;d<f.length;d++){var E=f[d],k=E.callback;if(k!==null){if(E.callback=null,E=_,typeof k!="function")throw Error(o(191,k));k.call(E)}}}var RA=new r.Component().refs;function Qv(f,d,_,E){d=f.memoizedState,_=_(E,d),_=_==null?d:s({},d,_),f.memoizedState=_,f.lanes===0&&(f.updateQueue.baseState=_)}var Wm={isMounted:function(f){return(f=f._reactInternals)?B(f)===f:!1},enqueueSetState:function(f,d,_){f=f._reactInternals;var E=fi(),k=ll(f),U=ga(E,k);U.payload=d,_!=null&&(U.callback=_),sl(f,U),d=Ms(f,k,E),d!==null&&Vm(d,f,k)},enqueueReplaceState:function(f,d,_){f=f._reactInternals;var E=fi(),k=ll(f),U=ga(E,k);U.tag=1,U.payload=d,_!=null&&(U.callback=_),sl(f,U),d=Ms(f,k,E),d!==null&&Vm(d,f,k)},enqueueForceUpdate:function(f,d){f=f._reactInternals;var _=fi(),E=ll(f),k=ga(_,E);k.tag=2,d!=null&&(k.callback=d),sl(f,k),d=Ms(f,E,_),d!==null&&Vm(d,f,E)}};function IA(f,d,_,E,k,U,ie){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(E,U,ie):d.prototype&&d.prototype.isPureReactComponent?!Fm(_,E)||!Fm(k,U):!0}function kA(f,d,_){var E=!1,k=Wr,U=d.contextType;return typeof U=="object"&&U!==null?U=vs(U):(k=Ci(d)?da:Wt.current,E=d.contextTypes,U=(E=E!=null)?pa(f,k):Wr),d=new d(_,U),f.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Wm,f.stateNode=d,d._reactInternals=f,E&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=k,f.__reactInternalMemoizedMaskedChildContext=U),d}function LA(f,d,_,E){f=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(_,E),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(_,E),d.state!==f&&Wm.enqueueReplaceState(d,d.state,null)}function Zv(f,d,_,E){var k=f.stateNode;k.props=_,k.state=f.memoizedState,k.refs=RA,Jv(f);var U=d.contextType;typeof U=="object"&&U!==null?k.context=vs(U):(U=Ci(d)?da:Wt.current,k.context=pa(f,U)),k.state=f.memoizedState,U=d.getDerivedStateFromProps,typeof U=="function"&&(Qv(f,d,U,_),k.state=f.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(d=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),d!==k.state&&Wm.enqueueReplaceState(k,k.state,null),Hm(f,_,k,E),k.state=f.memoizedState),typeof k.componentDidMount=="function"&&(f.flags|=4194308)}var tf=[],nf=0,Gm=null,jm=0,_s=[],bs=0,_c=null,xa=1,ya="";function bc(f,d){tf[nf++]=jm,tf[nf++]=Gm,Gm=f,jm=d}function NA(f,d,_){_s[bs++]=xa,_s[bs++]=ya,_s[bs++]=_c,_c=f;var E=xa;f=ya;var k=32-Qs(E)-1;E&=~(1<<k),_+=1;var U=32-Qs(d)+k;if(30<U){var ie=k-k%5;U=(E&(1<<ie)-1).toString(32),E>>=ie,k-=ie,xa=1<<32-Qs(d)+k|_<<k|E,ya=U+f}else xa=1<<U|_<<k|E,ya=f}function e_(f){f.return!==null&&(bc(f,1),NA(f,1,0))}function t_(f){for(;f===Gm;)Gm=tf[--nf],tf[nf]=null,jm=tf[--nf],tf[nf]=null;for(;f===_c;)_c=_s[--bs],_s[bs]=null,ya=_s[--bs],_s[bs]=null,xa=_s[--bs],_s[bs]=null}var $i=null,Yi=null,Sn=!1,yd=!1,eo=null;function DA(f,d){var _=Es(5,null,null,0);_.elementType="DELETED",_.stateNode=d,_.return=f,d=f.deletions,d===null?(f.deletions=[_],f.flags|=16):d.push(_)}function OA(f,d){switch(f.tag){case 5:return d=Pt(d,f.type,f.pendingProps),d!==null?(f.stateNode=d,$i=f,Yi=Se(d),!0):!1;case 6:return d=en(d,f.pendingProps),d!==null?(f.stateNode=d,$i=f,Yi=null,!0):!1;case 13:if(d=Ys(d),d!==null){var _=_c!==null?{id:xa,overflow:ya}:null;return f.memoizedState={dehydrated:d,treeContext:_,retryLane:1073741824},_=Es(18,null,null,0),_.stateNode=d,_.return=f,f.child=_,$i=f,Yi=null,!0}return!1;default:return!1}}function n_(f){return(f.mode&1)!==0&&(f.flags&128)===0}function r_(f){if(Sn){var d=Yi;if(d){var _=d;if(!OA(f,d)){if(n_(f))throw Error(o(418));d=de(_);var E=$i;d&&OA(f,d)?DA(E,_):(f.flags=f.flags&-4097|2,Sn=!1,$i=f)}}else{if(n_(f))throw Error(o(418));f.flags=f.flags&-4097|2,Sn=!1,$i=f}}}function BA(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;$i=f}function vd(f){if(!ye||f!==$i)return!1;if(!Sn)return BA(f),Sn=!0,!1;if(f.tag!==3&&(f.tag!==5||wn(f.type)&&!N(f.type,f.memoizedProps))){var d=Yi;if(d){if(n_(f)){for(f=Yi;f;)f=de(f);throw Error(o(418))}for(;d;)DA(f,d),d=de(d)}}if(BA(f),f.tag===13){if(!ye)throw Error(o(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));Yi=st(f)}else Yi=$i?de(f.stateNode):null;return!0}function rf(){ye&&(Yi=$i=null,yd=Sn=!1)}function i_(f){eo===null?eo=[f]:eo.push(f)}function _d(f,d,_){if(f=_.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(o(309));var E=_.stateNode}if(!E)throw Error(o(147,f));var k=E,U=""+f;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===U?d.ref:(d=function(ie){var he=k.refs;he===RA&&(he=k.refs={}),ie===null?delete he[U]:he[U]=ie},d._stringRef=U,d)}if(typeof f!="string")throw Error(o(284));if(!_._owner)throw Error(o(290,f))}return f}function qm(f,d){throw f=Object.prototype.toString.call(d),Error(o(31,f==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":f))}function FA(f){var d=f._init;return d(f._payload)}function zA(f){function d(be,pe){if(f){var Te=be.deletions;Te===null?(be.deletions=[pe],be.flags|=16):Te.push(pe)}}function _(be,pe){if(!f)return null;for(;pe!==null;)d(be,pe),pe=pe.sibling;return null}function E(be,pe){for(be=new Map;pe!==null;)pe.key!==null?be.set(pe.key,pe):be.set(pe.index,pe),pe=pe.sibling;return be}function k(be,pe){return be=ul(be,pe),be.index=0,be.sibling=null,be}function U(be,pe,Te){return be.index=Te,f?(Te=be.alternate,Te!==null?(Te=Te.index,Te<pe?(be.flags|=2,pe):Te):(be.flags|=2,pe)):(be.flags|=1048576,pe)}function ie(be){return f&&be.alternate===null&&(be.flags|=2),be}function he(be,pe,Te,Qe){return pe===null||pe.tag!==6?(pe=V_(Te,be.mode,Qe),pe.return=be,pe):(pe=k(pe,Te),pe.return=be,pe)}function Re(be,pe,Te,Qe){var ht=Te.type;return ht===u?ot(be,pe,Te.props.children,Qe,Te.key):pe!==null&&(pe.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&FA(ht)===pe.type)?(Qe=k(pe,Te.props),Qe.ref=_d(be,pe,Te),Qe.return=be,Qe):(Qe=Sg(Te.type,Te.key,Te.props,null,be.mode,Qe),Qe.ref=_d(be,pe,Te),Qe.return=be,Qe)}function He(be,pe,Te,Qe){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==Te.containerInfo||pe.stateNode.implementation!==Te.implementation?(pe=H_(Te,be.mode,Qe),pe.return=be,pe):(pe=k(pe,Te.children||[]),pe.return=be,pe)}function ot(be,pe,Te,Qe,ht){return pe===null||pe.tag!==7?(pe=Tc(Te,be.mode,Qe,ht),pe.return=be,pe):(pe=k(pe,Te),pe.return=be,pe)}function Mt(be,pe,Te){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return pe=V_(""+pe,be.mode,Te),pe.return=be,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case l:return Te=Sg(pe.type,pe.key,pe.props,null,be.mode,Te),Te.ref=_d(be,null,pe),Te.return=be,Te;case c:return pe=H_(pe,be.mode,Te),pe.return=be,pe;case w:var Qe=pe._init;return Mt(be,Qe(pe._payload),Te)}if(L(pe)||D(pe))return pe=Tc(pe,be.mode,Te,null),pe.return=be,pe;qm(be,pe)}return null}function gt(be,pe,Te,Qe){var ht=pe!==null?pe.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number")return ht!==null?null:he(be,pe,""+Te,Qe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case l:return Te.key===ht?Re(be,pe,Te,Qe):null;case c:return Te.key===ht?He(be,pe,Te,Qe):null;case w:return ht=Te._init,gt(be,pe,ht(Te._payload),Qe)}if(L(Te)||D(Te))return ht!==null?null:ot(be,pe,Te,Qe,null);qm(be,Te)}return null}function ln(be,pe,Te,Qe,ht){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return be=be.get(Te)||null,he(pe,be,""+Qe,ht);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case l:return be=be.get(Qe.key===null?Te:Qe.key)||null,Re(pe,be,Qe,ht);case c:return be=be.get(Qe.key===null?Te:Qe.key)||null,He(pe,be,Qe,ht);case w:var Rt=Qe._init;return ln(be,pe,Te,Rt(Qe._payload),ht)}if(L(Qe)||D(Qe))return be=be.get(Te)||null,ot(pe,be,Qe,ht,null);qm(pe,Qe)}return null}function dt(be,pe,Te,Qe){for(var ht=null,Rt=null,Et=pe,$t=pe=0,Er=null;Et!==null&&$t<Te.length;$t++){Et.index>$t?(Er=Et,Et=null):Er=Et.sibling;var Yt=gt(be,Et,Te[$t],Qe);if(Yt===null){Et===null&&(Et=Er);break}f&&Et&&Yt.alternate===null&&d(be,Et),pe=U(Yt,pe,$t),Rt===null?ht=Yt:Rt.sibling=Yt,Rt=Yt,Et=Er}if($t===Te.length)return _(be,Et),Sn&&bc(be,$t),ht;if(Et===null){for(;$t<Te.length;$t++)Et=Mt(be,Te[$t],Qe),Et!==null&&(pe=U(Et,pe,$t),Rt===null?ht=Et:Rt.sibling=Et,Rt=Et);return Sn&&bc(be,$t),ht}for(Et=E(be,Et);$t<Te.length;$t++)Er=ln(Et,be,$t,Te[$t],Qe),Er!==null&&(f&&Er.alternate!==null&&Et.delete(Er.key===null?$t:Er.key),pe=U(Er,pe,$t),Rt===null?ht=Er:Rt.sibling=Er,Rt=Er);return f&&Et.forEach(function(fl){return d(be,fl)}),Sn&&bc(be,$t),ht}function Xr(be,pe,Te,Qe){var ht=D(Te);if(typeof ht!="function")throw Error(o(150));if(Te=ht.call(Te),Te==null)throw Error(o(151));for(var Rt=ht=null,Et=pe,$t=pe=0,Er=null,Yt=Te.next();Et!==null&&!Yt.done;$t++,Yt=Te.next()){Et.index>$t?(Er=Et,Et=null):Er=Et.sibling;var fl=gt(be,Et,Yt.value,Qe);if(fl===null){Et===null&&(Et=Er);break}f&&Et&&fl.alternate===null&&d(be,Et),pe=U(fl,pe,$t),Rt===null?ht=fl:Rt.sibling=fl,Rt=fl,Et=Er}if(Yt.done)return _(be,Et),Sn&&bc(be,$t),ht;if(Et===null){for(;!Yt.done;$t++,Yt=Te.next())Yt=Mt(be,Yt.value,Qe),Yt!==null&&(pe=U(Yt,pe,$t),Rt===null?ht=Yt:Rt.sibling=Yt,Rt=Yt);return Sn&&bc(be,$t),ht}for(Et=E(be,Et);!Yt.done;$t++,Yt=Te.next())Yt=ln(Et,be,$t,Yt.value,Qe),Yt!==null&&(f&&Yt.alternate!==null&&Et.delete(Yt.key===null?$t:Yt.key),pe=U(Yt,pe,$t),Rt===null?ht=Yt:Rt.sibling=Yt,Rt=Yt);return f&&Et.forEach(function(WD){return d(be,WD)}),Sn&&bc(be,$t),ht}function As(be,pe,Te,Qe){if(typeof Te=="object"&&Te!==null&&Te.type===u&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case l:e:{for(var ht=Te.key,Rt=pe;Rt!==null;){if(Rt.key===ht){if(ht=Te.type,ht===u){if(Rt.tag===7){_(be,Rt.sibling),pe=k(Rt,Te.props.children),pe.return=be,be=pe;break e}}else if(Rt.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&FA(ht)===Rt.type){_(be,Rt.sibling),pe=k(Rt,Te.props),pe.ref=_d(be,Rt,Te),pe.return=be,be=pe;break e}_(be,Rt);break}else d(be,Rt);Rt=Rt.sibling}Te.type===u?(pe=Tc(Te.props.children,be.mode,Qe,Te.key),pe.return=be,be=pe):(Qe=Sg(Te.type,Te.key,Te.props,null,be.mode,Qe),Qe.ref=_d(be,pe,Te),Qe.return=be,be=Qe)}return ie(be);case c:e:{for(Rt=Te.key;pe!==null;){if(pe.key===Rt)if(pe.tag===4&&pe.stateNode.containerInfo===Te.containerInfo&&pe.stateNode.implementation===Te.implementation){_(be,pe.sibling),pe=k(pe,Te.children||[]),pe.return=be,be=pe;break e}else{_(be,pe);break}else d(be,pe);pe=pe.sibling}pe=H_(Te,be.mode,Qe),pe.return=be,be=pe}return ie(be);case w:return Rt=Te._init,As(be,pe,Rt(Te._payload),Qe)}if(L(Te))return dt(be,pe,Te,Qe);if(D(Te))return Xr(be,pe,Te,Qe);qm(be,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"?(Te=""+Te,pe!==null&&pe.tag===6?(_(be,pe.sibling),pe=k(pe,Te),pe.return=be,be=pe):(_(be,pe),pe=V_(Te,be.mode,Qe),pe.return=be,be=pe),ie(be)):_(be,pe)}return As}var sf=zA(!0),UA=zA(!1),bd={},ws=Hr(bd),wd=Hr(bd),of=Hr(bd);function Lo(f){if(f===bd)throw Error(o(174));return f}function s_(f,d){Dt(of,d),Dt(wd,f),Dt(ws,bd),f=q(d),_t(ws),Dt(ws,f)}function af(){_t(ws),_t(wd),_t(of)}function VA(f){var d=Lo(of.current),_=Lo(ws.current);d=F(_,f.type,d),_!==d&&(Dt(wd,f),Dt(ws,d))}function o_(f){wd.current===f&&(_t(ws),_t(wd))}var Cn=Hr(0);function Xm(f){for(var d=f;d!==null;){if(d.tag===13){var _=d.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||tn(_)||Qt(_)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var a_=[];function l_(){for(var f=0;f<a_.length;f++){var d=a_[f];we?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}a_.length=0}var Km=a.ReactCurrentDispatcher,Ss=a.ReactCurrentBatchConfig,lf=0,Bn=null,Gr=null,Mr=null,$m=!1,Sd=!1,Md=0,pD=0;function jr(){throw Error(o(321))}function c_(f,d){if(d===null)return!1;for(var _=0;_<d.length&&_<f.length;_++)if(!Ro(f[_],d[_]))return!1;return!0}function u_(f,d,_,E,k,U){if(lf=U,Bn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Km.current=f===null||f.memoizedState===null?yD:vD,f=_(E,k),Sd){U=0;do{if(Sd=!1,Md=0,25<=U)throw Error(o(301));U+=1,Mr=Gr=null,d.updateQueue=null,Km.current=_D,f=_(E,k)}while(Sd)}if(Km.current=eg,d=Gr!==null&&Gr.next!==null,lf=0,Mr=Gr=Bn=null,$m=!1,d)throw Error(o(300));return f}function f_(){var f=Md!==0;return Md=0,f}function va(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mr===null?Bn.memoizedState=Mr=f:Mr=Mr.next=f,Mr}function No(){if(Gr===null){var f=Bn.alternate;f=f!==null?f.memoizedState:null}else f=Gr.next;var d=Mr===null?Bn.memoizedState:Mr.next;if(d!==null)Mr=d,Gr=f;else{if(f===null)throw Error(o(310));Gr=f,f={memoizedState:Gr.memoizedState,baseState:Gr.baseState,baseQueue:Gr.baseQueue,queue:Gr.queue,next:null},Mr===null?Bn.memoizedState=Mr=f:Mr=Mr.next=f}return Mr}function wc(f,d){return typeof d=="function"?d(f):d}function Ym(f){var d=No(),_=d.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=f;var E=Gr,k=E.baseQueue,U=_.pending;if(U!==null){if(k!==null){var ie=k.next;k.next=U.next,U.next=ie}E.baseQueue=k=U,_.pending=null}if(k!==null){U=k.next,E=E.baseState;var he=ie=null,Re=null,He=U;do{var ot=He.lane;if((lf&ot)===ot)Re!==null&&(Re=Re.next={lane:0,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),E=He.hasEagerState?He.eagerState:f(E,He.action);else{var Mt={lane:ot,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null};Re===null?(he=Re=Mt,ie=E):Re=Re.next=Mt,Bn.lanes|=ot,uf|=ot}He=He.next}while(He!==null&&He!==U);Re===null?ie=E:Re.next=he,Ro(E,d.memoizedState)||(Ji=!0),d.memoizedState=E,d.baseState=ie,d.baseQueue=Re,_.lastRenderedState=E}if(f=_.interleaved,f!==null){k=f;do U=k.lane,Bn.lanes|=U,uf|=U,k=k.next;while(k!==f)}else k===null&&(_.lanes=0);return[d.memoizedState,_.dispatch]}function Jm(f){var d=No(),_=d.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=f;var E=_.dispatch,k=_.pending,U=d.memoizedState;if(k!==null){_.pending=null;var ie=k=k.next;do U=f(U,ie.action),ie=ie.next;while(ie!==k);Ro(U,d.memoizedState)||(Ji=!0),d.memoizedState=U,d.baseQueue===null&&(d.baseState=U),_.lastRenderedState=U}return[U,E]}function HA(){}function WA(f,d){var _=Bn,E=No(),k=d(),U=!Ro(E.memoizedState,k);if(U&&(E.memoizedState=k,Ji=!0),E=E.queue,Ad(qA.bind(null,_,E,f),[f]),E.getSnapshot!==d||U||Mr!==null&&Mr.memoizedState.tag&1){if(_.flags|=2048,Ed(9,jA.bind(null,_,E,k,d),void 0,null),or===null)throw Error(o(349));lf&30||GA(_,d,k)}return k}function GA(f,d,_){f.flags|=16384,f={getSnapshot:d,value:_},d=Bn.updateQueue,d===null?(d={lastEffect:null,stores:null},Bn.updateQueue=d,d.stores=[f]):(_=d.stores,_===null?d.stores=[f]:_.push(f))}function jA(f,d,_,E){d.value=_,d.getSnapshot=E,XA(d)&&Ms(f,1,-1)}function qA(f,d,_){return _(function(){XA(d)&&Ms(f,1,-1)})}function XA(f){var d=f.getSnapshot;f=f.value;try{var _=d();return!Ro(f,_)}catch{return!0}}function h_(f){var d=va();return typeof f=="function"&&(f=f()),d.memoizedState=d.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wc,lastRenderedState:f},d.queue=f,f=f.dispatch=xD.bind(null,Bn,f),[d.memoizedState,f]}function Ed(f,d,_,E){return f={tag:f,create:d,destroy:_,deps:E,next:null},d=Bn.updateQueue,d===null?(d={lastEffect:null,stores:null},Bn.updateQueue=d,d.lastEffect=f.next=f):(_=d.lastEffect,_===null?d.lastEffect=f.next=f:(E=_.next,_.next=f,f.next=E,d.lastEffect=f)),f}function KA(){return No().memoizedState}function Qm(f,d,_,E){var k=va();Bn.flags|=f,k.memoizedState=Ed(1|d,_,void 0,E===void 0?null:E)}function Zm(f,d,_,E){var k=No();E=E===void 0?null:E;var U=void 0;if(Gr!==null){var ie=Gr.memoizedState;if(U=ie.destroy,E!==null&&c_(E,ie.deps)){k.memoizedState=Ed(d,_,U,E);return}}Bn.flags|=f,k.memoizedState=Ed(1|d,_,U,E)}function d_(f,d){return Qm(8390656,8,f,d)}function Ad(f,d){return Zm(2048,8,f,d)}function $A(f,d){return Zm(4,2,f,d)}function YA(f,d){return Zm(4,4,f,d)}function JA(f,d){if(typeof d=="function")return f=f(),d(f),function(){d(null)};if(d!=null)return f=f(),d.current=f,function(){d.current=null}}function QA(f,d,_){return _=_!=null?_.concat([f]):null,Zm(4,4,JA.bind(null,d,f),_)}function p_(){}function ZA(f,d){var _=No();d=d===void 0?null:d;var E=_.memoizedState;return E!==null&&d!==null&&c_(d,E[1])?E[0]:(_.memoizedState=[f,d],f)}function e4(f,d){var _=No();d=d===void 0?null:d;var E=_.memoizedState;return E!==null&&d!==null&&c_(d,E[1])?E[0]:(f=f(),_.memoizedState=[f,d],f)}function mD(f,d){var _=Kt;Kt=_!==0&&4>_?_:4,f(!0);var E=Ss.transition;Ss.transition={};try{f(!1),d()}finally{Kt=_,Ss.transition=E}}function t4(){return No().memoizedState}function gD(f,d,_){var E=ll(f);_={lane:E,action:_,hasEagerState:!1,eagerState:null,next:null},n4(f)?r4(d,_):(i4(f,d,_),_=fi(),f=Ms(f,E,_),f!==null&&s4(f,d,E))}function xD(f,d,_){var E=ll(f),k={lane:E,action:_,hasEagerState:!1,eagerState:null,next:null};if(n4(f))r4(d,k);else{i4(f,d,k);var U=f.alternate;if(f.lanes===0&&(U===null||U.lanes===0)&&(U=d.lastRenderedReducer,U!==null))try{var ie=d.lastRenderedState,he=U(ie,_);if(k.hasEagerState=!0,k.eagerState=he,Ro(he,ie))return}catch{}finally{}_=fi(),f=Ms(f,E,_),f!==null&&s4(f,d,E)}}function n4(f){var d=f.alternate;return f===Bn||d!==null&&d===Bn}function r4(f,d){Sd=$m=!0;var _=f.pending;_===null?d.next=d:(d.next=_.next,_.next=d),f.pending=d}function i4(f,d,_){or!==null&&f.mode&1&&!(Nt&2)?(f=d.interleaved,f===null?(_.next=_,ko===null?ko=[d]:ko.push(d)):(_.next=f.next,f.next=_),d.interleaved=_):(f=d.pending,f===null?_.next=_:(_.next=f.next,f.next=_),d.pending=_)}function s4(f,d,_){if(_&4194240){var E=d.lanes;E&=f.pendingLanes,_|=E,d.lanes=_,Hv(f,_)}}var eg={readContext:vs,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useInsertionEffect:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useSyncExternalStore:jr,useId:jr,unstable_isNewReconciler:!1},yD={readContext:vs,useCallback:function(f,d){return va().memoizedState=[f,d===void 0?null:d],f},useContext:vs,useEffect:d_,useImperativeHandle:function(f,d,_){return _=_!=null?_.concat([f]):null,Qm(4194308,4,JA.bind(null,d,f),_)},useLayoutEffect:function(f,d){return Qm(4194308,4,f,d)},useInsertionEffect:function(f,d){return Qm(4,2,f,d)},useMemo:function(f,d){var _=va();return d=d===void 0?null:d,f=f(),_.memoizedState=[f,d],f},useReducer:function(f,d,_){var E=va();return d=_!==void 0?_(d):d,E.memoizedState=E.baseState=d,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:d},E.queue=f,f=f.dispatch=gD.bind(null,Bn,f),[E.memoizedState,f]},useRef:function(f){var d=va();return f={current:f},d.memoizedState=f},useState:h_,useDebugValue:p_,useDeferredValue:function(f){var d=h_(f),_=d[0],E=d[1];return d_(function(){var k=Ss.transition;Ss.transition={};try{E(f)}finally{Ss.transition=k}},[f]),_},useTransition:function(){var f=h_(!1),d=f[0];return f=mD.bind(null,f[1]),va().memoizedState=f,[d,f]},useMutableSource:function(){},useSyncExternalStore:function(f,d,_){var E=Bn,k=va();if(Sn){if(_===void 0)throw Error(o(407));_=_()}else{if(_=d(),or===null)throw Error(o(349));lf&30||GA(E,d,_)}k.memoizedState=_;var U={value:_,getSnapshot:d};return k.queue=U,d_(qA.bind(null,E,U,f),[f]),E.flags|=2048,Ed(9,jA.bind(null,E,U,_,d),void 0,null),_},useId:function(){var f=va(),d=or.identifierPrefix;if(Sn){var _=ya,E=xa;_=(E&~(1<<32-Qs(E)-1)).toString(32)+_,d=":"+d+"R"+_,_=Md++,0<_&&(d+="H"+_.toString(32)),d+=":"}else _=pD++,d=":"+d+"r"+_.toString(32)+":";return f.memoizedState=d},unstable_isNewReconciler:!1},vD={readContext:vs,useCallback:ZA,useContext:vs,useEffect:Ad,useImperativeHandle:QA,useInsertionEffect:$A,useLayoutEffect:YA,useMemo:e4,useReducer:Ym,useRef:KA,useState:function(){return Ym(wc)},useDebugValue:p_,useDeferredValue:function(f){var d=Ym(wc),_=d[0],E=d[1];return Ad(function(){var k=Ss.transition;Ss.transition={};try{E(f)}finally{Ss.transition=k}},[f]),_},useTransition:function(){var f=Ym(wc)[0],d=No().memoizedState;return[f,d]},useMutableSource:HA,useSyncExternalStore:WA,useId:t4,unstable_isNewReconciler:!1},_D={readContext:vs,useCallback:ZA,useContext:vs,useEffect:Ad,useImperativeHandle:QA,useInsertionEffect:$A,useLayoutEffect:YA,useMemo:e4,useReducer:Jm,useRef:KA,useState:function(){return Jm(wc)},useDebugValue:p_,useDeferredValue:function(f){var d=Jm(wc),_=d[0],E=d[1];return Ad(function(){var k=Ss.transition;Ss.transition={};try{E(f)}finally{Ss.transition=k}},[f]),_},useTransition:function(){var f=Jm(wc)[0],d=No().memoizedState;return[f,d]},useMutableSource:HA,useSyncExternalStore:WA,useId:t4,unstable_isNewReconciler:!1};function m_(f,d){try{var _="",E=d;do _+=dD(E),E=E.return;while(E);var k=_}catch(U){k=`
Error generating stack: `+U.message+`
`+U.stack}return{value:f,source:d,stack:k}}function g_(f,d){try{console.error(d.value)}catch(_){setTimeout(function(){throw _})}}var bD=typeof WeakMap=="function"?WeakMap:Map;function o4(f,d,_){_=ga(-1,_),_.tag=3,_.payload={element:null};var E=d.value;return _.callback=function(){gg||(gg=!0,N_=E),g_(f,d)},_}function a4(f,d,_){_=ga(-1,_),_.tag=3;var E=f.type.getDerivedStateFromError;if(typeof E=="function"){var k=d.value;_.payload=function(){return E(k)},_.callback=function(){g_(f,d)}}var U=f.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(_.callback=function(){g_(f,d),typeof E!="function"&&(ol===null?ol=new Set([this]):ol.add(this));var ie=d.stack;this.componentDidCatch(d.value,{componentStack:ie!==null?ie:""})}),_}function l4(f,d,_){var E=f.pingCache;if(E===null){E=f.pingCache=new bD;var k=new Set;E.set(d,k)}else k=E.get(d),k===void 0&&(k=new Set,E.set(d,k));k.has(_)||(k.add(_),f=DD.bind(null,f,d,_),d.then(f,f))}function c4(f){do{var d;if((d=f.tag===13)&&(d=f.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return f;f=f.return}while(f!==null);return null}function u4(f,d,_,E,k){return f.mode&1?(f.flags|=65536,f.lanes=k,f):(f===d?f.flags|=65536:(f.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(d=ga(-1,1),d.tag=2,sl(_,d))),_.lanes|=1),f)}function Do(f){f.flags|=4}function f4(f,d){if(f!==null&&f.child===d.child)return!0;if(d.flags&16)return!1;for(f=d.child;f!==null;){if(f.flags&12854||f.subtreeFlags&12854)return!1;f=f.sibling}return!0}var Cd,Td,tg,ng;if(Ce)Cd=function(f,d){for(var _=d.child;_!==null;){if(_.tag===5||_.tag===6)M(f,_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===d)break;for(;_.sibling===null;){if(_.return===null||_.return===d)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},Td=function(){},tg=function(f,d,_,E,k){if(f=f.memoizedProps,f!==E){var U=d.stateNode,ie=Lo(ws.current);_=Z(U,_,f,E,k,ie),(d.updateQueue=_)&&Do(d)}},ng=function(f,d,_,E){_!==E&&Do(d)};else if(ce){Cd=function(f,d,_,E){for(var k=d.child;k!==null;){if(k.tag===5){var U=k.stateNode;_&&E&&(U=pt(U,k.type,k.memoizedProps,k)),M(f,U)}else if(k.tag===6)U=k.stateNode,_&&E&&(U=sr(U,k.memoizedProps,k)),M(f,U);else if(k.tag!==4){if(k.tag===22&&k.memoizedState!==null)U=k.child,U!==null&&(U.return=k),Cd(f,k,!0,!0);else if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===d)break;for(;k.sibling===null;){if(k.return===null||k.return===d)return;k=k.return}k.sibling.return=k.return,k=k.sibling}};var h4=function(f,d,_,E){for(var k=d.child;k!==null;){if(k.tag===5){var U=k.stateNode;_&&E&&(U=pt(U,k.type,k.memoizedProps,k)),xt(f,U)}else if(k.tag===6)U=k.stateNode,_&&E&&(U=sr(U,k.memoizedProps,k)),xt(f,U);else if(k.tag!==4){if(k.tag===22&&k.memoizedState!==null)U=k.child,U!==null&&(U.return=k),h4(f,k,!0,!0);else if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===d)break;for(;k.sibling===null;){if(k.return===null||k.return===d)return;k=k.return}k.sibling.return=k.return,k=k.sibling}};Td=function(f,d){var _=d.stateNode;if(!f4(f,d)){f=_.containerInfo;var E=ft(f);h4(E,d,!1,!1),_.pendingChildren=E,Do(d),pn(f,E)}},tg=function(f,d,_,E,k){var U=f.stateNode,ie=f.memoizedProps;if((f=f4(f,d))&&ie===E)d.stateNode=U;else{var he=d.stateNode,Re=Lo(ws.current),He=null;ie!==E&&(He=Z(he,_,ie,E,k,Re)),f&&He===null?d.stateNode=U:(U=it(U,He,_,ie,E,d,f,he),W(U,_,E,k,Re)&&Do(d),d.stateNode=U,f?Do(d):Cd(U,d,!1,!1))}},ng=function(f,d,_,E){_!==E?(f=Lo(of.current),_=Lo(ws.current),d.stateNode=J(E,f,_,d),Do(d)):d.stateNode=f.stateNode}}else Td=function(){},tg=function(){},ng=function(){};function Pd(f,d){if(!Sn)switch(f.tailMode){case"hidden":d=f.tail;for(var _=null;d!==null;)d.alternate!==null&&(_=d),d=d.sibling;_===null?f.tail=null:_.sibling=null;break;case"collapsed":_=f.tail;for(var E=null;_!==null;)_.alternate!==null&&(E=_),_=_.sibling;E===null?d||f.tail===null?f.tail=null:f.tail.sibling=null:E.sibling=null}}function qr(f){var d=f.alternate!==null&&f.alternate.child===f.child,_=0,E=0;if(d)for(var k=f.child;k!==null;)_|=k.lanes|k.childLanes,E|=k.subtreeFlags&14680064,E|=k.flags&14680064,k.return=f,k=k.sibling;else for(k=f.child;k!==null;)_|=k.lanes|k.childLanes,E|=k.subtreeFlags,E|=k.flags,k.return=f,k=k.sibling;return f.subtreeFlags|=E,f.childLanes=_,d}function wD(f,d,_){var E=d.pendingProps;switch(t_(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qr(d),null;case 1:return Ci(d.type)&&Im(),qr(d),null;case 3:return E=d.stateNode,af(),_t(wr),_t(Wt),l_(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(f===null||f.child===null)&&(vd(d)?Do(d):f===null||f.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,eo!==null&&(B_(eo),eo=null))),Td(f,d),qr(d),null;case 5:o_(d),_=Lo(of.current);var k=d.type;if(f!==null&&d.stateNode!=null)tg(f,d,k,E,_),f.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!E){if(d.stateNode===null)throw Error(o(166));return qr(d),null}if(f=Lo(ws.current),vd(d)){if(!ye)throw Error(o(175));f=Ke(d.stateNode,d.type,d.memoizedProps,_,f,d,!yd),d.updateQueue=f,f!==null&&Do(d)}else{var U=P(k,E,_,f,d);Cd(U,d,!1,!1),d.stateNode=U,W(U,k,E,_,f)&&Do(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return qr(d),null;case 6:if(f&&d.stateNode!=null)ng(f,d,f.memoizedProps,E);else{if(typeof E!="string"&&d.stateNode===null)throw Error(o(166));if(f=Lo(of.current),_=Lo(ws.current),vd(d)){if(!ye)throw Error(o(176));if(f=d.stateNode,E=d.memoizedProps,(_=mt(f,E,d,!yd))&&(k=$i,k!==null))switch(U=(k.mode&1)!==0,k.tag){case 3:ci(k.stateNode.containerInfo,f,E,U);break;case 5:Xi(k.type,k.memoizedProps,k.stateNode,f,E,U)}_&&Do(d)}else d.stateNode=J(E,f,_,d)}return qr(d),null;case 13:if(_t(Cn),E=d.memoizedState,Sn&&Yi!==null&&d.mode&1&&!(d.flags&128)){for(f=Yi;f;)f=de(f);return rf(),d.flags|=98560,d}if(E!==null&&E.dehydrated!==null){if(E=vd(d),f===null){if(!E)throw Error(o(318));if(!ye)throw Error(o(344));if(f=d.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));nt(f,d)}else rf(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;return qr(d),null}return eo!==null&&(B_(eo),eo=null),d.flags&128?(d.lanes=_,d):(E=E!==null,_=!1,f===null?vd(d):_=f.memoizedState!==null,E&&!_&&(d.child.flags|=8192,d.mode&1&&(f===null||Cn.current&1?dr===0&&(dr=3):z_())),d.updateQueue!==null&&(d.flags|=4),qr(d),null);case 4:return af(),Td(f,d),f===null&&De(d.stateNode.containerInfo),qr(d),null;case 10:return $v(d.type._context),qr(d),null;case 17:return Ci(d.type)&&Im(),qr(d),null;case 19:if(_t(Cn),k=d.memoizedState,k===null)return qr(d),null;if(E=(d.flags&128)!==0,U=k.rendering,U===null)if(E)Pd(k,!1);else{if(dr!==0||f!==null&&f.flags&128)for(f=d.child;f!==null;){if(U=Xm(f),U!==null){for(d.flags|=128,Pd(k,!1),f=U.updateQueue,f!==null&&(d.updateQueue=f,d.flags|=4),d.subtreeFlags=0,f=_,E=d.child;E!==null;)_=E,k=f,_.flags&=14680066,U=_.alternate,U===null?(_.childLanes=0,_.lanes=k,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=U.childLanes,_.lanes=U.lanes,_.child=U.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=U.memoizedProps,_.memoizedState=U.memoizedState,_.updateQueue=U.updateQueue,_.type=U.type,k=U.dependencies,_.dependencies=k===null?null:{lanes:k.lanes,firstContext:k.firstContext}),E=E.sibling;return Dt(Cn,Cn.current&1|2),d.child}f=f.sibling}k.tail!==null&&Sr()>L_&&(d.flags|=128,E=!0,Pd(k,!1),d.lanes=4194304)}else{if(!E)if(f=Xm(U),f!==null){if(d.flags|=128,E=!0,f=f.updateQueue,f!==null&&(d.updateQueue=f,d.flags|=4),Pd(k,!0),k.tail===null&&k.tailMode==="hidden"&&!U.alternate&&!Sn)return qr(d),null}else 2*Sr()-k.renderingStartTime>L_&&_!==1073741824&&(d.flags|=128,E=!0,Pd(k,!1),d.lanes=4194304);k.isBackwards?(U.sibling=d.child,d.child=U):(f=k.last,f!==null?f.sibling=U:d.child=U,k.last=U)}return k.tail!==null?(d=k.tail,k.rendering=d,k.tail=d.sibling,k.renderingStartTime=Sr(),d.sibling=null,f=Cn.current,Dt(Cn,E?f&1|2:f&1),d):(qr(d),null);case 22:case 23:return F_(),E=d.memoizedState!==null,f!==null&&f.memoizedState!==null!==E&&(d.flags|=8192),E&&d.mode&1?Qi&1073741824&&(qr(d),Ce&&d.subtreeFlags&6&&(d.flags|=8192)):qr(d),null;case 24:return null;case 25:return null}throw Error(o(156,d.tag))}var SD=a.ReactCurrentOwner,Ji=!1;function ui(f,d,_,E){d.child=f===null?UA(d,null,_,E):sf(d,f.child,_,E)}function d4(f,d,_,E,k){_=_.render;var U=d.ref;return ef(d,k),E=u_(f,d,_,E,U,k),_=f_(),f!==null&&!Ji?(d.updateQueue=f.updateQueue,d.flags&=-2053,f.lanes&=~k,_a(f,d,k)):(Sn&&_&&e_(d),d.flags|=1,ui(f,d,E,k),d.child)}function p4(f,d,_,E,k){if(f===null){var U=_.type;return typeof U=="function"&&!U_(U)&&U.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(d.tag=15,d.type=U,m4(f,d,U,E,k)):(f=Sg(_.type,null,E,d,d.mode,k),f.ref=d.ref,f.return=d,d.child=f)}if(U=f.child,!(f.lanes&k)){var ie=U.memoizedProps;if(_=_.compare,_=_!==null?_:Fm,_(ie,E)&&f.ref===d.ref)return _a(f,d,k)}return d.flags|=1,f=ul(U,E),f.ref=d.ref,f.return=d,d.child=f}function m4(f,d,_,E,k){if(f!==null&&Fm(f.memoizedProps,E)&&f.ref===d.ref)if(Ji=!1,(f.lanes&k)!==0)f.flags&131072&&(Ji=!0);else return d.lanes=f.lanes,_a(f,d,k);return x_(f,d,_,E,k)}function g4(f,d,_){var E=d.pendingProps,k=E.children,U=f!==null?f.memoizedState:null;if(E.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null},Dt(cf,Qi),Qi|=_;else if(_&1073741824)d.memoizedState={baseLanes:0,cachePool:null},E=U!==null?U.baseLanes:_,Dt(cf,Qi),Qi|=E;else return f=U!==null?U.baseLanes|_:_,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:f,cachePool:null},d.updateQueue=null,Dt(cf,Qi),Qi|=f,null;else U!==null?(E=U.baseLanes|_,d.memoizedState=null):E=_,Dt(cf,Qi),Qi|=E;return ui(f,d,k,_),d.child}function x4(f,d){var _=d.ref;(f===null&&_!==null||f!==null&&f.ref!==_)&&(d.flags|=512,d.flags|=2097152)}function x_(f,d,_,E,k){var U=Ci(_)?da:Wt.current;return U=pa(d,U),ef(d,k),_=u_(f,d,_,E,U,k),E=f_(),f!==null&&!Ji?(d.updateQueue=f.updateQueue,d.flags&=-2053,f.lanes&=~k,_a(f,d,k)):(Sn&&E&&e_(d),d.flags|=1,ui(f,d,_,k),d.child)}function y4(f,d,_,E,k){if(Ci(_)){var U=!0;km(d)}else U=!1;if(ef(d,k),d.stateNode===null)f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),kA(d,_,E),Zv(d,_,E,k),E=!0;else if(f===null){var ie=d.stateNode,he=d.memoizedProps;ie.props=he;var Re=ie.context,He=_.contextType;typeof He=="object"&&He!==null?He=vs(He):(He=Ci(_)?da:Wt.current,He=pa(d,He));var ot=_.getDerivedStateFromProps,Mt=typeof ot=="function"||typeof ie.getSnapshotBeforeUpdate=="function";Mt||typeof ie.UNSAFE_componentWillReceiveProps!="function"&&typeof ie.componentWillReceiveProps!="function"||(he!==E||Re!==He)&&LA(d,ie,E,He),il=!1;var gt=d.memoizedState;ie.state=gt,Hm(d,E,ie,k),Re=d.memoizedState,he!==E||gt!==Re||wr.current||il?(typeof ot=="function"&&(Qv(d,_,ot,E),Re=d.memoizedState),(he=il||IA(d,_,he,E,gt,Re,He))?(Mt||typeof ie.UNSAFE_componentWillMount!="function"&&typeof ie.componentWillMount!="function"||(typeof ie.componentWillMount=="function"&&ie.componentWillMount(),typeof ie.UNSAFE_componentWillMount=="function"&&ie.UNSAFE_componentWillMount()),typeof ie.componentDidMount=="function"&&(d.flags|=4194308)):(typeof ie.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=E,d.memoizedState=Re),ie.props=E,ie.state=Re,ie.context=He,E=he):(typeof ie.componentDidMount=="function"&&(d.flags|=4194308),E=!1)}else{ie=d.stateNode,CA(f,d),he=d.memoizedProps,He=d.type===d.elementType?he:Zs(d.type,he),ie.props=He,Mt=d.pendingProps,gt=ie.context,Re=_.contextType,typeof Re=="object"&&Re!==null?Re=vs(Re):(Re=Ci(_)?da:Wt.current,Re=pa(d,Re));var ln=_.getDerivedStateFromProps;(ot=typeof ln=="function"||typeof ie.getSnapshotBeforeUpdate=="function")||typeof ie.UNSAFE_componentWillReceiveProps!="function"&&typeof ie.componentWillReceiveProps!="function"||(he!==Mt||gt!==Re)&&LA(d,ie,E,Re),il=!1,gt=d.memoizedState,ie.state=gt,Hm(d,E,ie,k);var dt=d.memoizedState;he!==Mt||gt!==dt||wr.current||il?(typeof ln=="function"&&(Qv(d,_,ln,E),dt=d.memoizedState),(He=il||IA(d,_,He,E,gt,dt,Re)||!1)?(ot||typeof ie.UNSAFE_componentWillUpdate!="function"&&typeof ie.componentWillUpdate!="function"||(typeof ie.componentWillUpdate=="function"&&ie.componentWillUpdate(E,dt,Re),typeof ie.UNSAFE_componentWillUpdate=="function"&&ie.UNSAFE_componentWillUpdate(E,dt,Re)),typeof ie.componentDidUpdate=="function"&&(d.flags|=4),typeof ie.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof ie.componentDidUpdate!="function"||he===f.memoizedProps&&gt===f.memoizedState||(d.flags|=4),typeof ie.getSnapshotBeforeUpdate!="function"||he===f.memoizedProps&&gt===f.memoizedState||(d.flags|=1024),d.memoizedProps=E,d.memoizedState=dt),ie.props=E,ie.state=dt,ie.context=Re,E=He):(typeof ie.componentDidUpdate!="function"||he===f.memoizedProps&&gt===f.memoizedState||(d.flags|=4),typeof ie.getSnapshotBeforeUpdate!="function"||he===f.memoizedProps&&gt===f.memoizedState||(d.flags|=1024),E=!1)}return y_(f,d,_,E,U,k)}function y_(f,d,_,E,k,U){x4(f,d);var ie=(d.flags&128)!==0;if(!E&&!ie)return k&&wA(d,_,!1),_a(f,d,U);E=d.stateNode,SD.current=d;var he=ie&&typeof _.getDerivedStateFromError!="function"?null:E.render();return d.flags|=1,f!==null&&ie?(d.child=sf(d,f.child,null,U),d.child=sf(d,null,he,U)):ui(f,d,he,U),d.memoizedState=E.state,k&&wA(d,_,!0),d.child}function v4(f){var d=f.stateNode;d.pendingContext?_A(f,d.pendingContext,d.pendingContext!==d.context):d.context&&_A(f,d.context,!1),s_(f,d.containerInfo)}function _4(f,d,_,E,k){return rf(),i_(k),d.flags|=256,ui(f,d,_,E),d.child}var rg={dehydrated:null,treeContext:null,retryLane:0};function ig(f){return{baseLanes:f,cachePool:null}}function b4(f,d,_){var E=d.pendingProps,k=Cn.current,U=!1,ie=(d.flags&128)!==0,he;if((he=ie)||(he=f!==null&&f.memoizedState===null?!1:(k&2)!==0),he?(U=!0,d.flags&=-129):(f===null||f.memoizedState!==null)&&(k|=1),Dt(Cn,k&1),f===null)return r_(d),f=d.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(d.mode&1?Qt(f)?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(k=E.children,f=E.fallback,U?(E=d.mode,U=d.child,k={mode:"hidden",children:k},!(E&1)&&U!==null?(U.childLanes=0,U.pendingProps=k):U=Mg(k,E,0,null),f=Tc(f,E,_,null),U.return=d,f.return=d,U.sibling=f,d.child=U,d.child.memoizedState=ig(_),d.memoizedState=rg,f):v_(d,k));if(k=f.memoizedState,k!==null){if(he=k.dehydrated,he!==null){if(ie)return d.flags&256?(d.flags&=-257,sg(f,d,_,Error(o(422)))):d.memoizedState!==null?(d.child=f.child,d.flags|=128,null):(U=E.fallback,k=d.mode,E=Mg({mode:"visible",children:E.children},k,0,null),U=Tc(U,k,_,null),U.flags|=2,E.return=d,U.return=d,E.sibling=U,d.child=E,d.mode&1&&sf(d,f.child,null,_),d.child.memoizedState=ig(_),d.memoizedState=rg,U);if(!(d.mode&1))d=sg(f,d,_,null);else if(Qt(he))d=sg(f,d,_,Error(o(419)));else if(E=(_&f.childLanes)!==0,Ji||E){if(E=or,E!==null){switch(_&-_){case 4:U=2;break;case 16:U=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:U=32;break;case 536870912:U=268435456;break;default:U=0}E=U&(E.suspendedLanes|_)?0:U,E!==0&&E!==k.retryLane&&(k.retryLane=E,Ms(f,E,-1))}z_(),d=sg(f,d,_,Error(o(421)))}else tn(he)?(d.flags|=128,d.child=f.child,d=OD.bind(null,f),te(he,d),d=null):(_=k.treeContext,ye&&(Yi=Ee(he),$i=d,Sn=!0,eo=null,yd=!1,_!==null&&(_s[bs++]=xa,_s[bs++]=ya,_s[bs++]=_c,xa=_.id,ya=_.overflow,_c=d)),d=v_(d,d.pendingProps.children),d.flags|=4096);return d}return U?(E=S4(f,d,E.children,E.fallback,_),U=d.child,k=f.child.memoizedState,U.memoizedState=k===null?ig(_):{baseLanes:k.baseLanes|_,cachePool:null},U.childLanes=f.childLanes&~_,d.memoizedState=rg,E):(_=w4(f,d,E.children,_),d.memoizedState=null,_)}return U?(E=S4(f,d,E.children,E.fallback,_),U=d.child,k=f.child.memoizedState,U.memoizedState=k===null?ig(_):{baseLanes:k.baseLanes|_,cachePool:null},U.childLanes=f.childLanes&~_,d.memoizedState=rg,E):(_=w4(f,d,E.children,_),d.memoizedState=null,_)}function v_(f,d){return d=Mg({mode:"visible",children:d},f.mode,0,null),d.return=f,f.child=d}function w4(f,d,_,E){var k=f.child;return f=k.sibling,_=ul(k,{mode:"visible",children:_}),!(d.mode&1)&&(_.lanes=E),_.return=d,_.sibling=null,f!==null&&(E=d.deletions,E===null?(d.deletions=[f],d.flags|=16):E.push(f)),d.child=_}function S4(f,d,_,E,k){var U=d.mode;f=f.child;var ie=f.sibling,he={mode:"hidden",children:_};return!(U&1)&&d.child!==f?(_=d.child,_.childLanes=0,_.pendingProps=he,d.deletions=null):(_=ul(f,he),_.subtreeFlags=f.subtreeFlags&14680064),ie!==null?E=ul(ie,E):(E=Tc(E,U,k,null),E.flags|=2),E.return=d,_.return=d,_.sibling=E,d.child=_,E}function sg(f,d,_,E){return E!==null&&i_(E),sf(d,f.child,null,_),f=v_(d,d.pendingProps.children),f.flags|=2,d.memoizedState=null,f}function M4(f,d,_){f.lanes|=d;var E=f.alternate;E!==null&&(E.lanes|=d),Yv(f.return,d,_)}function __(f,d,_,E,k){var U=f.memoizedState;U===null?f.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:E,tail:_,tailMode:k}:(U.isBackwards=d,U.rendering=null,U.renderingStartTime=0,U.last=E,U.tail=_,U.tailMode=k)}function E4(f,d,_){var E=d.pendingProps,k=E.revealOrder,U=E.tail;if(ui(f,d,E.children,_),E=Cn.current,E&2)E=E&1|2,d.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=d.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&M4(f,_,d);else if(f.tag===19)M4(f,_,d);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break e;for(;f.sibling===null;){if(f.return===null||f.return===d)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}E&=1}if(Dt(Cn,E),!(d.mode&1))d.memoizedState=null;else switch(k){case"forwards":for(_=d.child,k=null;_!==null;)f=_.alternate,f!==null&&Xm(f)===null&&(k=_),_=_.sibling;_=k,_===null?(k=d.child,d.child=null):(k=_.sibling,_.sibling=null),__(d,!1,k,_,U);break;case"backwards":for(_=null,k=d.child,d.child=null;k!==null;){if(f=k.alternate,f!==null&&Xm(f)===null){d.child=k;break}f=k.sibling,k.sibling=_,_=k,k=f}__(d,!0,_,null,U);break;case"together":__(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function _a(f,d,_){if(f!==null&&(d.dependencies=f.dependencies),uf|=d.lanes,!(_&d.childLanes))return null;if(f!==null&&d.child!==f.child)throw Error(o(153));if(d.child!==null){for(f=d.child,_=ul(f,f.pendingProps),d.child=_,_.return=d;f.sibling!==null;)f=f.sibling,_=_.sibling=ul(f,f.pendingProps),_.return=d;_.sibling=null}return d.child}function MD(f,d,_){switch(d.tag){case 3:v4(d),rf();break;case 5:VA(d);break;case 1:Ci(d.type)&&km(d);break;case 4:s_(d,d.stateNode.containerInfo);break;case 10:AA(d,d.type._context,d.memoizedProps.value);break;case 13:var E=d.memoizedState;if(E!==null)return E.dehydrated!==null?(Dt(Cn,Cn.current&1),d.flags|=128,null):_&d.child.childLanes?b4(f,d,_):(Dt(Cn,Cn.current&1),f=_a(f,d,_),f!==null?f.sibling:null);Dt(Cn,Cn.current&1);break;case 19:if(E=(_&d.childLanes)!==0,f.flags&128){if(E)return E4(f,d,_);d.flags|=128}var k=d.memoizedState;if(k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),Dt(Cn,Cn.current),E)break;return null;case 22:case 23:return d.lanes=0,g4(f,d,_)}return _a(f,d,_)}function ED(f,d){switch(t_(d),d.tag){case 1:return Ci(d.type)&&Im(),f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 3:return af(),_t(wr),_t(Wt),l_(),f=d.flags,f&65536&&!(f&128)?(d.flags=f&-65537|128,d):null;case 5:return o_(d),null;case 13:if(_t(Cn),f=d.memoizedState,f!==null&&f.dehydrated!==null){if(d.alternate===null)throw Error(o(340));rf()}return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 19:return _t(Cn),null;case 4:return af(),null;case 10:return $v(d.type._context),null;case 22:case 23:return F_(),null;case 24:return null;default:return null}}var og=!1,Sc=!1,AD=typeof WeakSet=="function"?WeakSet:Set,Je=null;function ag(f,d){var _=f.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(E){Ri(f,d,E)}else _.current=null}function b_(f,d,_){try{_()}catch(E){Ri(f,d,E)}}var A4=!1;function CD(f,d){for(X(f.containerInfo),Je=d;Je!==null;)if(f=Je,d=f.child,(f.subtreeFlags&1028)!==0&&d!==null)d.return=f,Je=d;else for(;Je!==null;){f=Je;try{var _=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var E=_.memoizedProps,k=_.memoizedState,U=f.stateNode,ie=U.getSnapshotBeforeUpdate(f.elementType===f.type?E:Zs(f.type,E),k);U.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:Ce&&ze(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(he){Ri(f,f.return,he)}if(d=f.sibling,d!==null){d.return=f.return,Je=d;break}Je=f.return}return _=A4,A4=!1,_}function Mc(f,d,_){var E=d.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var k=E=E.next;do{if((k.tag&f)===f){var U=k.destroy;k.destroy=void 0,U!==void 0&&b_(d,_,U)}k=k.next}while(k!==E)}}function Rd(f,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var _=d=d.next;do{if((_.tag&f)===f){var E=_.create;_.destroy=E()}_=_.next}while(_!==d)}}function w_(f){var d=f.ref;if(d!==null){var _=f.stateNode;switch(f.tag){case 5:f=z(_);break;default:f=_}typeof d=="function"?d(f):d.current=f}}function C4(f,d,_){if(Po&&typeof Po.onCommitFiberUnmount=="function")try{Po.onCommitFiberUnmount(Om,d)}catch{}switch(d.tag){case 0:case 11:case 14:case 15:if(f=d.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var E=f=f.next;do{var k=E,U=k.destroy;k=k.tag,U!==void 0&&(k&2||k&4)&&b_(d,_,U),E=E.next}while(E!==f)}break;case 1:if(ag(d,_),f=d.stateNode,typeof f.componentWillUnmount=="function")try{f.props=d.memoizedProps,f.state=d.memoizedState,f.componentWillUnmount()}catch(ie){Ri(d,_,ie)}break;case 5:ag(d,_);break;case 4:Ce?L4(f,d,_):ce&&ce&&(d=d.stateNode.containerInfo,_=ft(d),Bt(d,_))}}function T4(f,d,_){for(var E=d;;)if(C4(f,E,_),E.child===null||Ce&&E.tag===4){if(E===d)break;for(;E.sibling===null;){if(E.return===null||E.return===d)return;E=E.return}E.sibling.return=E.return,E=E.sibling}else E.child.return=E,E=E.child}function P4(f){var d=f.alternate;d!==null&&(f.alternate=null,P4(d)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(d=f.stateNode,d!==null&&$e(d)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function R4(f){return f.tag===5||f.tag===3||f.tag===4}function I4(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||R4(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function k4(f){if(Ce){e:{for(var d=f.return;d!==null;){if(R4(d))break e;d=d.return}throw Error(o(160))}var _=d;switch(_.tag){case 5:d=_.stateNode,_.flags&32&&(Ze(d),_.flags&=-33),_=I4(f),M_(f,_,d);break;case 3:case 4:d=_.stateNode.containerInfo,_=I4(f),S_(f,_,d);break;default:throw Error(o(161))}}}function S_(f,d,_){var E=f.tag;if(E===5||E===6)f=f.stateNode,d?Me(_,f,d):I(_,f);else if(E!==4&&(f=f.child,f!==null))for(S_(f,d,_),f=f.sibling;f!==null;)S_(f,d,_),f=f.sibling}function M_(f,d,_){var E=f.tag;if(E===5||E===6)f=f.stateNode,d?ne(_,f,d):R(_,f);else if(E!==4&&(f=f.child,f!==null))for(M_(f,d,_),f=f.sibling;f!==null;)M_(f,d,_),f=f.sibling}function L4(f,d,_){for(var E=d,k=!1,U,ie;;){if(!k){k=E.return;e:for(;;){if(k===null)throw Error(o(160));switch(U=k.stateNode,k.tag){case 5:ie=!1;break e;case 3:U=U.containerInfo,ie=!0;break e;case 4:U=U.containerInfo,ie=!0;break e}k=k.return}k=!0}if(E.tag===5||E.tag===6)T4(f,E,_),ie?Be(U,E.stateNode):Pe(U,E.stateNode);else if(E.tag===18)ie?Zt(U,E.stateNode):vt(U,E.stateNode);else if(E.tag===4){if(E.child!==null){U=E.stateNode.containerInfo,ie=!0,E.child.return=E,E=E.child;continue}}else if(C4(f,E,_),E.child!==null){E.child.return=E,E=E.child;continue}if(E===d)break;for(;E.sibling===null;){if(E.return===null||E.return===d)return;E=E.return,E.tag===4&&(k=!1)}E.sibling.return=E.return,E=E.sibling}}function E_(f,d){if(Ce){switch(d.tag){case 0:case 11:case 14:case 15:Mc(3,d,d.return),Rd(3,d),Mc(5,d,d.return);return;case 1:return;case 5:var _=d.stateNode;if(_!=null){var E=d.memoizedProps;f=f!==null?f.memoizedProps:E;var k=d.type,U=d.updateQueue;d.updateQueue=null,U!==null&&K(_,U,k,f,E,d)}return;case 6:if(d.stateNode===null)throw Error(o(162));_=d.memoizedProps,j(d.stateNode,f!==null?f.memoizedProps:_,_);return;case 3:ye&&f!==null&&f.memoizedState.isDehydrated&&bt(d.stateNode.containerInfo);return;case 12:return;case 13:lg(d);return;case 19:lg(d);return;case 17:return}throw Error(o(163))}switch(d.tag){case 0:case 11:case 14:case 15:Mc(3,d,d.return),Rd(3,d),Mc(5,d,d.return);return;case 12:return;case 13:lg(d);return;case 19:lg(d);return;case 3:ye&&f!==null&&f.memoizedState.isDehydrated&&bt(d.stateNode.containerInfo);break;case 22:case 23:return}e:if(ce){switch(d.tag){case 1:case 5:case 6:break e;case 3:case 4:d=d.stateNode,Bt(d.containerInfo,d.pendingChildren);break e}throw Error(o(163))}}function lg(f){var d=f.updateQueue;if(d!==null){f.updateQueue=null;var _=f.stateNode;_===null&&(_=f.stateNode=new AD),d.forEach(function(E){var k=BD.bind(null,f,E);_.has(E)||(_.add(E),E.then(k,k))})}}function TD(f,d){for(Je=d;Je!==null;){d=Je;var _=d.deletions;if(_!==null)for(var E=0;E<_.length;E++){var k=_[E];try{var U=f;Ce?L4(U,k,d):T4(U,k,d);var ie=k.alternate;ie!==null&&(ie.return=null),k.return=null}catch(ht){Ri(k,d,ht)}}if(_=d.child,d.subtreeFlags&12854&&_!==null)_.return=d,Je=_;else for(;Je!==null;){d=Je;try{var he=d.flags;if(he&32&&Ce&&Ze(d.stateNode),he&512){var Re=d.alternate;if(Re!==null){var He=Re.ref;He!==null&&(typeof He=="function"?He(null):He.current=null)}}if(he&8192)switch(d.tag){case 13:if(d.memoizedState!==null){var ot=d.alternate;(ot===null||ot.memoizedState===null)&&(k_=Sr())}break;case 22:var Mt=d.memoizedState!==null,gt=d.alternate,ln=gt!==null&&gt.memoizedState!==null;if(_=d,Ce){e:if(E=_,k=Mt,U=null,Ce)for(var dt=E;;){if(dt.tag===5){if(U===null){U=dt;var Xr=dt.stateNode;k?Xe(Xr):Ae(dt.stateNode,dt.memoizedProps)}}else if(dt.tag===6){if(U===null){var As=dt.stateNode;k?le(As):Ie(As,dt.memoizedProps)}}else if((dt.tag!==22&&dt.tag!==23||dt.memoizedState===null||dt===E)&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===E)break;for(;dt.sibling===null;){if(dt.return===null||dt.return===E)break e;U===dt&&(U=null),dt=dt.return}U===dt&&(U=null),dt.sibling.return=dt.return,dt=dt.sibling}}if(Mt&&!ln&&_.mode&1){Je=_;for(var be=_.child;be!==null;){for(_=Je=be;Je!==null;){E=Je;var pe=E.child;switch(E.tag){case 0:case 11:case 14:case 15:Mc(4,E,E.return);break;case 1:ag(E,E.return);var Te=E.stateNode;if(typeof Te.componentWillUnmount=="function"){var Qe=E.return;try{Te.props=E.memoizedProps,Te.state=E.memoizedState,Te.componentWillUnmount()}catch(ht){Ri(E,Qe,ht)}}break;case 5:ag(E,E.return);break;case 22:if(E.memoizedState!==null){O4(_);continue}}pe!==null?(pe.return=E,Je=pe):O4(_)}be=be.sibling}}}switch(he&4102){case 2:k4(d),d.flags&=-3;break;case 6:k4(d),d.flags&=-3,E_(d.alternate,d);break;case 4096:d.flags&=-4097;break;case 4100:d.flags&=-4097,E_(d.alternate,d);break;case 4:E_(d.alternate,d)}}catch(ht){Ri(d,d.return,ht)}if(_=d.sibling,_!==null){_.return=d.return,Je=_;break}Je=d.return}}}function PD(f,d,_){Je=f,N4(f)}function N4(f,d,_){for(var E=(f.mode&1)!==0;Je!==null;){var k=Je,U=k.child;if(k.tag===22&&E){var ie=k.memoizedState!==null||og;if(!ie){var he=k.alternate,Re=he!==null&&he.memoizedState!==null||Sc;he=og;var He=Sc;if(og=ie,(Sc=Re)&&!He)for(Je=k;Je!==null;)ie=Je,Re=ie.child,ie.tag===22&&ie.memoizedState!==null?B4(k):Re!==null?(Re.return=ie,Je=Re):B4(k);for(;U!==null;)Je=U,N4(U),U=U.sibling;Je=k,og=he,Sc=He}D4(f)}else k.subtreeFlags&8772&&U!==null?(U.return=k,Je=U):D4(f)}}function D4(f){for(;Je!==null;){var d=Je;if(d.flags&8772){var _=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:Sc||Rd(5,d);break;case 1:var E=d.stateNode;if(d.flags&4&&!Sc)if(_===null)E.componentDidMount();else{var k=d.elementType===d.type?_.memoizedProps:Zs(d.type,_.memoizedProps);E.componentDidUpdate(k,_.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var U=d.updateQueue;U!==null&&PA(d,U,E);break;case 3:var ie=d.updateQueue;if(ie!==null){if(_=null,d.child!==null)switch(d.child.tag){case 5:_=z(d.child.stateNode);break;case 1:_=d.child.stateNode}PA(d,ie,_)}break;case 5:var he=d.stateNode;_===null&&d.flags&4&&se(he,d.type,d.memoizedProps,d);break;case 6:break;case 4:break;case 12:break;case 13:if(ye&&d.memoizedState===null){var Re=d.alternate;if(Re!==null){var He=Re.memoizedState;if(He!==null){var ot=He.dehydrated;ot!==null&&yt(ot)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Sc||d.flags&512&&w_(d)}catch(Mt){Ri(d,d.return,Mt)}}if(d===f){Je=null;break}if(_=d.sibling,_!==null){_.return=d.return,Je=_;break}Je=d.return}}function O4(f){for(;Je!==null;){var d=Je;if(d===f){Je=null;break}var _=d.sibling;if(_!==null){_.return=d.return,Je=_;break}Je=d.return}}function B4(f){for(;Je!==null;){var d=Je;try{switch(d.tag){case 0:case 11:case 15:var _=d.return;try{Rd(4,d)}catch(Re){Ri(d,_,Re)}break;case 1:var E=d.stateNode;if(typeof E.componentDidMount=="function"){var k=d.return;try{E.componentDidMount()}catch(Re){Ri(d,k,Re)}}var U=d.return;try{w_(d)}catch(Re){Ri(d,U,Re)}break;case 5:var ie=d.return;try{w_(d)}catch(Re){Ri(d,ie,Re)}}}catch(Re){Ri(d,d.return,Re)}if(d===f){Je=null;break}var he=d.sibling;if(he!==null){he.return=d.return,Je=he;break}Je=d.return}}var cg=0,ug=1,fg=2,hg=3,dg=4;if(typeof Symbol=="function"&&Symbol.for){var Id=Symbol.for;cg=Id("selector.component"),ug=Id("selector.has_pseudo_class"),fg=Id("selector.role"),hg=Id("selector.test_id"),dg=Id("selector.text")}function A_(f){var d=ve(f);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(o(364));return d}if(f=at(f),f===null)throw Error(o(362));return f.stateNode.current}function C_(f,d){switch(d.$$typeof){case cg:if(f.type===d.value)return!0;break;case ug:e:{d=d.value,f=[f,0];for(var _=0;_<f.length;){var E=f[_++],k=f[_++],U=d[k];if(E.tag!==5||!xe(E)){for(;U!=null&&C_(E,U);)k++,U=d[k];if(k===d.length){d=!0;break e}else for(E=E.child;E!==null;)f.push(E,k),E=E.sibling}}d=!1}return d;case fg:if(f.tag===5&&Oe(f.stateNode,d.value))return!0;break;case dg:if((f.tag===5||f.tag===6)&&(f=Q(f),f!==null&&0<=f.indexOf(d.value)))return!0;break;case hg:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function T_(f){switch(f.$$typeof){case cg:return"<"+(O(f.value)||"Unknown")+">";case ug:return":has("+(T_(f)||"")+")";case fg:return'[role="'+f.value+'"]';case dg:return'"'+f.value+'"';case hg:return'[data-testname="'+f.value+'"]';default:throw Error(o(365))}}function F4(f,d){var _=[];f=[f,0];for(var E=0;E<f.length;){var k=f[E++],U=f[E++],ie=d[U];if(k.tag!==5||!xe(k)){for(;ie!=null&&C_(k,ie);)U++,ie=d[U];if(U===d.length)_.push(k);else for(k=k.child;k!==null;)f.push(k,U),k=k.sibling}}return _}function P_(f,d){if(!lt)throw Error(o(363));f=A_(f),f=F4(f,d),d=[],f=Array.from(f);for(var _=0;_<f.length;){var E=f[_++];if(E.tag===5)xe(E)||d.push(E.stateNode);else for(E=E.child;E!==null;)f.push(E),E=E.sibling}return d}var RD=Math.ceil,pg=a.ReactCurrentDispatcher,R_=a.ReactCurrentOwner,Kn=a.ReactCurrentBatchConfig,Nt=0,or=null,ar=null,Ir=0,Qi=0,cf=Hr(0),dr=0,kd=null,uf=0,mg=0,I_=0,Ld=null,Ti=null,k_=0,L_=1/0;function ff(){L_=Sr()+500}var gg=!1,N_=null,ol=null,xg=!1,al=null,yg=0,Nd=0,D_=null,vg=-1,_g=0;function fi(){return Nt&6?Sr():vg!==-1?vg:vg=Sr()}function ll(f){return f.mode&1?Nt&2&&Ir!==0?Ir&-Ir:hD.transition!==null?(_g===0&&(f=Lm,Lm<<=1,!(Lm&4194240)&&(Lm=64),_g=f),_g):(f=Kt,f!==0?f:We()):1}function Ms(f,d,_){if(50<Nd)throw Nd=0,D_=null,Error(o(185));var E=bg(f,d);return E===null?null:(xd(E,d,_),(!(Nt&2)||E!==or)&&(E===or&&(!(Nt&2)&&(mg|=d),dr===4&&cl(E,Ir)),Pi(E,_),d===1&&Nt===0&&!(f.mode&1)&&(ff(),Bm&&Io())),E)}function bg(f,d){f.lanes|=d;var _=f.alternate;for(_!==null&&(_.lanes|=d),_=f,f=f.return;f!==null;)f.childLanes|=d,_=f.alternate,_!==null&&(_.childLanes|=d),_=f,f=f.return;return _.tag===3?_.stateNode:null}function Pi(f,d){var _=f.callbackNode;rD(f,d);var E=Dm(f,f===or?Ir:0);if(E===0)_!==null&&MA(_),f.callbackNode=null,f.callbackPriority=0;else if(d=E&-E,f.callbackPriority!==d){if(_!=null&&MA(_),d===1)f.tag===0?fD(U4.bind(null,f)):EA(U4.bind(null,f)),je?tt(function(){Nt===0&&Io()}):Wv(Gv,Io),_=null;else{switch(SA(E)){case 1:_=Gv;break;case 4:_=aD;break;case 16:_=jv;break;case 536870912:_=lD;break;default:_=jv}_=$4(_,z4.bind(null,f))}f.callbackPriority=d,f.callbackNode=_}}function z4(f,d){if(vg=-1,_g=0,Nt&6)throw Error(o(327));var _=f.callbackNode;if(Cc()&&f.callbackNode!==_)return null;var E=Dm(f,f===or?Ir:0);if(E===0)return null;if(E&30||E&f.expiredLanes||d)d=wg(f,E);else{d=E;var k=Nt;Nt|=2;var U=W4();(or!==f||Ir!==d)&&(ff(),Ec(f,d));do try{LD();break}catch(he){H4(f,he)}while(1);Kv(),pg.current=U,Nt=k,ar!==null?d=0:(or=null,Ir=0,d=dr)}if(d!==0){if(d===2&&(k=Uv(f),k!==0&&(E=k,d=O_(f,k))),d===1)throw _=kd,Ec(f,0),cl(f,E),Pi(f,Sr()),_;if(d===6)cl(f,E);else{if(k=f.current.alternate,!(E&30)&&!ID(k)&&(d=wg(f,E),d===2&&(U=Uv(f),U!==0&&(E=U,d=O_(f,U))),d===1))throw _=kd,Ec(f,0),cl(f,E),Pi(f,Sr()),_;switch(f.finishedWork=k,f.finishedLanes=E,d){case 0:case 1:throw Error(o(345));case 2:Ac(f,Ti);break;case 3:if(cl(f,E),(E&130023424)===E&&(d=k_+500-Sr(),10<d)){if(Dm(f,0)!==0)break;if(k=f.suspendedLanes,(k&E)!==E){fi(),f.pingedLanes|=f.suspendedLanes&k;break}f.timeoutHandle=ue(Ac.bind(null,f,Ti),d);break}Ac(f,Ti);break;case 4:if(cl(f,E),(E&4194240)===E)break;for(d=f.eventTimes,k=-1;0<E;){var ie=31-Qs(E);U=1<<ie,ie=d[ie],ie>k&&(k=ie),E&=~U}if(E=k,E=Sr()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*RD(E/1960))-E,10<E){f.timeoutHandle=ue(Ac.bind(null,f,Ti),E);break}Ac(f,Ti);break;case 5:Ac(f,Ti);break;default:throw Error(o(329))}}}return Pi(f,Sr()),f.callbackNode===_?z4.bind(null,f):null}function O_(f,d){var _=Ld;return f.current.memoizedState.isDehydrated&&(Ec(f,d).flags|=256),f=wg(f,d),f!==2&&(d=Ti,Ti=_,d!==null&&B_(d)),f}function B_(f){Ti===null?Ti=f:Ti.push.apply(Ti,f)}function ID(f){for(var d=f;;){if(d.flags&16384){var _=d.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var E=0;E<_.length;E++){var k=_[E],U=k.getSnapshot;k=k.value;try{if(!Ro(U(),k))return!1}catch{return!1}}}if(_=d.child,d.subtreeFlags&16384&&_!==null)_.return=d,d=_;else{if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function cl(f,d){for(d&=~I_,d&=~mg,f.suspendedLanes|=d,f.pingedLanes&=~d,f=f.expirationTimes;0<d;){var _=31-Qs(d),E=1<<_;f[_]=-1,d&=~E}}function U4(f){if(Nt&6)throw Error(o(327));Cc();var d=Dm(f,0);if(!(d&1))return Pi(f,Sr()),null;var _=wg(f,d);if(f.tag!==0&&_===2){var E=Uv(f);E!==0&&(d=E,_=O_(f,E))}if(_===1)throw _=kd,Ec(f,0),cl(f,d),Pi(f,Sr()),_;if(_===6)throw Error(o(345));return f.finishedWork=f.current.alternate,f.finishedLanes=d,Ac(f,Ti),Pi(f,Sr()),null}function V4(f){al!==null&&al.tag===0&&!(Nt&6)&&Cc();var d=Nt;Nt|=1;var _=Kn.transition,E=Kt;try{if(Kn.transition=null,Kt=1,f)return f()}finally{Kt=E,Kn.transition=_,Nt=d,!(Nt&6)&&Io()}}function F_(){Qi=cf.current,_t(cf)}function Ec(f,d){f.finishedWork=null,f.finishedLanes=0;var _=f.timeoutHandle;if(_!==me&&(f.timeoutHandle=me,ae(_)),ar!==null)for(_=ar.return;_!==null;){var E=_;switch(t_(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&Im();break;case 3:af(),_t(wr),_t(Wt),l_();break;case 5:o_(E);break;case 4:af();break;case 13:_t(Cn);break;case 19:_t(Cn);break;case 10:$v(E.type._context);break;case 22:case 23:F_()}_=_.return}if(or=f,ar=f=ul(f.current,null),Ir=Qi=d,dr=0,kd=null,I_=mg=uf=0,Ti=Ld=null,ko!==null){for(d=0;d<ko.length;d++)if(_=ko[d],E=_.interleaved,E!==null){_.interleaved=null;var k=E.next,U=_.pending;if(U!==null){var ie=U.next;U.next=k,E.next=ie}_.pending=E}ko=null}return f}function H4(f,d){do{var _=ar;try{if(Kv(),Km.current=eg,$m){for(var E=Bn.memoizedState;E!==null;){var k=E.queue;k!==null&&(k.pending=null),E=E.next}$m=!1}if(lf=0,Mr=Gr=Bn=null,Sd=!1,Md=0,R_.current=null,_===null||_.return===null){dr=1,kd=d,ar=null;break}e:{var U=f,ie=_.return,he=_,Re=d;if(d=Ir,he.flags|=32768,Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var He=Re,ot=he,Mt=ot.tag;if(!(ot.mode&1)&&(Mt===0||Mt===11||Mt===15)){var gt=ot.alternate;gt?(ot.updateQueue=gt.updateQueue,ot.memoizedState=gt.memoizedState,ot.lanes=gt.lanes):(ot.updateQueue=null,ot.memoizedState=null)}var ln=c4(ie);if(ln!==null){ln.flags&=-257,u4(ln,ie,he,U,d),ln.mode&1&&l4(U,He,d),d=ln,Re=He;var dt=d.updateQueue;if(dt===null){var Xr=new Set;Xr.add(Re),d.updateQueue=Xr}else dt.add(Re);break e}else{if(!(d&1)){l4(U,He,d),z_();break e}Re=Error(o(426))}}else if(Sn&&he.mode&1){var As=c4(ie);if(As!==null){!(As.flags&65536)&&(As.flags|=256),u4(As,ie,he,U,d),i_(Re);break e}}U=Re,dr!==4&&(dr=2),Ld===null?Ld=[U]:Ld.push(U),Re=m_(Re,he),he=ie;do{switch(he.tag){case 3:he.flags|=65536,d&=-d,he.lanes|=d;var be=o4(he,Re,d);TA(he,be);break e;case 1:U=Re;var pe=he.type,Te=he.stateNode;if(!(he.flags&128)&&(typeof pe.getDerivedStateFromError=="function"||Te!==null&&typeof Te.componentDidCatch=="function"&&(ol===null||!ol.has(Te)))){he.flags|=65536,d&=-d,he.lanes|=d;var Qe=a4(he,U,d);TA(he,Qe);break e}}he=he.return}while(he!==null)}j4(_)}catch(ht){d=ht,ar===_&&_!==null&&(ar=_=_.return);continue}break}while(1)}function W4(){var f=pg.current;return pg.current=eg,f===null?eg:f}function z_(){(dr===0||dr===3||dr===2)&&(dr=4),or===null||!(uf&268435455)&&!(mg&268435455)||cl(or,Ir)}function wg(f,d){var _=Nt;Nt|=2;var E=W4();or===f&&Ir===d||Ec(f,d);do try{kD();break}catch(k){H4(f,k)}while(1);if(Kv(),Nt=_,pg.current=E,ar!==null)throw Error(o(261));return or=null,Ir=0,dr}function kD(){for(;ar!==null;)G4(ar)}function LD(){for(;ar!==null&&!sD();)G4(ar)}function G4(f){var d=K4(f.alternate,f,Qi);f.memoizedProps=f.pendingProps,d===null?j4(f):ar=d,R_.current=null}function j4(f){var d=f;do{var _=d.alternate;if(f=d.return,d.flags&32768){if(_=ED(_,d),_!==null){_.flags&=32767,ar=_;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{dr=6,ar=null;return}}else if(_=wD(_,d,Qi),_!==null){ar=_;return}if(d=d.sibling,d!==null){ar=d;return}ar=d=f}while(d!==null);dr===0&&(dr=5)}function Ac(f,d){var _=Kt,E=Kn.transition;try{Kn.transition=null,Kt=1,ND(f,d,_)}finally{Kn.transition=E,Kt=_}return null}function ND(f,d,_){do Cc();while(al!==null);if(Nt&6)throw Error(o(327));var E=f.finishedWork,k=f.finishedLanes;if(E===null)return null;if(f.finishedWork=null,f.finishedLanes=0,E===f.current)throw Error(o(177));f.callbackNode=null,f.callbackPriority=0;var U=E.lanes|E.childLanes;if(iD(f,U),f===or&&(ar=or=null,Ir=0),!(E.subtreeFlags&2064)&&!(E.flags&2064)||xg||(xg=!0,$4(jv,function(){return Cc(),null})),U=(E.flags&15990)!==0,E.subtreeFlags&15990||U){U=Kn.transition,Kn.transition=null;var ie=Kt;Kt=1;var he=Nt;Nt|=4,R_.current=null,CD(f,E),TD(f,E),$(f.containerInfo),f.current=E,PD(E),oD(),Nt=he,Kt=ie,Kn.transition=U}else f.current=E;if(xg&&(xg=!1,al=f,yg=k),U=f.pendingLanes,U===0&&(ol=null),cD(E.stateNode),Pi(f,Sr()),d!==null)for(_=f.onRecoverableError,E=0;E<d.length;E++)_(d[E]);if(gg)throw gg=!1,f=N_,N_=null,f;return yg&1&&f.tag!==0&&Cc(),U=f.pendingLanes,U&1?f===D_?Nd++:(Nd=0,D_=f):Nd=0,Io(),null}function Cc(){if(al!==null){var f=SA(yg),d=Kn.transition,_=Kt;try{if(Kn.transition=null,Kt=16>f?16:f,al===null)var E=!1;else{if(f=al,al=null,yg=0,Nt&6)throw Error(o(331));var k=Nt;for(Nt|=4,Je=f.current;Je!==null;){var U=Je,ie=U.child;if(Je.flags&16){var he=U.deletions;if(he!==null){for(var Re=0;Re<he.length;Re++){var He=he[Re];for(Je=He;Je!==null;){var ot=Je;switch(ot.tag){case 0:case 11:case 15:Mc(8,ot,U)}var Mt=ot.child;if(Mt!==null)Mt.return=ot,Je=Mt;else for(;Je!==null;){ot=Je;var gt=ot.sibling,ln=ot.return;if(P4(ot),ot===He){Je=null;break}if(gt!==null){gt.return=ln,Je=gt;break}Je=ln}}}var dt=U.alternate;if(dt!==null){var Xr=dt.child;if(Xr!==null){dt.child=null;do{var As=Xr.sibling;Xr.sibling=null,Xr=As}while(Xr!==null)}}Je=U}}if(U.subtreeFlags&2064&&ie!==null)ie.return=U,Je=ie;else e:for(;Je!==null;){if(U=Je,U.flags&2048)switch(U.tag){case 0:case 11:case 15:Mc(9,U,U.return)}var be=U.sibling;if(be!==null){be.return=U.return,Je=be;break e}Je=U.return}}var pe=f.current;for(Je=pe;Je!==null;){ie=Je;var Te=ie.child;if(ie.subtreeFlags&2064&&Te!==null)Te.return=ie,Je=Te;else e:for(ie=pe;Je!==null;){if(he=Je,he.flags&2048)try{switch(he.tag){case 0:case 11:case 15:Rd(9,he)}}catch(ht){Ri(he,he.return,ht)}if(he===ie){Je=null;break e}var Qe=he.sibling;if(Qe!==null){Qe.return=he.return,Je=Qe;break e}Je=he.return}}if(Nt=k,Io(),Po&&typeof Po.onPostCommitFiberRoot=="function")try{Po.onPostCommitFiberRoot(Om,f)}catch{}E=!0}return E}finally{Kt=_,Kn.transition=d}}return!1}function q4(f,d,_){d=m_(_,d),d=o4(f,d,1),sl(f,d),d=fi(),f=bg(f,1),f!==null&&(xd(f,1,d),Pi(f,d))}function Ri(f,d,_){if(f.tag===3)q4(f,f,_);else for(;d!==null;){if(d.tag===3){q4(d,f,_);break}else if(d.tag===1){var E=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(ol===null||!ol.has(E))){f=m_(_,f),f=a4(d,f,1),sl(d,f),f=fi(),d=bg(d,1),d!==null&&(xd(d,1,f),Pi(d,f));break}}d=d.return}}function DD(f,d,_){var E=f.pingCache;E!==null&&E.delete(d),d=fi(),f.pingedLanes|=f.suspendedLanes&_,or===f&&(Ir&_)===_&&(dr===4||dr===3&&(Ir&130023424)===Ir&&500>Sr()-k_?Ec(f,0):I_|=_),Pi(f,d)}function X4(f,d){d===0&&(f.mode&1?(d=Nm,Nm<<=1,!(Nm&130023424)&&(Nm=4194304)):d=1);var _=fi();f=bg(f,d),f!==null&&(xd(f,d,_),Pi(f,_))}function OD(f){var d=f.memoizedState,_=0;d!==null&&(_=d.retryLane),X4(f,_)}function BD(f,d){var _=0;switch(f.tag){case 13:var E=f.stateNode,k=f.memoizedState;k!==null&&(_=k.retryLane);break;case 19:E=f.stateNode;break;default:throw Error(o(314))}E!==null&&E.delete(d),X4(f,_)}var K4;K4=function(f,d,_){if(f!==null)if(f.memoizedProps!==d.pendingProps||wr.current)Ji=!0;else{if(!(f.lanes&_)&&!(d.flags&128))return Ji=!1,MD(f,d,_);Ji=!!(f.flags&131072)}else Ji=!1,Sn&&d.flags&1048576&&NA(d,jm,d.index);switch(d.lanes=0,d.tag){case 2:var E=d.type;f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),f=d.pendingProps;var k=pa(d,Wt.current);ef(d,_),k=u_(null,d,E,f,k,_);var U=f_();return d.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Ci(E)?(U=!0,km(d)):U=!1,d.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Jv(d),k.updater=Wm,d.stateNode=k,k._reactInternals=d,Zv(d,E,f,_),d=y_(null,d,E,!0,U,_)):(d.tag=0,Sn&&U&&e_(d),ui(null,d,k,_),d=d.child),d;case 16:E=d.elementType;e:{switch(f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),f=d.pendingProps,k=E._init,E=k(E._payload),d.type=E,k=d.tag=zD(E),f=Zs(E,f),k){case 0:d=x_(null,d,E,f,_);break e;case 1:d=y4(null,d,E,f,_);break e;case 11:d=d4(null,d,E,f,_);break e;case 14:d=p4(null,d,E,Zs(E.type,f),_);break e}throw Error(o(306,E,""))}return d;case 0:return E=d.type,k=d.pendingProps,k=d.elementType===E?k:Zs(E,k),x_(f,d,E,k,_);case 1:return E=d.type,k=d.pendingProps,k=d.elementType===E?k:Zs(E,k),y4(f,d,E,k,_);case 3:e:{if(v4(d),f===null)throw Error(o(387));E=d.pendingProps,U=d.memoizedState,k=U.element,CA(f,d),Hm(d,E,null,_);var ie=d.memoizedState;if(E=ie.element,ye&&U.isDehydrated)if(U={element:E,isDehydrated:!1,cache:ie.cache,transitions:ie.transitions},d.updateQueue.baseState=U,d.memoizedState=U,d.flags&256){k=Error(o(423)),d=_4(f,d,E,_,k);break e}else if(E!==k){k=Error(o(424)),d=_4(f,d,E,_,k);break e}else for(ye&&(Yi=ge(d.stateNode.containerInfo),$i=d,Sn=!0,eo=null,yd=!1),_=UA(d,null,E,_),d.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(rf(),E===k){d=_a(f,d,_);break e}ui(f,d,E,_)}d=d.child}return d;case 5:return VA(d),f===null&&r_(d),E=d.type,k=d.pendingProps,U=f!==null?f.memoizedProps:null,ie=k.children,N(E,k)?ie=null:U!==null&&N(E,U)&&(d.flags|=32),x4(f,d),ui(f,d,ie,_),d.child;case 6:return f===null&&r_(d),null;case 13:return b4(f,d,_);case 4:return s_(d,d.stateNode.containerInfo),E=d.pendingProps,f===null?d.child=sf(d,null,E,_):ui(f,d,E,_),d.child;case 11:return E=d.type,k=d.pendingProps,k=d.elementType===E?k:Zs(E,k),d4(f,d,E,k,_);case 7:return ui(f,d,d.pendingProps,_),d.child;case 8:return ui(f,d,d.pendingProps.children,_),d.child;case 12:return ui(f,d,d.pendingProps.children,_),d.child;case 10:e:{if(E=d.type._context,k=d.pendingProps,U=d.memoizedProps,ie=k.value,AA(d,E,ie),U!==null)if(Ro(U.value,ie)){if(U.children===k.children&&!wr.current){d=_a(f,d,_);break e}}else for(U=d.child,U!==null&&(U.return=d);U!==null;){var he=U.dependencies;if(he!==null){ie=U.child;for(var Re=he.firstContext;Re!==null;){if(Re.context===E){if(U.tag===1){Re=ga(-1,_&-_),Re.tag=2;var He=U.updateQueue;if(He!==null){He=He.shared;var ot=He.pending;ot===null?Re.next=Re:(Re.next=ot.next,ot.next=Re),He.pending=Re}}U.lanes|=_,Re=U.alternate,Re!==null&&(Re.lanes|=_),Yv(U.return,_,d),he.lanes|=_;break}Re=Re.next}}else if(U.tag===10)ie=U.type===d.type?null:U.child;else if(U.tag===18){if(ie=U.return,ie===null)throw Error(o(341));ie.lanes|=_,he=ie.alternate,he!==null&&(he.lanes|=_),Yv(ie,_,d),ie=U.sibling}else ie=U.child;if(ie!==null)ie.return=U;else for(ie=U;ie!==null;){if(ie===d){ie=null;break}if(U=ie.sibling,U!==null){U.return=ie.return,ie=U;break}ie=ie.return}U=ie}ui(f,d,k.children,_),d=d.child}return d;case 9:return k=d.type,E=d.pendingProps.children,ef(d,_),k=vs(k),E=E(k),d.flags|=1,ui(f,d,E,_),d.child;case 14:return E=d.type,k=Zs(E,d.pendingProps),k=Zs(E.type,k),p4(f,d,E,k,_);case 15:return m4(f,d,d.type,d.pendingProps,_);case 17:return E=d.type,k=d.pendingProps,k=d.elementType===E?k:Zs(E,k),f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),d.tag=1,Ci(E)?(f=!0,km(d)):f=!1,ef(d,_),kA(d,E,k),Zv(d,E,k,_),y_(null,d,E,!0,f,_);case 19:return E4(f,d,_);case 22:return g4(f,d,_)}throw Error(o(156,d.tag))};function $4(f,d){return Wv(f,d)}function FD(f,d,_,E){this.tag=f,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Es(f,d,_,E){return new FD(f,d,_,E)}function U_(f){return f=f.prototype,!(!f||!f.isReactComponent)}function zD(f){if(typeof f=="function")return U_(f)?1:0;if(f!=null){if(f=f.$$typeof,f===g)return 11;if(f===b)return 14}return 2}function ul(f,d){var _=f.alternate;return _===null?(_=Es(f.tag,d,f.key,f.mode),_.elementType=f.elementType,_.type=f.type,_.stateNode=f.stateNode,_.alternate=f,f.alternate=_):(_.pendingProps=d,_.type=f.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=f.flags&14680064,_.childLanes=f.childLanes,_.lanes=f.lanes,_.child=f.child,_.memoizedProps=f.memoizedProps,_.memoizedState=f.memoizedState,_.updateQueue=f.updateQueue,d=f.dependencies,_.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},_.sibling=f.sibling,_.index=f.index,_.ref=f.ref,_}function Sg(f,d,_,E,k,U){var ie=2;if(E=f,typeof f=="function")U_(f)&&(ie=1);else if(typeof f=="string")ie=5;else e:switch(f){case u:return Tc(_.children,k,U,d);case h:ie=8,k|=8;break;case p:return f=Es(12,_,d,k|2),f.elementType=p,f.lanes=U,f;case x:return f=Es(13,_,d,k),f.elementType=x,f.lanes=U,f;case v:return f=Es(19,_,d,k),f.elementType=v,f.lanes=U,f;case A:return Mg(_,k,U,d);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case m:ie=10;break e;case y:ie=9;break e;case g:ie=11;break e;case b:ie=14;break e;case w:ie=16,E=null;break e}throw Error(o(130,f==null?f:typeof f,""))}return d=Es(ie,_,d,k),d.elementType=f,d.type=E,d.lanes=U,d}function Tc(f,d,_,E){return f=Es(7,f,E,d),f.lanes=_,f}function Mg(f,d,_,E){return f=Es(22,f,E,d),f.elementType=A,f.lanes=_,f.stateNode={},f}function V_(f,d,_){return f=Es(6,f,null,d),f.lanes=_,f}function H_(f,d,_){return d=Es(4,f.children!==null?f.children:[],f.key,d),d.lanes=_,d.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},d}function UD(f,d,_,E,k){this.tag=d,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=me,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vv(0),this.expirationTimes=Vv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vv(0),this.identifierPrefix=E,this.onRecoverableError=k,ye&&(this.mutableSourceEagerHydrationData=null)}function Y4(f,d,_,E,k,U,ie,he,Re){return f=new UD(f,d,_,he,Re),d===1?(d=1,U===!0&&(d|=8)):d=0,U=Es(3,null,null,d),f.current=U,U.stateNode=f,U.memoizedState={element:E,isDehydrated:_,cache:null,transitions:null},Jv(U),f}function J4(f){if(!f)return Wr;f=f._reactInternals;e:{if(B(f)!==f||f.tag!==1)throw Error(o(170));var d=f;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Ci(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(o(171))}if(f.tag===1){var _=f.type;if(Ci(_))return bA(f,_,d)}return d}function Q4(f){var d=f._reactInternals;if(d===void 0)throw typeof f.render=="function"?Error(o(188)):(f=Object.keys(f).join(","),Error(o(268,f)));return f=oe(d),f===null?null:f.stateNode}function Z4(f,d){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var _=f.retryLane;f.retryLane=_!==0&&_<d?_:d}}function W_(f,d){Z4(f,d),(f=f.alternate)&&Z4(f,d)}function VD(f){return f=oe(f),f===null?null:f.stateNode}function HD(){return null}return t.attemptContinuousHydration=function(f){if(f.tag===13){var d=fi();Ms(f,134217728,d),W_(f,134217728)}},t.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var d=fi(),_=ll(f);Ms(f,_,d),W_(f,_)}},t.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var d=f.stateNode;if(d.current.memoizedState.isDehydrated){var _=gd(d.pendingLanes);_!==0&&(Hv(d,_|1),Pi(d,Sr()),!(Nt&6)&&(ff(),Io()))}break;case 13:var E=fi();V4(function(){return Ms(f,1,E)}),W_(f,1)}},t.batchedUpdates=function(f,d){var _=Nt;Nt|=1;try{return f(d)}finally{Nt=_,Nt===0&&(ff(),Bm&&Io())}},t.createComponentSelector=function(f){return{$$typeof:cg,value:f}},t.createContainer=function(f,d,_,E,k,U,ie){return Y4(f,d,!1,null,_,E,k,U,ie)},t.createHasPseudoClassSelector=function(f){return{$$typeof:ug,value:f}},t.createHydrationContainer=function(f,d,_,E,k,U,ie,he,Re){return f=Y4(_,E,!0,f,k,U,ie,he,Re),f.context=J4(null),_=f.current,E=fi(),k=ll(_),U=ga(E,k),U.callback=d??null,sl(_,U),f.current.lanes=k,xd(f,k,E),Pi(f,E),f},t.createPortal=function(f,d,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:E==null?null:""+E,children:f,containerInfo:d,implementation:_}},t.createRoleSelector=function(f){return{$$typeof:fg,value:f}},t.createTestNameSelector=function(f){return{$$typeof:hg,value:f}},t.createTextSelector=function(f){return{$$typeof:dg,value:f}},t.deferredUpdates=function(f){var d=Kt,_=Kn.transition;try{return Kn.transition=null,Kt=16,f()}finally{Kt=d,Kn.transition=_}},t.discreteUpdates=function(f,d,_,E,k){var U=Kt,ie=Kn.transition;try{return Kn.transition=null,Kt=1,f(d,_,E,k)}finally{Kt=U,Kn.transition=ie,Nt===0&&ff()}},t.findAllNodes=P_,t.findBoundingRects=function(f,d){if(!lt)throw Error(o(363));d=P_(f,d),f=[];for(var _=0;_<d.length;_++)f.push(re(d[_]));for(d=f.length-1;0<d;d--){_=f[d];for(var E=_.x,k=E+_.width,U=_.y,ie=U+_.height,he=d-1;0<=he;he--)if(d!==he){var Re=f[he],He=Re.x,ot=He+Re.width,Mt=Re.y,gt=Mt+Re.height;if(E>=He&&U>=Mt&&k<=ot&&ie<=gt){f.splice(d,1);break}else if(E!==He||_.width!==Re.width||gt<U||Mt>ie){if(!(U!==Mt||_.height!==Re.height||ot<E||He>k)){He>E&&(Re.width+=He-E,Re.x=E),ot<k&&(Re.width=k-He),f.splice(d,1);break}}else{Mt>U&&(Re.height+=Mt-U,Re.y=U),gt<ie&&(Re.height=ie-Mt),f.splice(d,1);break}}}return f},t.findHostInstance=Q4,t.findHostInstanceWithNoPortals=function(f){return f=Y(f),f=f!==null?S(f):null,f===null?null:f.stateNode},t.findHostInstanceWithWarning=function(f){return Q4(f)},t.flushControlled=function(f){var d=Nt;Nt|=1;var _=Kn.transition,E=Kt;try{Kn.transition=null,Kt=1,f()}finally{Kt=E,Kn.transition=_,Nt=d,Nt===0&&(ff(),Io())}},t.flushPassiveEffects=Cc,t.flushSync=V4,t.focusWithin=function(f,d){if(!lt)throw Error(o(363));for(f=A_(f),d=F4(f,d),d=Array.from(d),f=0;f<d.length;){var _=d[f++];if(!xe(_)){if(_.tag===5&&Ne(_.stateNode))return!0;for(_=_.child;_!==null;)d.push(_),_=_.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Kt},t.getFindAllNodesFailureDescription=function(f,d){if(!lt)throw Error(o(363));var _=0,E=[];f=[A_(f),0];for(var k=0;k<f.length;){var U=f[k++],ie=f[k++],he=d[ie];if((U.tag!==5||!xe(U))&&(C_(U,he)&&(E.push(T_(he)),ie++,ie>_&&(_=ie)),ie<d.length))for(U=U.child;U!==null;)f.push(U,ie),U=U.sibling}if(_<d.length){for(f=[];_<d.length;_++)f.push(T_(d[_]));return`findAllNodes was able to match part of the selector:
  `+(E.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},t.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return z(f.child.stateNode);default:return f.child.stateNode}},t.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:VD,findFiberByHostInstance:f.findFiberByHostInstance||HD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)f=!0;else{try{Om=d.inject(f),Po=d}catch{}f=!!d.checkDCE}}return f},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(f,d,_,E){if(!lt)throw Error(o(363));f=P_(f,d);var k=H(f,_,E).disconnect;return{disconnect:function(){k()}}},t.registerMutableSourceForHydration=function(f,d){var _=d._getVersion;_=_(d._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[d,_]:f.mutableSourceEagerHydrationData.push(d,_)},t.runWithPriority=function(f,d){var _=Kt;try{return Kt=f,d()}finally{Kt=_}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(f,d,_,E){var k=d.current,U=fi(),ie=ll(k);return _=J4(_),d.context===null?d.context=_:d.pendingContext=_,d=ga(U,ie),d.payload={element:f},E=E===void 0?null:E,E!==null&&(d.callback=E),sl(k,d),f=Ms(k,ie,U),f!==null&&Vm(f,k,ie),ie},t};(function(n){n.exports=Pq})(Cq);const Rq=JP(_3);var R5,I5;const ck=n=>n&&n.isOrthographicCamera,Iq=n=>n&&n.hasOwnProperty("current"),Mm=typeof window<"u"&&((R5=window.document)!=null&&R5.createElement||((I5=window.navigator)==null?void 0:I5.product)==="ReactNative")?_e.useLayoutEffect:_e.useEffect;function uk(n){const e=_e.useRef(n);return Mm(()=>void(e.current=n),[n]),e}function kq({set:n}){return Mm(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class fk extends _e.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}fk.getDerivedStateFromError=()=>({error:!0});const hk="__default",k5=new Map,Lq=n=>n&&!!n.memoized&&!!n.changes;function dk(n){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}const t0=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Gn={obj:n=>n===Object(n)&&!Gn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Gn.str(n)||Gn.num(n))return n===e;const s=Gn.obj(n);if(s&&r==="reference")return n===e;const o=Gn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;for(a in i?e:n)if(n[a]!==e[a])return!1;if(Gn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Nq(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Ff(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function b3(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const L5=/-\d+$/;function Yb(n,e,t){if(Gn.str(t)){if(L5.test(t)){const s=t.replace(L5,""),{target:o,key:a}=b3(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=b3(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function N5(n,e,t){var r,i;if(Gn.str(t)){const{target:s,key:o}=b3(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function pk(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const h=(u=n==null?void 0:n.__r3f)!=null?u:{},p=Object.entries(i),m=[];if(c){const g=Object.keys(l);for(let x=0;x<g.length;x++)i.hasOwnProperty(g[x])||p.unshift([g[x],hk+"remove"])}p.forEach(([g,x])=>{var v;if((v=n.__r3f)!=null&&v.primitive&&g==="object"||Gn.equ(x,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return m.push([g,x,!0,[]]);let b=[];g.includes("-")&&(b=g.split("-")),m.push([g,x,!1,b]);for(const w in i){const A=i[w];w.startsWith(`${g}-`)&&m.push([w,A,!1,w.split("-")])}});const y={...i};return h.memoizedProps&&h.memoizedProps.args&&(y.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(y.attach=h.memoizedProps.attach),{memoized:y,changes:m}}function Jb(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=Lq(e)?e:pk(n,e),u=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[m,y,g,x]=c[p],v=n,b=v[m];if(x.length&&(b=x.reduce((w,A)=>w[A],n),!(b&&b.set))){const[w,...A]=x.reverse();v=A.reverse().reduce((T,D)=>T[D],n),m=w}if(y===hk+"remove")if(v.constructor){let w=k5.get(v.constructor);w||(w=new v.constructor,k5.set(v.constructor,w)),y=w[m]}else y=0;if(g)y?s.handlers[m]=y:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(b&&b.set&&(b.copy||b instanceof gu)){if(Array.isArray(y))b.fromArray?b.fromArray(y):b.set(...y);else if(b.copy&&y&&y.constructor&&b.constructor===y.constructor)b.copy(y);else if(y!==void 0){const w=b instanceof et;!w&&b.setScalar?b.setScalar(y):b instanceof gu&&y instanceof gu?b.mask=y.mask:b.set(y),!("ColorManagement"in ry)&&!a.linear&&w&&b.convertSRGBToLinear()}}else v[m]=y,!a.linear&&v[m]instanceof qn&&v[m].format===Di&&v[m].type===Xa&&(v[m].encoding=on);zf(n)}if(s.parent&&a.internal&&n.raycast&&u!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=n.__r3f)!=null&&i.parent&&w3(n),n}function zf(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function w3(n){n.onUpdate==null||n.onUpdate(n)}function Dq(n,e){n.manual||(ck(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Oq(n,e,t){const r=t.pop(),i=t.reduce((s,o)=>s[o],n);return i[r]=e}function Cx(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Bq(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Rl.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Rl.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Rl.ContinuousEventPriority;default:return Rl.DefaultEventPriority}}function mk(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function Fq(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{mk(t.capturedMap,e,r,i)})}function zq(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+h*h))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+u]}))}function r(l,c){const u=n.getState(),h=new Set,p=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let v=0;v<m.length;v++){const b=t0(m[v]);b&&(b.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function y(v){const b=t0(v);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var w;b.events.compute==null||b.events.compute(l,b,(w=b.previousRoot)==null?void 0:w.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(v,!0):[]}let g=m.flatMap(y).sort((v,b)=>{const w=t0(v.object),A=t0(b.object);return!w||!A?v.distance-b.distance:A.events.priority-w.events.priority||v.distance-b.distance}).filter(v=>{const b=Cx(v);return h.has(b)?!1:(h.add(b),!0)});u.events.filter&&(g=u.events.filter(g,u));for(const v of g){let b=v.object;for(;b;){var x;(x=b.__r3f)!=null&&x.eventCount&&p.push({...v,eventObject:b}),b=b.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let v of u.internal.capturedMap.get(l.pointerId).values())h.has(Cx(v.intersection))||p.push(v.intersection);return p}function i(l,c,u,h){const p=n.getState();if(l.length){const m={stopped:!1};for(const y of l){const g=t0(y.object)||p,{raycaster:x,pointer:v,camera:b,internal:w}=g,A=new ee(v.x,v.y,0).unproject(b),T=G=>{var Y,oe;return(Y=(oe=w.capturedMap.get(G))==null?void 0:oe.has(y.eventObject))!=null?Y:!1},D=G=>{const Y={intersection:y,target:c.target};w.capturedMap.has(G)?w.capturedMap.get(G).set(y.eventObject,Y):w.capturedMap.set(G,new Map([[y.eventObject,Y]])),c.target.setPointerCapture(G)},O=G=>{const Y=w.capturedMap.get(G);Y&&mk(w.capturedMap,y.eventObject,Y,G)};let C={};for(let G in c){let Y=c[G];typeof Y!="function"&&(C[G]=Y)}let B={...y,...C,pointer:v,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:A,ray:x.ray,camera:b,stopPropagation(){const G="pointerId"in c&&w.capturedMap.get(c.pointerId);if((!G||G.has(y.eventObject))&&(B.stopped=m.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(Y=>Y.eventObject===y.eventObject))){const Y=l.slice(0,l.indexOf(y));s([...Y,y])}},target:{hasPointerCapture:T,setPointerCapture:D,releasePointerCapture:O},currentTarget:{hasPointerCapture:T,setPointerCapture:D,releasePointerCapture:O},nativeEvent:c};if(h(B),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(h=>h.object===u.object&&h.index===u.index&&h.instanceId===u.instanceId)){const p=u.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(Cx(u)),p!=null&&p.eventCount){const y={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(y),m.onPointerLeave==null||m.onPointerLeave(y)}}}function o(l,c){for(let u=0;u<c.length;u++){const h=c[u].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))}}return function(u){const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=u;const m=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=r(u,m?t:void 0),v=y?e(u):0;l==="onPointerDown"&&(p.initialClick=[u.offsetX,u.offsetY],p.initialHits=x.map(w=>w.eventObject)),y&&!x.length&&v<=2&&(o(u,p.interaction),h&&h(u)),m&&s(x);function b(w){const A=w.eventObject,T=A.__r3f,D=T==null?void 0:T.handlers;if(T!=null&&T.eventCount)if(m){if(D.onPointerOver||D.onPointerEnter||D.onPointerOut||D.onPointerLeave){const O=Cx(w),C=p.hovered.get(O);C?C.stopped&&w.stopPropagation():(p.hovered.set(O,w),D.onPointerOver==null||D.onPointerOver(w),D.onPointerEnter==null||D.onPointerEnter(w))}D.onPointerMove==null||D.onPointerMove(w)}else{const O=D[l];O?(!y||p.initialHits.includes(A))&&(o(u,p.interaction.filter(C=>!p.initialHits.includes(C))),O(w)):y&&p.initialHits.includes(A)&&o(u,p.interaction.filter(C=>!p.initialHits.includes(C)))}}i(x,u,v,b)}}return{handlePointer:a}}let S3={},Uq=n=>void(S3={...S3,...n});function Vq(n,e){function t(u,{args:h=[],attach:p,...m},y){let g=`${u[0].toUpperCase()}${u.slice(1)}`,x;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=m.object;x=Ff(v,{type:u,root:y,attach:p,primitive:!0})}else{const v=S3[g];if(!v)throw new Error(`R3F: ${g} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");x=Ff(new v(...h),{type:u,root:y,attach:p,memoizedProps:{args:h}})}return x.__r3f.attach===void 0&&(x instanceof Lt?x.__r3f.attach="geometry":x instanceof zr&&(x.__r3f.attach="material")),g!=="inject"&&Jb(x,m),x}function r(u,h){let p=!1;if(h){var m,y;(m=h.__r3f)!=null&&m.attach?Yb(u,h,h.__r3f.attach):h.isObject3D&&u.isObject3D&&(u.add(h),p=!0),p||(y=u.__r3f)==null||y.objects.push(h),h.__r3f||Ff(h,{}),h.__r3f.parent=u,w3(h),zf(h)}}function i(u,h,p){let m=!1;if(h){var y,g;if((y=h.__r3f)!=null&&y.attach)Yb(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){h.parent=u,h.dispatchEvent({type:"added"});const x=u.children.filter(b=>b!==h),v=x.indexOf(p);u.children=[...x.slice(0,v),h,...x.slice(v)],m=!0}m||(g=u.__r3f)==null||g.objects.push(h),h.__r3f||Ff(h,{}),h.__r3f.parent=u,w3(h),zf(h)}}function s(u,h,p=!1){u&&[...u].forEach(m=>o(h,m,p))}function o(u,h,p){if(h){var m,y,g;if(h.__r3f&&(h.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(A=>A!==h)),(y=h.__r3f)!=null&&y.attach)N5(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){var x;u.remove(h),(x=h.__r3f)!=null&&x.root&&Fq(h.__r3f.root,h)}const b=(g=h.__r3f)==null?void 0:g.primitive,w=p===void 0?h.dispose!==null&&!b:p;if(!b){var v;s((v=h.__r3f)==null?void 0:v.objects,h,w),s(h.children,h,w)}h.__r3f&&(delete h.__r3f.root,delete h.__r3f.objects,delete h.__r3f.handlers,delete h.__r3f.memoizedProps,b||delete h.__r3f),w&&h.dispose&&h.type!=="Scene"&&Np.unstable_scheduleCallback(Np.unstable_IdlePriority,()=>{try{h.dispose()}catch{}}),zf(u)}}function a(u,h,p,m){var y;const g=(y=u.__r3f)==null?void 0:y.parent;if(!g)return;const x=t(h,p,u.__r3f.root);if(u.children){for(const v of u.children)v.__r3f&&r(x,v);u.children=u.children.filter(v=>!v.__r3f)}u.__r3f.objects.forEach(v=>r(x,v)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(g,u),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),r(g,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[m,m.alternate].forEach(v=>{v!==null&&(v.stateNode=x,v.ref&&(typeof v.ref=="function"?v.ref(x):v.ref.current=x))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Rq({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,h)=>{if(!h)return;const p=u.getState().scene;p.__r3f&&(p.__r3f.root=u,r(p,h))},removeChildFromContainer:(u,h)=>{h&&o(u.getState().scene,h)},insertInContainerBefore:(u,h,p)=>{if(!h||!p)return;const m=u.getState().scene;m.__r3f&&i(m,h,p)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var h;const p=(h=u==null?void 0:u.__r3f)!=null?h:{};return Boolean(p.handlers)},prepareUpdate(u,h,p,m){if(u.__r3f.primitive&&m.object&&m.object!==u)return[!0];{const{args:y=[],children:g,...x}=m,{args:v=[],children:b,...w}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((T,D)=>T!==v[D]))return[!0];const A=pk(u,x,w,!0);return A.changes.length?[!1,A]:null}},commitUpdate(u,[h,p],m,y,g,x){h?a(u,m,g,x):Jb(u,p)},commitMount(u,h,p,m){var y;const g=(y=u.__r3f)!=null?y:{};u.raycast&&g.handlers&&g.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Ff(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var h;const{attach:p,parent:m}=(h=u.__r3f)!=null?h:{};p&&m&&N5(m,u,p),u.isObject3D&&(u.visible=!1),zf(u)},unhideInstance(u,h){var p;const{attach:m,parent:y}=(p=u.__r3f)!=null?p:{};m&&y&&Yb(y,u,m),(u.isObject3D&&h.visible==null||h.visible)&&(u.visible=!0),zf(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Rl.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Gn.fun(performance.now)?performance.now:Gn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Gn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Gn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Jb}}const gk=n=>!!(n!=null&&n.render),xk=_e.createContext(null),Hq=(n,e)=>{const t=Aq((a,l)=>{const c=new ee,u=new ee,h=new ee;function p(v=l().camera,b=u,w=l().size){const{width:A,height:T,top:D,left:O}=w,C=A/T;b instanceof ee?h.copy(b):h.set(...b);const B=v.getWorldPosition(c).distanceTo(h);if(ck(v))return{width:A/v.zoom,height:T/v.zoom,top:D,left:O,factor:1,distance:B,aspect:C};{const G=v.fov*Math.PI/180,Y=2*Math.tan(G/2)*B,oe=Y*(A/T);return{width:oe,height:Y,top:D,left:O,factor:A/oe,distance:B,aspect:C}}}let m;const y=v=>a(b=>({performance:{...b.performance,current:v}})),g=new Le;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(v=1)=>n(l(),v),advance:(v,b)=>e(v,b,l()),legacy:!1,linear:!1,flat:!1,scene:Ff(new HM),controls:null,clock:new aE,pointer:g,mouse:g,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=l();m&&clearTimeout(m),v.performance.current!==v.performance.min&&y(v.performance.min),m=setTimeout(()=>y(l().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:v=>a(b=>({...b,events:{...b.events,...v}})),setSize:(v,b,w,A,T)=>{const D=l().camera,O={width:v,height:b,top:A||0,left:T||0,updateStyle:w};a(C=>({size:O,viewport:{...C.viewport,...p(D,u,O)}}))},setDpr:v=>a(b=>{const w=dk(v);return{viewport:{...b.viewport,dpr:w,initialDpr:b.viewport.initialDpr||w}}}),setFrameloop:(v="always")=>{const b=l().clock;b.stop(),b.elapsedTime=0,v!=="never"&&(b.start(),b.elapsedTime=0),a(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:_e.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,b,w)=>{const A=l().internal;return A.priority=A.priority+(b>0?1:0),A.subscribers.push({ref:v,priority:b,store:w}),A.subscribers=A.subscribers.sort((T,D)=>T.priority-D.priority),()=>{const T=l().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(b>0?1:0),T.subscribers=T.subscribers.filter(D=>D.ref!==v))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:h}=t.getState();(l!==i||c.dpr!==s)&&(i=l,s=c.dpr,Dq(a,l),u.setPixelRatio(c.dpr),u.setSize(l.width,l.height,l.updateStyle)),a!==o&&(o=a,h(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Tx,Wq=new Set,Gq=new Set,jq=new Set;function Qb(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function n0(n,e){switch(n){case"before":return Qb(Wq,e);case"after":return Qb(Gq,e);case"tail":return Qb(jq,e)}}let Zb,ew;function tw(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),Zb=e.internal.subscribers,Tx=0;Tx<Zb.length;Tx++)ew=Zb[Tx],ew.ref.current(ew.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function qq(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,n0("before",l);for(const u of n.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(t+=tw(l,i))}if(n0("after",l),t===0)return n0("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return n.forEach(h=>o(h.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,h){if(c&&n0("before",l),u)tw(l,u,h);else for(const p of n.values())tw(l,p.store.getState());c&&n0("after",l)}return{loop:s,invalidate:o,advance:a}}function yk(){const n=_e.useContext(xk);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function zo(n=t=>t,e){return yk()(n,e)}function fE(n,e=0){const t=yk(),r=t.getState().internal.subscribe,i=uk(n);return Mm(()=>r(i,e,t),[e,r,t]),null}const Fh=new Map,{invalidate:D5,advance:O5}=qq(Fh),{reconciler:iy,applyProps:Px}=Vq(Fh,Bq),r0={objects:"shallow",strict:!1},Xq=(n,e)=>{const t=typeof n=="function"?n(e):n;return gk(t)?t:new VM({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function Kq(n){return n instanceof HTMLCanvasElement}function $q(n,e){if(e)return e;if(Kq(n)&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}return{width:0,height:0,top:0,left:0}}function Yq(n){const e=Fh.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||Hq(D5,O5),o=t||iy.createContainer(s,Rl.ConcurrentRoot,null,!1,null,"",i,null);e||Fh.set(n,{fiber:o,store:s});let a,l=!1;return{configure(c={}){let{gl:u,size:h,events:p,onCreated:m,shadows:y=!1,linear:g=!1,flat:x=!1,legacy:v=!1,orthographic:b=!1,frameloop:w="always",dpr:A=[1,2],performance:T,raycaster:D,camera:O,onPointerMissed:C}=c,B=s.getState(),G=B.gl;B.gl||B.set({gl:G=Xq(u,n)});let Y=B.raycaster;Y||B.set({raycaster:Y=new ok});const{params:oe,...V}=D||{};if(Gn.equ(V,Y,r0)||Px(Y,{...V}),Gn.equ(oe,Y.params,r0)||Px(Y,{params:{...Y.params,...oe}}),!B.camera){const F=O instanceof cm,X=F?O:b?new ql(0,0,0,0,.1,1e3):new An(75,0,.1,1e3);F||(X.position.z=5,O&&Px(X,O),O!=null&&O.rotation||X.lookAt(0,0,0)),B.set({camera:X})}if(!B.xr){const F=(P,M)=>{const W=s.getState();W.frameloop!=="never"&&O5(P,!0,W,M)},X=()=>{const P=s.getState();P.gl.xr.enabled=P.gl.xr.isPresenting,P.gl.xr.setAnimationLoop(P.gl.xr.isPresenting?F:null),P.gl.xr.isPresenting||D5(P)},$={connect(){const P=s.getState().gl;P.xr.addEventListener("sessionstart",X),P.xr.addEventListener("sessionend",X)},disconnect(){const P=s.getState().gl;P.xr.removeEventListener("sessionstart",X),P.xr.removeEventListener("sessionend",X)}};G.xr&&$.connect(),B.set({xr:$})}if(G.shadowMap){const F=G.shadowMap.enabled,X=G.shadowMap.type;if(G.shadowMap.enabled=!!y,Gn.boo(y))G.shadowMap.type=D0;else if(Gn.str(y)){var S;const $={basic:lI,percentage:Zy,soft:D0,variance:nu};G.shadowMap.type=(S=$[y])!=null?S:D0}else Gn.obj(y)&&Object.assign(G.shadowMap,y);(F!==G.shadowMap.enabled||X!==G.shadowMap.type)&&(G.shadowMap.needsUpdate=!0)}"ColorManagement"in ry&&Oq(ry,v,["ColorManagement","legacyMode"]);const L=g?Ka:on,z=x?bo:RM;G.outputEncoding!==L&&(G.outputEncoding=L),G.toneMapping!==z&&(G.toneMapping=z),B.legacy!==v&&B.set(()=>({legacy:v})),B.linear!==g&&B.set(()=>({linear:g})),B.flat!==x&&B.set(()=>({flat:x})),u&&!Gn.fun(u)&&!gk(u)&&!Gn.equ(u,G,r0)&&Px(G,u),p&&!B.events.handlers&&B.set({events:p(s)}),A&&B.viewport.dpr!==dk(A)&&B.setDpr(A);const q=$q(n,h);return Gn.equ(q,B.size,r0)||B.setSize(q.width,q.height,q.updateStyle,q.top,q.left),B.frameloop!==w&&B.setFrameloop(w),B.onPointerMissed||B.set({onPointerMissed:C}),T&&!Gn.equ(T,B.performance,r0)&&B.set(F=>({performance:{...F.performance,...T}})),a=m,l=!0,this},render(c){return l||this.configure(),iy.updateContainer(_e.createElement(Jq,{store:s,children:c,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){vk(n)}}}function Jq({store:n,children:e,onCreated:t,rootElement:r}){return Mm(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),_e.createElement(xk.Provider,{value:n},e)}function vk(n,e){const t=Fh.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),iy.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Nq(i),Fh.delete(n),e&&e(n)}catch{}},500)})}}iy.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:_e.version});function Dp(){return Dp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Dp.apply(this,arguments)}function M3(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,t||(a=n.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=t&&!r;return r||(r=setTimeout(l,e)),u&&(a=n.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}M3.debounce=M3;var B5=M3;function Qq(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=_e.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=_e.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,h=_e.useRef(!1);_e.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,m,y]=_e.useMemo(()=>{const b=()=>{if(!l.current.element)return;const{left:w,top:A,width:T,height:D,bottom:O,right:C,x:B,y:G}=l.current.element.getBoundingClientRect(),Y={left:w,top:A,width:T,height:D,bottom:O,right:C,x:B,y:G};l.current.element instanceof HTMLElement&&i&&(Y.height=l.current.element.offsetHeight,Y.width=l.current.element.offsetWidth),Object.freeze(Y),h.current&&!nX(l.current.lastBounds,Y)&&a(l.current.lastBounds=Y)};return[b,u?B5(b,u):b,c?B5(b,c):b]},[a,i,c,u]);function g(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){l.current.element&&(l.current.resizeObserver=new s(y),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(b=>b.addEventListener("scroll",y,{capture:!0,passive:!0})))}const v=b=>{!b||b===l.current.element||(g(),l.current.element=b,l.current.scrollContainers=_k(b),x())};return eX(y,Boolean(t)),Zq(m),_e.useEffect(()=>{g(),x()},[t,y,m]),_e.useEffect(()=>g,[]),[v,o,p]}function Zq(n){_e.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function eX(n,e){_e.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function _k(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,..._k(n.parentElement)]}const tX=["x","y","top","bottom","left","right","width","height"],nX=(n,e)=>tX.every(t=>n[t]===e[t]);var rX=Object.defineProperty,iX=Object.defineProperties,sX=Object.getOwnPropertyDescriptors,F5=Object.getOwnPropertySymbols,oX=Object.prototype.hasOwnProperty,aX=Object.prototype.propertyIsEnumerable,z5=(n,e,t)=>e in n?rX(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,U5=(n,e)=>{for(var t in e||(e={}))oX.call(e,t)&&z5(n,t,e[t]);if(F5)for(var t of F5(e))aX.call(e,t)&&z5(n,t,e[t]);return n},lX=(n,e)=>iX(n,sX(e));function bk(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=bk(r,e,t);if(i)return i;r=e?null:r.sibling}}function wk(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const hE=wk(_e.createContext(null));class Sk extends _e.Component{render(){return _e.createElement(hE.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:cX,ReactCurrentDispatcher:uX}=_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function fX(){const n=_e.useContext(hE);if(!n)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=_e.useId();return _e.useMemo(()=>{var r;return(r=cX.current)!=null?r:bk(n,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[n,e])}function hX(){var n,e;const t=fX(),[r]=_e.useState(()=>new Map);r.clear();let i=t;for(;i;){const s=(n=i.type)==null?void 0:n._context;s&&s!==hE&&!r.has(s)&&r.set(s,(e=uX.current)==null?void 0:e.readContext(wk(s))),i=i.return}return _e.useMemo(()=>Array.from(r.keys()).reduce((s,o)=>a=>_e.createElement(s,null,_e.createElement(o.Provider,lX(U5({},a),{value:r.get(o)}))),s=>_e.createElement(Sk,U5({},s))),[r])}const nw={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function dX(n){const{handlePointer:e}=zq(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(nw).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=nw[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=nw[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const pX=_e.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=dX,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:h,legacy:p,orthographic:m,frameloop:y,dpr:g,performance:x,raycaster:v,camera:b,onPointerMissed:w,onCreated:A,...T},D){_e.useMemo(()=>Uq(ry),[]);const O=hX(),[C,B]=Qq({scroll:!0,debounce:{scroll:50,resize:0},...r}),G=_e.useRef(null),Y=_e.useRef(null),[oe,V]=_e.useState(null);_e.useImperativeHandle(D,()=>G.current);const S=uk(w),[L,z]=_e.useState(!1),[q,F]=_e.useState(!1);if(L)throw L;if(q)throw q;const X=_e.useRef(null);B.width>0&&B.height>0&&oe&&(X.current||(X.current=Yq(oe)),X.current.configure({gl:s,events:o,shadows:c,linear:u,flat:h,legacy:p,orthographic:m,frameloop:y,dpr:g,performance:x,raycaster:v,camera:b,size:B,onPointerMissed:(...P)=>S.current==null?void 0:S.current(...P),onCreated:P=>{P.events.connect==null||P.events.connect(a?Iq(a)?a.current:a:Y.current),l&&P.setEvents({compute:(M,W)=>{const Z=M[l+"X"],N=M[l+"Y"];W.pointer.set(Z/W.size.width*2-1,-(N/W.size.height)*2+1),W.raycaster.setFromCamera(W.pointer,W.camera)}}),A==null||A(P)}}),X.current.render(_e.createElement(O,null,_e.createElement(fk,{set:F},_e.createElement(_e.Suspense,{fallback:_e.createElement(kq,{set:z})},e))))),Mm(()=>{V(G.current)},[]),_e.useEffect(()=>{if(oe)return()=>vk(oe)},[oe]);const $=a?"none":"auto";return _e.createElement("div",Dp({ref:Y,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:$,...i}},T),_e.createElement("div",{ref:C,style:{width:"100%",height:"100%"}},_e.createElement("canvas",{ref:G,style:{display:"block"}},t)))}),rw=_e.forwardRef(function(e,t){return _e.createElement(Sk,null,_e.createElement(pX,Dp({},e,{ref:t})))});function Op(n){return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(n)}function mX(n,e){if(Op(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Op(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function gX(n){var e=mX(n,"string");return Op(e)==="symbol"?e:String(e)}function At(n,e,t){return e=gX(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const V5=(n,e)=>(n%e+e)%e;let xX=class extends ua{constructor(e,t){super(),At(this,"object",void 0),At(this,"domElement",void 0),At(this,"enabled",!0),At(this,"target",new ee),At(this,"minDistance",0),At(this,"maxDistance",1/0),At(this,"minZoom",0),At(this,"maxZoom",1/0),At(this,"minPolarAngle",0),At(this,"maxPolarAngle",Math.PI),At(this,"minAzimuthAngle",-1/0),At(this,"maxAzimuthAngle",1/0),At(this,"enableDamping",!1),At(this,"dampingFactor",.05),At(this,"enableZoom",!0),At(this,"zoomSpeed",1),At(this,"enableRotate",!0),At(this,"rotateSpeed",1),At(this,"enablePan",!0),At(this,"panSpeed",1),At(this,"screenSpacePanning",!0),At(this,"keyPanSpeed",7),At(this,"autoRotate",!1),At(this,"autoRotateSpeed",2),At(this,"reverseOrbit",!1),At(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),At(this,"mouseButtons",{LEFT:Wc.ROTATE,MIDDLE:Wc.DOLLY,RIGHT:Wc.PAN}),At(this,"touches",{ONE:Gc.ROTATE,TWO:Gc.DOLLY_PAN}),At(this,"target0",void 0),At(this,"position0",void 0),At(this,"zoom0",void 0),At(this,"_domElementKeyEvents",null),At(this,"getPolarAngle",void 0),At(this,"getAzimuthalAngle",void 0),At(this,"setPolarAngle",void 0),At(this,"setAzimuthalAngle",void 0),At(this,"getDistance",void 0),At(this,"listenToKeyEvents",void 0),At(this,"saveState",void 0),At(this,"reset",void 0),At(this,"update",void 0),At(this,"connect",void 0),At(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof An?this.object.zoom:1,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=K=>{let ne=V5(K,2*Math.PI),Me=u.phi;Me<0&&(Me+=2*Math.PI),ne<0&&(ne+=2*Math.PI);let Pe=Math.abs(ne-Me);2*Math.PI-Pe<Pe&&(ne<Me?ne+=2*Math.PI:Me+=2*Math.PI),h.phi=ne-Me,r.update()},this.setAzimuthalAngle=K=>{let ne=V5(K,2*Math.PI),Me=u.theta;Me<0&&(Me+=2*Math.PI),ne<0&&(ne+=2*Math.PI);let Pe=Math.abs(ne-Me);2*Math.PI-Pe<Pe&&(ne<Me?ne+=2*Math.PI:Me+=2*Math.PI),h.theta=ne-Me,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=K=>{K.addEventListener("keydown",xe),this._domElementKeyEvents=K},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object instanceof An?r.object.zoom:1},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object instanceof An&&(r.object.zoom=r.zoom0,r.object.updateProjectionMatrix()),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const K=new ee,ne=new ii().setFromUnitVectors(e.up,new ee(0,1,0)),Me=ne.clone().invert(),Pe=new ee,Be=new ii,Ze=2*Math.PI;return function(){const le=r.object.position;K.copy(le).sub(r.target),K.applyQuaternion(ne),u.setFromVector3(K),r.autoRotate&&l===a.NONE&&oe(G()),r.enableDamping?(u.theta+=h.theta*r.dampingFactor,u.phi+=h.phi*r.dampingFactor):(u.theta+=h.theta,u.phi+=h.phi);let Ae=r.minAzimuthAngle,Ie=r.maxAzimuthAngle;return isFinite(Ae)&&isFinite(Ie)&&(Ae<-Math.PI?Ae+=Ze:Ae>Math.PI&&(Ae-=Ze),Ie<-Math.PI?Ie+=Ze:Ie>Math.PI&&(Ie-=Ze),Ae<=Ie?u.theta=Math.max(Ae,Math.min(Ie,u.theta)):u.theta=u.theta>(Ae+Ie)/2?Math.max(Ae,u.theta):Math.min(Ie,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=p,u.radius=Math.max(r.minDistance,Math.min(r.maxDistance,u.radius)),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),K.setFromSpherical(u),K.applyQuaternion(Me),le.copy(r.target).add(K),r.object.lookAt(r.target),r.enableDamping===!0?(h.theta*=1-r.dampingFactor,h.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(h.set(0,0,0),m.set(0,0,0)),p=1,y||Pe.distanceToSquared(r.object.position)>c||8*(1-Be.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Pe.copy(r.object.position),Be.copy(r.object.quaternion),y=!1,!0):!1}})(),this.connect=K=>{K===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=K,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",H),r.domElement.addEventListener("pointerdown",$e),r.domElement.addEventListener("pointercancel",lt),r.domElement.addEventListener("wheel",Q)},this.dispose=()=>{var K,ne,Me,Pe,Be,Ze;(K=r.domElement)===null||K===void 0||K.removeEventListener("contextmenu",H),(ne=r.domElement)===null||ne===void 0||ne.removeEventListener("pointerdown",$e),(Me=r.domElement)===null||Me===void 0||Me.removeEventListener("pointercancel",lt),(Pe=r.domElement)===null||Pe===void 0||Pe.removeEventListener("wheel",Q),(Be=r.domElement)===null||Be===void 0||Be.ownerDocument.removeEventListener("pointermove",je),(Ze=r.domElement)===null||Ze===void 0||Ze.ownerDocument.removeEventListener("pointerup",tt),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",xe)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new v3,h=new v3;let p=1;const m=new ee;let y=!1;const g=new Le,x=new Le,v=new Le,b=new Le,w=new Le,A=new Le,T=new Le,D=new Le,O=new Le,C=[],B={};function G(){return 2*Math.PI/60/60*r.autoRotateSpeed}function Y(){return Math.pow(.95,r.zoomSpeed)}function oe(K){r.reverseOrbit?h.theta+=K:h.theta-=K}function V(K){r.reverseOrbit?h.phi+=K:h.phi-=K}const S=(()=>{const K=new ee;return function(Me,Pe){K.setFromMatrixColumn(Pe,0),K.multiplyScalar(-Me),m.add(K)}})(),L=(()=>{const K=new ee;return function(Me,Pe){r.screenSpacePanning===!0?K.setFromMatrixColumn(Pe,1):(K.setFromMatrixColumn(Pe,0),K.crossVectors(r.object.up,K)),K.multiplyScalar(Me),m.add(K)}})(),z=(()=>{const K=new ee;return function(Me,Pe){const Be=r.domElement;if(Be&&r.object instanceof An&&r.object.isPerspectiveCamera){const Ze=r.object.position;K.copy(Ze).sub(r.target);let Xe=K.length();Xe*=Math.tan(r.object.fov/2*Math.PI/180),S(2*Me*Xe/Be.clientHeight,r.object.matrix),L(2*Pe*Xe/Be.clientHeight,r.object.matrix)}else Be&&r.object instanceof ql&&r.object.isOrthographicCamera?(S(Me*(r.object.right-r.object.left)/r.object.zoom/Be.clientWidth,r.object.matrix),L(Pe*(r.object.top-r.object.bottom)/r.object.zoom/Be.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function q(K){r.object instanceof An&&r.object.isPerspectiveCamera?p/=K:r.object instanceof ql&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*K)),r.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function F(K){r.object instanceof An&&r.object.isPerspectiveCamera?p*=K:r.object instanceof ql&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/K)),r.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function X(K){g.set(K.clientX,K.clientY)}function $(K){T.set(K.clientX,K.clientY)}function P(K){b.set(K.clientX,K.clientY)}function M(K){x.set(K.clientX,K.clientY),v.subVectors(x,g).multiplyScalar(r.rotateSpeed);const ne=r.domElement;ne&&(oe(2*Math.PI*v.x/ne.clientHeight),V(2*Math.PI*v.y/ne.clientHeight)),g.copy(x),r.update()}function W(K){D.set(K.clientX,K.clientY),O.subVectors(D,T),O.y>0?q(Y()):O.y<0&&F(Y()),T.copy(D),r.update()}function Z(K){w.set(K.clientX,K.clientY),A.subVectors(w,b).multiplyScalar(r.panSpeed),z(A.x,A.y),b.copy(w),r.update()}function N(K){K.deltaY<0?F(Y()):K.deltaY>0&&q(Y()),r.update()}function J(K){let ne=!1;switch(K.code){case r.keys.UP:z(0,r.keyPanSpeed),ne=!0;break;case r.keys.BOTTOM:z(0,-r.keyPanSpeed),ne=!0;break;case r.keys.LEFT:z(r.keyPanSpeed,0),ne=!0;break;case r.keys.RIGHT:z(-r.keyPanSpeed,0),ne=!0;break}ne&&(K.preventDefault(),r.update())}function ue(){if(C.length==1)g.set(C[0].pageX,C[0].pageY);else{const K=.5*(C[0].pageX+C[1].pageX),ne=.5*(C[0].pageY+C[1].pageY);g.set(K,ne)}}function ae(){if(C.length==1)b.set(C[0].pageX,C[0].pageY);else{const K=.5*(C[0].pageX+C[1].pageX),ne=.5*(C[0].pageY+C[1].pageY);b.set(K,ne)}}function me(){const K=C[0].pageX-C[1].pageX,ne=C[0].pageY-C[1].pageY,Me=Math.sqrt(K*K+ne*ne);T.set(0,Me)}function we(){r.enableZoom&&me(),r.enablePan&&ae()}function Ce(){r.enableZoom&&me(),r.enableRotate&&ue()}function ce(K){if(C.length==1)x.set(K.pageX,K.pageY);else{const Me=se(K),Pe=.5*(K.pageX+Me.x),Be=.5*(K.pageY+Me.y);x.set(Pe,Be)}v.subVectors(x,g).multiplyScalar(r.rotateSpeed);const ne=r.domElement;ne&&(oe(2*Math.PI*v.x/ne.clientHeight),V(2*Math.PI*v.y/ne.clientHeight)),g.copy(x)}function ye(K){if(C.length==1)w.set(K.pageX,K.pageY);else{const ne=se(K),Me=.5*(K.pageX+ne.x),Pe=.5*(K.pageY+ne.y);w.set(Me,Pe)}A.subVectors(w,b).multiplyScalar(r.panSpeed),z(A.x,A.y),b.copy(w)}function ve(K){const ne=se(K),Me=K.pageX-ne.x,Pe=K.pageY-ne.y,Be=Math.sqrt(Me*Me+Pe*Pe);D.set(0,Be),O.set(0,Math.pow(D.y/T.y,r.zoomSpeed)),q(O.y),T.copy(D)}function De(K){r.enableZoom&&ve(K),r.enablePan&&ye(K)}function We(K){r.enableZoom&&ve(K),r.enableRotate&&ce(K)}function $e(K){if(r.enabled!==!1){if(C.length===0){var ne,Me;(ne=r.domElement)===null||ne===void 0||ne.ownerDocument.addEventListener("pointermove",je),(Me=r.domElement)===null||Me===void 0||Me.ownerDocument.addEventListener("pointerup",tt)}R(K),K.pointerType==="touch"?Oe(K):at(K)}}function je(K){r.enabled!==!1&&(K.pointerType==="touch"?Ne(K):re(K))}function tt(K){if(I(K),C.length===0){var ne,Me,Pe;(ne=r.domElement)===null||ne===void 0||ne.releasePointerCapture(K.pointerId),(Me=r.domElement)===null||Me===void 0||Me.ownerDocument.removeEventListener("pointermove",je),(Pe=r.domElement)===null||Pe===void 0||Pe.ownerDocument.removeEventListener("pointerup",tt)}r.dispatchEvent(o),l=a.NONE}function lt(K){I(K)}function at(K){let ne;switch(K.button){case 0:ne=r.mouseButtons.LEFT;break;case 1:ne=r.mouseButtons.MIDDLE;break;case 2:ne=r.mouseButtons.RIGHT;break;default:ne=-1}switch(ne){case Wc.DOLLY:if(r.enableZoom===!1)return;$(K),l=a.DOLLY;break;case Wc.ROTATE:if(K.ctrlKey||K.metaKey||K.shiftKey){if(r.enablePan===!1)return;P(K),l=a.PAN}else{if(r.enableRotate===!1)return;X(K),l=a.ROTATE}break;case Wc.PAN:if(K.ctrlKey||K.metaKey||K.shiftKey){if(r.enableRotate===!1)return;X(K),l=a.ROTATE}else{if(r.enablePan===!1)return;P(K),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function re(K){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;M(K);break;case a.DOLLY:if(r.enableZoom===!1)return;W(K);break;case a.PAN:if(r.enablePan===!1)return;Z(K);break}}function Q(K){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(K.preventDefault(),r.dispatchEvent(s),N(K),r.dispatchEvent(o))}function xe(K){r.enabled===!1||r.enablePan===!1||J(K)}function Oe(K){switch(j(K),C.length){case 1:switch(r.touches.ONE){case Gc.ROTATE:if(r.enableRotate===!1)return;ue(),l=a.TOUCH_ROTATE;break;case Gc.PAN:if(r.enablePan===!1)return;ae(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Gc.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;we(),l=a.TOUCH_DOLLY_PAN;break;case Gc.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ce(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ne(K){switch(j(K),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;ce(K),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;ye(K),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;De(K),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;We(K),r.update();break;default:l=a.NONE}}function H(K){r.enabled!==!1&&K.preventDefault()}function R(K){C.push(K)}function I(K){delete B[K.pointerId];for(let ne=0;ne<C.length;ne++)if(C[ne].pointerId==K.pointerId){C.splice(ne,1);return}}function j(K){let ne=B[K.pointerId];ne===void 0&&(ne=new Le,B[K.pointerId]=ne),ne.set(K.pageX,K.pageY)}function se(K){const ne=K.pointerId===C[0].pointerId?C[1]:C[0];return B[ne.pointerId]}t!==void 0&&this.connect(t),this.update()}};const Mk=_e.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,onChange:s,onStart:o,onEnd:a,...l},c)=>{const u=zo(T=>T.invalidate),h=zo(T=>T.camera),p=zo(T=>T.gl),m=zo(T=>T.events),y=zo(T=>T.setEvents),g=zo(T=>T.set),x=zo(T=>T.get),v=zo(T=>T.performance),b=e||h,w=r||m.connected||p.domElement,A=_e.useMemo(()=>new xX(b),[b]);return fE(()=>{A.enabled&&A.update()},-1),_e.useEffect(()=>(A.connect(w),()=>void A.dispose()),[w,t,A,u]),_e.useEffect(()=>{const T=C=>{u(),t&&v.regress(),s&&s(C)},D=C=>{o&&o(C)},O=C=>{a&&a(C)};return A.addEventListener("change",T),A.addEventListener("start",D),A.addEventListener("end",O),()=>{A.removeEventListener("start",D),A.removeEventListener("end",O),A.removeEventListener("change",T)}},[s,o,a,A,u,y]),_e.useEffect(()=>{if(n){const T=x().controls;return g({controls:A}),()=>g({controls:T})}},[n,A]),_e.createElement("primitive",Dp({ref:c,object:A,enableDamping:i},l))}),If=n=>n&&n.isOrthographicCamera,yX=n=>n&&n.isBox3,Ek=_e.createContext(null);function Ak({children:n,damping:e=6,fit:t,clip:r,observe:i,margin:s=1.2,eps:o=.01,onFit:a}){const l=_e.useRef(null),{camera:c,invalidate:u,size:h,controls:p}=zo(),m=p,y=_e.useRef(a);y.current=a;function g(D,O){return Math.abs(D.x-O.x)<o&&Math.abs(D.y-O.y)<o&&Math.abs(D.z-O.z)<o}function x(D,O,C,B){D.x=v0.damp(D.x,O.x,C,B),D.y=v0.damp(D.y,O.y,C,B),D.z=v0.damp(D.z,O.z,C,B)}const[v]=_e.useState(()=>({animating:!1,focus:new ee,camera:new ee,zoom:1})),[b]=_e.useState(()=>({focus:new ee,camera:new ee,zoom:1})),[w]=_e.useState(()=>new uc),A=_e.useMemo(()=>{function D(){const O=w.getSize(new ee),C=w.getCenter(new ee),B=Math.max(O.x,O.y,O.z),G=If(c)?B*4:B/(2*Math.atan(Math.PI*c.fov/360)),Y=If(c)?B*4:G/c.aspect,oe=s*Math.max(G,Y);return{box:w,size:O,center:C,distance:oe}}return{getSize:D,refresh(O){if(yX(O))w.copy(O);else{const C=O||l.current;C.updateWorldMatrix(!0,!0),w.setFromObject(C)}if(w.isEmpty()){const C=c.position.length()||10;w.setFromCenterAndSize(new ee,new ee(C,C,C))}if((m==null?void 0:m.constructor.name)==="OrthographicTrackballControls"){const{distance:C}=D(),B=c.position.clone().sub(m.target).normalize().multiplyScalar(C),G=m.target.clone().add(B);c.position.copy(G)}return this},clip(){const{distance:O}=D();return m&&(m.maxDistance=O*10),c.near=O/100,c.far=O*100,c.updateProjectionMatrix(),m&&m.update(),u(),this},to({position:O,target:C}){v.camera.copy(c.position);const{center:B}=D();return b.camera.set(...O),C?b.focus.set(...C):b.focus.copy(B),e?v.animating=!0:c.position.set(...O),this},fit(){v.camera.copy(c.position),m&&v.focus.copy(m.target);const{center:O,distance:C}=D(),B=O.clone().sub(c.position).normalize().multiplyScalar(C);if(b.camera.copy(O).sub(B),b.focus.copy(O),If(c)){v.zoom=c.zoom;let G=0,Y=0;const oe=[new ee(w.min.x,w.min.y,w.min.z),new ee(w.min.x,w.max.y,w.min.z),new ee(w.min.x,w.min.y,w.max.z),new ee(w.min.x,w.max.y,w.max.z),new ee(w.max.x,w.max.y,w.max.z),new ee(w.max.x,w.max.y,w.min.z),new ee(w.max.x,w.min.y,w.max.z),new ee(w.max.x,w.min.y,w.min.z)];O.applyMatrix4(c.matrixWorldInverse);for(const L of oe)L.applyMatrix4(c.matrixWorldInverse),G=Math.max(G,Math.abs(L.y-O.y)),Y=Math.max(Y,Math.abs(L.x-O.x));G*=2,Y*=2;const V=(c.top-c.bottom)/G,S=(c.right-c.left)/Y;b.zoom=Math.min(V,S)/s,e||(c.zoom=b.zoom,c.updateProjectionMatrix())}return e?v.animating=!0:(c.position.copy(b.camera),c.lookAt(b.focus),m&&(m.target.copy(b.focus),m.update())),y.current&&y.current(this.getSize()),u(),this}}},[w,c,m,s,e,u]);_e.useLayoutEffect(()=>{if(m){const D=()=>v.animating=!1;return m.addEventListener("start",D),()=>m.removeEventListener("start",D)}},[m]);const T=_e.useRef(0);return _e.useLayoutEffect(()=>{(i||T.current++===0)&&(A.refresh(),t&&A.fit(),r&&A.clip())},[h,r,t,i,c,m]),fE((D,O)=>{if(v.animating){if(x(v.focus,b.focus,e,O),x(v.camera,b.camera,e,O),v.zoom=v0.damp(v.zoom,b.zoom,e,O),c.position.copy(v.camera),If(c)&&(c.zoom=v.zoom,c.updateProjectionMatrix()),m?(m.target.copy(v.focus),m.update()):c.lookAt(v.focus),u(),If(c)&&!(Math.abs(v.zoom-b.zoom)<o)||!If(c)&&!g(v.camera,b.camera)||m&&!g(v.focus,b.focus))return;v.animating=!1}}),_e.createElement("group",{ref:l},_e.createElement(Ek.Provider,{value:A},n))}function Ck(){return _e.useContext(Ek)}function Ta(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Tk(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.11.5
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var fs={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},zh={duration:.5,overwrite:!1,delay:0},dE,si,ur,zs=1e8,fn=1/zs,E3=Math.PI*2,vX=E3/4,_X=0,Pk=Math.sqrt,bX=Math.cos,wX=Math.sin,Pr=function(e){return typeof e=="string"},jn=function(e){return typeof e=="function"},Ya=function(e){return typeof e=="number"},pE=function(e){return typeof e>"u"},ia=function(e){return typeof e=="object"},Vi=function(e){return e!==!1},mE=function(){return typeof window<"u"},Rx=function(e){return jn(e)||Pr(e)},Rk=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},oi=Array.isArray,A3=/(?:-?\.?\d|\.)+/gi,Ik=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,ah=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,iw=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,kk=/[+-]=-?[.\d]+/,Lk=/[^,'"\[\]\s]+/gi,SX=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,In,Is,C3,gE,ps={},sy={},Nk,Dk=function(e){return(sy=Lu(e,ps))&&Gi},xE=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},oy=function(e,t){return!t&&console.warn(e)},Ok=function(e,t){return e&&(ps[e]=t)&&sy&&(sy[e]=t)||ps},Bp=function(){return 0},MX={suppressEvents:!0,isStart:!0,kill:!1},d1={suppressEvents:!0,kill:!1},EX={suppressEvents:!0},yE={},Xl=[],T3={},Bk,rs={},sw={},H5=30,p1=[],vE="",_E=function(e){var t=e[0],r,i;if(ia(t)||jn(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=p1.length;i--&&!p1[i].targetTest(t););r=p1[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new a9(e[i],r)))||e.splice(i,1);return e},yu=function(e){return e._gsap||_E(Us(e))[0]._gsap},Fk=function(e,t,r){return(r=e[t])&&jn(r)?e[t]():pE(r)&&e.getAttribute&&e.getAttribute(t)||r},Hi=function(e,t){return(e=e.split(",")).forEach(t)||e},Qn=function(e){return Math.round(e*1e5)/1e5||0},Dr=function(e){return Math.round(e*1e7)/1e7||0},_h=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},AX=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},ay=function(){var e=Xl.length,t=Xl.slice(0),r,i;for(T3={},Xl.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},zk=function(e,t,r,i){Xl.length&&!si&&ay(),e.render(t,r,i||si&&t<0&&(e._initted||e._startAt)),Xl.length&&!si&&ay()},Uk=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(Lk).length<2?t:Pr(e)?e.trim():e},Vk=function(e){return e},qs=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},CX=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},Lu=function(e,t){for(var r in t)e[r]=t[r];return e},W5=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=ia(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},ly=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},U0=function(e){var t=e.parent||In,r=e.keyframes?CX(oi(e.keyframes)):qs;if(Vi(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},TX=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},Hk=function(e,t,r,i,s){r===void 0&&(r="_first"),i===void 0&&(i="_last");var o=e[i],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},pv=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[r]===t&&(e[r]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},rc=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},vu=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},PX=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},P3=function(e,t,r,i){return e._startAt&&(si?e._startAt.revert(d1):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},RX=function n(e){return!e||e._ts&&n(e.parent)},G5=function(e){return e._repeat?Uh(e._tTime,e=e.duration()+e._rDelay)*e:0},Uh=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},cy=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},mv=function(e){return e._end=Dr(e._start+(e._tDur/Math.abs(e._ts||e._rts||fn)||0))},gv=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Dr(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),mv(e),r._dirty||vu(r,e)),e},Wk=function(e,t){var r;if((t._time||t._initted&&!t._dur)&&(r=cy(e.rawTime(),t),(!t._dur||Em(0,t.totalDuration(),r)-t._tTime>fn)&&t.render(r,!0)),vu(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-fn}},Wo=function(e,t,r,i){return t.parent&&rc(t),t._start=Dr((Ya(r)?r:r||e!==In?Rs(e,r,t):e._time)+t._delay),t._end=Dr(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Hk(e,t,"_first","_last",e._sort?"_start":0),R3(t)||(e._recent=t),i||Wk(e,t),e._ts<0&&gv(e,e._tTime),e},Gk=function(e,t){return(ps.ScrollTrigger||xE("scrollTrigger",t))&&ps.ScrollTrigger.create(t,e)},jk=function(e,t,r,i,s){if(wE(e,t,s),!e._initted)return 1;if(!r&&e._pt&&!si&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Bk!==os.frame)return Xl.push(e),e._lazy=[s,i],1},IX=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},R3=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},kX=function(e,t,r,i){var s=e.ratio,o=t<0||!t&&(!e._start&&IX(e)&&!(!e._initted&&R3(e))||(e._ts<0||e._dp._ts<0)&&!R3(e))?0:1,a=e._rDelay,l=0,c,u,h;if(a&&e._repeat&&(l=Em(0,e._tDur,t),u=Uh(l,a),e._yoyo&&u&1&&(o=1-o),u!==Uh(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||si||i||e._zTime===fn||!t&&e._zTime){if(!e._initted&&jk(e,t,i,r,l))return;for(h=e._zTime,e._zTime=t||(r?fn:0),r||(r=t&&!h),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;t<0&&P3(e,t,r,!0),e._onUpdate&&!r&&Vs(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&Vs(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&rc(e,1),!r&&!si&&(Vs(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},LX=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},Vh=function(e,t,r,i){var s=e._repeat,o=Dr(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Dr(o*(s+1)+e._rDelay*s):o,a>0&&!i&&gv(e,e._tTime=e._tDur*a),e.parent&&mv(e),r||vu(e.parent,e),e},j5=function(e){return e instanceof Oi?vu(e):Vh(e,e._dur)},NX={_start:0,endTime:Bp,totalDuration:Bp},Rs=function n(e,t,r){var i=e.labels,s=e._recent||NX,o=e.duration()>=zs?s.endTime(!1):e._dur,a,l,c;return Pr(t)&&(isNaN(t)||t in i)?(l=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:r).totalDuration()/100:1)):a<0?(t in i||(i[t]=o),i[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&r&&(l=l/100*(oi(r)?r[0]:r).totalDuration()),a>1?n(e,t.substr(0,a-1),r)+l:o+l)):t==null?o:+t},V0=function(e,t,r){var i=Ya(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],a,l;if(i&&(o.duration=t[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Vi(l.vars.inherit)&&l.parent;o.immediateRender=Vi(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new xr(t[0],o,t[s+1])},pc=function(e,t){return e||e===0?t(e):t},Em=function(e,t,r){return r<e?e:r>t?t:r},ti=function(e,t){return!Pr(e)||!(t=SX.exec(e))?"":t[1]},DX=function(e,t,r){return pc(r,function(i){return Em(e,t,i)})},I3=[].slice,qk=function(e,t){return e&&ia(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&ia(e[0]))&&!e.nodeType&&e!==Is},OX=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return Pr(i)&&!t||qk(i,1)?(s=r).push.apply(s,Us(i)):r.push(i)})||r},Us=function(e,t,r){return ur&&!t&&ur.selector?ur.selector(e):Pr(e)&&!r&&(C3||!Hh())?I3.call((t||gE).querySelectorAll(e),0):oi(e)?OX(e,r):qk(e)?I3.call(e,0):e?[e]:[]},k3=function(e){return e=Us(e)[0]||oy("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return Us(t,r.querySelectorAll?r:r===e?oy("Invalid scope")||gE.createElement("div"):e)}},Xk=function(e){return e.sort(function(){return .5-Math.random()})},Kk=function(e){if(jn(e))return e;var t=ia(e)?e:{each:e},r=_u(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,c=t.axis,u=i,h=i;return Pr(i)?u=h={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(u=i[0],h=i[1]),function(p,m,y){var g=(y||t).length,x=o[g],v,b,w,A,T,D,O,C,B;if(!x){if(B=t.grid==="auto"?0:(t.grid||[1,zs])[1],!B){for(O=-zs;O<(O=y[B++].getBoundingClientRect().left)&&B<g;);B--}for(x=o[g]=[],v=l?Math.min(B,g)*u-.5:i%B,b=B===zs?0:l?g*h/B-.5:i/B|0,O=0,C=zs,D=0;D<g;D++)w=D%B-v,A=b-(D/B|0),x[D]=T=c?Math.abs(c==="y"?A:w):Pk(w*w+A*A),T>O&&(O=T),T<C&&(C=T);i==="random"&&Xk(x),x.max=O-C,x.min=C,x.v=g=(parseFloat(t.amount)||parseFloat(t.each)*(B>g?g-1:c?c==="y"?g/B:B:Math.max(B,g/B))||0)*(i==="edges"?-1:1),x.b=g<0?s-g:s,x.u=ti(t.amount||t.each)||0,r=r&&g<0?i9(r):r}return g=(x[p]-x.min)/x.max||0,Dr(x.b+(r?r(g):g)*x.v)+x.u}},L3=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=Dr(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(Ya(r)?0:ti(r))}},$k=function(e,t){var r=oi(e),i,s;return!r&&ia(e)&&(i=r=e.radius||zs,e.values?(e=Us(e.values),(s=!Ya(e[0]))&&(i*=i)):e=L3(e.increment)),pc(t,r?jn(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=zs,u=0,h=e.length,p,m;h--;)s?(p=e[h].x-a,m=e[h].y-l,p=p*p+m*m):p=Math.abs(e[h]-a),p<c&&(c=p,u=h);return u=!i||c<=i?e[u]:o,s||u===o||Ya(o)?u:u+ti(o)}:L3(e))},Yk=function(e,t,r,i){return pc(oi(e)?!t:r===!0?!!(r=0):!i,function(){return oi(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},BX=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,o){return o(s)},i)}},FX=function(e,t){return function(r){return e(parseFloat(r))+(t||ti(r))}},zX=function(e,t,r){return Qk(e,t,0,1,r)},Jk=function(e,t,r){return pc(r,function(i){return e[~~t(i)]})},UX=function n(e,t,r){var i=t-e;return oi(e)?Jk(e,n(0,e.length),t):pc(r,function(s){return(i+(s-e)%i)%i+e})},VX=function n(e,t,r){var i=t-e,s=i*2;return oi(e)?Jk(e,n(0,e.length-1),t):pc(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},Fp=function(e){for(var t=0,r="",i,s,o,a;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?Lk:A3),r+=e.substr(t,i-t)+Yk(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return r+e.substr(t,e.length-t)},Qk=function(e,t,r,i,s){var o=t-e,a=i-r;return pc(s,function(l){return r+((l-e)/o*a||0)})},HX=function n(e,t,r,i){var s=isNaN(e+t)?0:function(m){return(1-m)*e+m*t};if(!s){var o=Pr(e),a={},l,c,u,h,p;if(r===!0&&(i=1)&&(r=null),o)e={p:e},t={p:t};else if(oi(e)&&!oi(t)){for(u=[],h=e.length,p=h-2,c=1;c<h;c++)u.push(n(e[c-1],e[c]));h--,s=function(y){y*=h;var g=Math.min(p,~~y);return u[g](y-g)},r=t}else i||(e=Lu(oi(e)?[]:{},e));if(!u){for(l in t)bE.call(a,e,l,"get",t[l]);s=function(y){return EE(y,a)||(o?e.p:e)}}}return pc(r,s)},q5=function(e,t,r){var i=e.labels,s=zs,o,a,l;for(o in i)a=i[o]-t,a<0==!!r&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},Vs=function(e,t,r){var i=e.vars,s=i[t],o=ur,a=e._ctx,l,c,u;if(s)return l=i[t+"Params"],c=i.callbackScope||e,r&&Xl.length&&ay(),a&&(ur=a),u=l?s.apply(c,l):s.call(c),ur=o,u},b0=function(e){return rc(e),e.scrollTrigger&&e.scrollTrigger.kill(!!si),e.progress()<1&&Vs(e,"onInterrupt"),e},lh,Zk=[],e9=function(e){if(!mE()){Zk.push(e);return}e=!e.name&&e.default||e;var t=e.name,r=jn(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:Bp,render:EE,add:bE,kill:iK,modifier:rK,rawVars:0},o={targetTest:0,get:0,getSetter:ME,aliases:{},register:0};if(Hh(),e!==i){if(rs[t])return;qs(i,qs(ly(e,s),o)),Lu(i.prototype,Lu(s,ly(e,o))),rs[i.prop=t]=i,e.targetTest&&(p1.push(i),yE[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}Ok(t,i),e.register&&e.register(Gi,i,Wi)},cn=255,w0={aqua:[0,cn,cn],lime:[0,cn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,cn],navy:[0,0,128],white:[cn,cn,cn],olive:[128,128,0],yellow:[cn,cn,0],orange:[cn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[cn,0,0],pink:[cn,192,203],cyan:[0,cn,cn],transparent:[cn,cn,cn,0]},ow=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*cn+.5|0},t9=function(e,t,r){var i=e?Ya(e)?[e>>16,e>>8&cn,e&cn]:0:w0.black,s,o,a,l,c,u,h,p,m,y;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),w0[e])i=w0[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&cn,i&cn,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&cn,e&cn]}else if(e.substr(0,3)==="hsl"){if(i=y=e.match(A3),!t)l=+i[0]%360/360,c=+i[1]/100,u=+i[2]/100,o=u<=.5?u*(c+1):u+c-u*c,s=u*2-o,i.length>3&&(i[3]*=1),i[0]=ow(l+1/3,s,o),i[1]=ow(l,s,o),i[2]=ow(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(Ik),r&&i.length<4&&(i[3]=1),i}else i=e.match(A3)||w0.transparent;i=i.map(Number)}return t&&!y&&(s=i[0]/cn,o=i[1]/cn,a=i[2]/cn,h=Math.max(s,o,a),p=Math.min(s,o,a),u=(h+p)/2,h===p?l=c=0:(m=h-p,c=u>.5?m/(2-h-p):m/(h+p),l=h===s?(o-a)/m+(o<a?6:0):h===o?(a-s)/m+2:(s-o)/m+4,l*=60),i[0]=~~(l+.5),i[1]=~~(c*100+.5),i[2]=~~(u*100+.5)),r&&i.length<4&&(i[3]=1),i},n9=function(e){var t=[],r=[],i=-1;return e.split(Kl).forEach(function(s){var o=s.match(ah)||[];t.push.apply(t,o),r.push(i+=o.length+1)}),t.c=r,t},X5=function(e,t,r){var i="",s=(e+i).match(Kl),o=t?"hsla(":"rgba(",a=0,l,c,u,h;if(!s)return e;if(s=s.map(function(p){return(p=t9(p,t,1))&&o+(t?p[0]+","+p[1]+"%,"+p[2]+"%,"+p[3]:p.join(","))+")"}),r&&(u=n9(e),l=r.c,l.join(i)!==u.c.join(i)))for(c=e.replace(Kl,"1").split(ah),h=c.length-1;a<h;a++)i+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:r).shift());if(!c)for(c=e.split(Kl),h=c.length-1;a<h;a++)i+=c[a]+s[a];return i+c[h]},Kl=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in w0)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),WX=/hsl[a]?\(/,r9=function(e){var t=e.join(" "),r;if(Kl.lastIndex=0,Kl.test(t))return r=WX.test(t),e[1]=X5(e[1],r),e[0]=X5(e[0],r,n9(e[1])),!0},zp,os=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,o=s,a=[],l,c,u,h,p,m,y=function g(x){var v=n()-i,b=x===!0,w,A,T,D;if(v>e&&(r+=v-t),i+=v,T=i-r,w=T-o,(w>0||b)&&(D=++h.frame,p=T-h.time*1e3,h.time=T=T/1e3,o+=w+(w>=s?4:s-w),A=1),b||(l=c(g)),A)for(m=0;m<a.length;m++)a[m](T,p,D,x)};return h={time:0,frame:0,tick:function(){y(!0)},deltaRatio:function(x){return p/(1e3/(x||60))},wake:function(){Nk&&(!C3&&mE()&&(Is=C3=window,gE=Is.document||{},ps.gsap=Gi,(Is.gsapVersions||(Is.gsapVersions=[])).push(Gi.version),Dk(sy||Is.GreenSockGlobals||!Is.gsap&&Is||{}),u=Is.requestAnimationFrame,Zk.forEach(e9)),l&&h.sleep(),c=u||function(x){return setTimeout(x,o-h.time*1e3+1|0)},zp=1,y(2))},sleep:function(){(u?Is.cancelAnimationFrame:clearTimeout)(l),zp=0,c=Bp},lagSmoothing:function(x,v){e=x||1/0,t=Math.min(v||33,e)},fps:function(x){s=1e3/(x||240),o=h.time*1e3+s},add:function(x,v,b){var w=v?function(A,T,D,O){x(A,T,D,O),h.remove(w)}:x;return h.remove(x),a[b?"unshift":"push"](w),Hh(),w},remove:function(x,v){~(v=a.indexOf(x))&&a.splice(v,1)&&m>=v&&m--},_listeners:a},h}(),Hh=function(){return!zp&&os.wake()},Ht={},GX=/^[\d.\-M][\d.\-,\s]/,jX=/["']/g,qX=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,l,c;s<o;s++)l=r[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[i]=isNaN(c)?c.replace(jX,"").trim():+c,i=l.substr(a+1).trim();return t},XX=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},KX=function(e){var t=(e+"").split("("),r=Ht[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[qX(t[1])]:XX(e).split(",").map(Uk)):Ht._CE&&GX.test(e)?Ht._CE("",e):r},i9=function(e){return function(t){return 1-e(1-t)}},s9=function n(e,t){for(var r=e._first,i;r;)r instanceof Oi?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},_u=function(e,t){return e&&(jn(e)?e:Ht[e]||KX(e))||t},ju=function(e,t,r,i){r===void 0&&(r=function(l){return 1-t(1-l)}),i===void 0&&(i=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:r,easeInOut:i},o;return Hi(e,function(a){Ht[a]=ps[a]=s,Ht[o=a.toLowerCase()]=r;for(var l in s)Ht[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Ht[a+"."+l]=s[l]}),s},o9=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},aw=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),o=s/E3*(Math.asin(1/i)||0),a=function(u){return u===1?1:i*Math.pow(2,-10*u)*wX((u-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:o9(a);return s=E3/s,l.config=function(c,u){return n(e,c,u)},l},lw=function n(e,t){t===void 0&&(t=1.70158);var r=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:o9(r);return i.config=function(s){return n(e,s)},i};Hi("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;ju(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});Ht.Linear.easeNone=Ht.none=Ht.Linear.easeIn;ju("Elastic",aw("in"),aw("out"),aw());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(a){return a<t?n*a*a:a<r?n*Math.pow(a-1.5/e,2)+.75:a<i?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};ju("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);ju("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});ju("Circ",function(n){return-(Pk(1-n*n)-1)});ju("Sine",function(n){return n===1?1:-bX(n*vX)+1});ju("Back",lw("in"),lw("out"),lw());Ht.SteppedEase=Ht.steps=ps.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,o=1-fn;return function(a){return((i*Em(0,o,a)|0)+s)*r}}};zh.ease=Ht["quad.out"];Hi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return vE+=n+","+n+"Params,"});var a9=function(e,t){this.id=_X++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:Fk,this.set=t?t.getSetter:ME},Wh=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Vh(this,+t.duration,1,1),this.data=t.data,ur&&(this._ctx=ur,ur.data.push(this)),zp||os.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Vh(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(Hh(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(gv(this,r),!s._dp||s.parent||Wk(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Wo(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===fn||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),zk(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+G5(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+G5(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?Uh(this._tTime,s)+1:1},e.timeScale=function(r){if(!arguments.length)return this._rts===-fn?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?cy(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-fn?0:this._rts,this.totalTime(Em(-Math.abs(this._delay),this._tDur,i),!0),mv(this),PX(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Hh(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==fn&&(this._tTime-=fn)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Wo(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Vi(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?cy(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=EX);var i=si;return si=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),si=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(i._ts||1),i=i._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1:this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,j5(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,j5(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(Rs(this,r),Vi(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,Vi(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-fn:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-fn,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-fn)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=jn(r)?r:Vk,a=function(){var c=i.then;i.then=null,jn(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=c),s(o),i.then=c};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){b0(this)},n}();qs(Wh.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-fn,_prom:0,_ps:!1,_rts:1});var Oi=function(n){Tk(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=Vi(r.sortChildren),In&&Wo(r.parent||In,Ta(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&Gk(Ta(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return V0(0,arguments,this),this},t.from=function(i,s,o){return V0(1,arguments,this),this},t.fromTo=function(i,s,o,a){return V0(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,U0(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new xr(i,s,Rs(this,o),1),this},t.call=function(i,s,o){return Wo(this,xr.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new xr(i,o,Rs(this,l)),this},t.staggerFrom=function(i,s,o,a,l,c,u){return o.runBackwards=1,U0(o).immediateRender=Vi(o.immediateRender),this.staggerTo(i,s,o,a,l,c,u)},t.staggerFromTo=function(i,s,o,a,l,c,u,h){return a.startAt=o,U0(a).immediateRender=Vi(a.immediateRender),this.staggerTo(i,s,a,l,c,u,h)},t.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=i<=0?0:Dr(i),h=this._zTime<0!=i<0&&(this._initted||!c),p,m,y,g,x,v,b,w,A,T,D,O;if(this!==In&&u>l&&i>=0&&(u=l),u!==this._tTime||o||h){if(a!==this._time&&c&&(u+=this._time-a,i+=this._time-a),p=u,A=this._start,w=this._ts,v=!w,h&&(c||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(D=this._yoyo,x=c+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(x*100+i,s,o);if(p=Dr(u%x),u===l?(g=this._repeat,p=c):(g=~~(u/x),g&&g===u/x&&(p=c,g--),p>c&&(p=c)),T=Uh(this._tTime,x),!a&&this._tTime&&T!==g&&this._tTime-T*x-this._dur<=0&&(T=g),D&&g&1&&(p=c-p,O=1),g!==T&&!this._lock){var C=D&&T&1,B=C===(D&&g&1);if(g<T&&(C=!C),a=C?0:c,this._lock=1,this.render(a||(O?0:Dr(g*x)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&Vs(this,"onRepeat"),this.vars.repeatRefresh&&!O&&(this.invalidate()._lock=1),a&&a!==this._time||v!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,B&&(this._lock=2,a=C?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!O&&this.invalidate()),this._lock=0,!this._ts&&!v)return this;s9(this,O)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(b=LX(this,Dr(a),Dr(p)),b&&(u-=p-(p=b._start))),this._tTime=u,this._time=p,this._act=!w,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&p&&!s&&!g&&(Vs(this,"onStart"),this._tTime!==u))return this;if(p>=a&&i>=0)for(m=this._first;m;){if(y=m._next,(m._act||p>=m._start)&&m._ts&&b!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(p-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(p-m._start)*m._ts,s,o),p!==this._time||!this._ts&&!v){b=0,y&&(u+=this._zTime=-fn);break}}m=y}else{m=this._last;for(var G=i<0?i:p;m;){if(y=m._prev,(m._act||G<=m._end)&&m._ts&&b!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(G-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(G-m._start)*m._ts,s,o||si&&(m._initted||m._startAt)),p!==this._time||!this._ts&&!v){b=0,y&&(u+=this._zTime=G?-fn:fn);break}}m=y}}if(b&&!s&&(this.pause(),b.render(p>=a?0:-fn)._zTime=p>=a?1:-1,this._ts))return this._start=A,mv(this),this.render(i,s,o);this._onUpdate&&!s&&Vs(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(A===this._start||Math.abs(w)!==Math.abs(this._ts))&&(this._lock||((i||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&rc(this,1),!s&&!(i<0&&!a)&&(u||a||!l)&&(Vs(this,u===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(Ya(s)||(s=Rs(this,s,i)),!(i instanceof Wh)){if(oi(i))return i.forEach(function(a){return o.add(a,s)}),this;if(Pr(i))return this.addLabel(i,s);if(jn(i))i=xr.delayedCall(0,i);else return this}return this!==i?Wo(this,i,s):this},t.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-zs);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof xr?s&&l.push(c):(o&&l.push(c),i&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return Pr(i)?this.removeLabel(i):jn(i)?this.killTweensOf(i):(pv(this,i),i===this._recent&&(this._recent=this._last),vu(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Dr(os.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=Rs(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var a=xr.delayedCall(0,s||Bp,o);return a.data="isPause",this._hasPause=1,Wo(this,a,Rs(this,i))},t.removePause=function(i){var s=this._first;for(i=Rs(this,i);s;)s._start===i&&s.data==="isPause"&&rc(s),s=s._next},t.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)Il!==a[l]&&a[l].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],a=Us(i),l=this._first,c=Ya(s),u;l;)l instanceof xr?AX(l._targets,a)&&(c?(!Il||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,a=Rs(o,i),l=s,c=l.startAt,u=l.onStart,h=l.onStartParams,p=l.immediateRender,m,y=xr.to(o,qs({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||fn,onStart:function(){if(o.pause(),!m){var x=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());y._dur!==x&&Vh(y,x,0,1).render(y._time,!0,!0),m=1}u&&u.apply(y,h||[])}},s));return p?y.render(0):y},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,qs({startAt:{time:Rs(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),q5(this,Rs(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),q5(this,Rs(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+fn)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=i);return vu(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),vu(this)},t.totalDuration=function(i){var s=0,o=this,a=o._last,l=zs,c,u,h;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(h=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Wo(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!h&&!o._dp||h&&h.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;Vh(o,o===In&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(In._ts&&(zk(In,cy(i,In)),Bk=os.frame),os.frame>=H5){H5+=fs.autoSleep||120;var s=In._first;if((!s||!s._ts)&&fs.autoSleep&&os._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||os.sleep()}}},e}(Wh);qs(Oi.prototype,{_lock:0,_hasPause:0,_forcing:0});var $X=function(e,t,r,i,s,o,a){var l=new Wi(this._pt,e,t,0,1,d9,null,s),c=0,u=0,h,p,m,y,g,x,v,b;for(l.b=r,l.e=i,r+="",i+="",(v=~i.indexOf("random("))&&(i=Fp(i)),o&&(b=[r,i],o(b,e,t),r=b[0],i=b[1]),p=r.match(iw)||[];h=iw.exec(i);)y=h[0],g=i.substring(c,h.index),m?m=(m+1)%5:g.substr(-5)==="rgba("&&(m=1),y!==p[u++]&&(x=parseFloat(p[u-1])||0,l._pt={_next:l._pt,p:g||u===1?g:",",s:x,c:y.charAt(1)==="="?_h(x,y)-x:parseFloat(y)-x,m:m&&m<4?Math.round:0},c=iw.lastIndex);return l.c=c<i.length?i.substring(c,i.length):"",l.fp=a,(kk.test(i)||v)&&(l.e=0),this._pt=l,l},bE=function(e,t,r,i,s,o,a,l,c,u){jn(i)&&(i=i(s||0,e,o));var h=e[t],p=r!=="get"?r:jn(h)?c?e[t.indexOf("set")||!jn(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():h,m=jn(h)?c?eK:f9:SE,y;if(Pr(i)&&(~i.indexOf("random(")&&(i=Fp(i)),i.charAt(1)==="="&&(y=_h(p,i)+(ti(p)||0),(y||y===0)&&(i=y))),!u||p!==i||N3)return!isNaN(p*i)&&i!==""?(y=new Wi(this._pt,e,t,+p||0,i-(p||0),typeof h=="boolean"?nK:h9,0,m),c&&(y.fp=c),a&&y.modifier(a,this,e),this._pt=y):(!h&&!(t in e)&&xE(t,i),$X.call(this,e,t,p,i,m,l||fs.stringFilter,c))},YX=function(e,t,r,i,s){if(jn(e)&&(e=H0(e,s,t,r,i)),!ia(e)||e.style&&e.nodeType||oi(e)||Rk(e))return Pr(e)?H0(e,s,t,r,i):e;var o={},a;for(a in e)o[a]=H0(e[a],s,t,r,i);return o},l9=function(e,t,r,i,s,o){var a,l,c,u;if(rs[e]&&(a=new rs[e]).init(s,a.rawVars?t[e]:YX(t[e],i,s,o,r),r,i,o)!==!1&&(r._pt=l=new Wi(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==lh))for(c=r._ptLookup[r._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},Il,N3,wE=function n(e,t,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,c=i.onUpdate,u=i.onUpdateParams,h=i.callbackScope,p=i.runBackwards,m=i.yoyoEase,y=i.keyframes,g=i.autoRevert,x=e._dur,v=e._startAt,b=e._targets,w=e.parent,A=w&&w.data==="nested"?w.vars.targets:b,T=e._overwrite==="auto"&&!dE,D=e.timeline,O,C,B,G,Y,oe,V,S,L,z,q,F,X;if(D&&(!y||!s)&&(s="none"),e._ease=_u(s,zh.ease),e._yEase=m?i9(_u(m===!0?s:m,zh.ease)):0,m&&e._yoyo&&!e._repeat&&(m=e._yEase,e._yEase=e._ease,e._ease=m),e._from=!D&&!!i.runBackwards,!D||y&&!i.stagger){if(S=b[0]?yu(b[0]).harness:0,F=S&&i[S.prop],O=ly(i,yE),v&&(v._zTime<0&&v.progress(1),t<0&&p&&a&&!g?v.render(-1,!0):v.revert(p&&x?d1:MX),v._lazy=0),o){if(rc(e._startAt=xr.set(b,qs({data:"isStart",overwrite:!1,parent:w,immediateRender:!0,lazy:!v&&Vi(l),startAt:null,delay:0,onUpdate:c,onUpdateParams:u,callbackScope:h,stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(si||!a&&!g)&&e._startAt.revert(d1),a&&x&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(p&&x&&!v){if(t&&(a=!1),B=qs({overwrite:!1,data:"isFromStart",lazy:a&&!v&&Vi(l),immediateRender:a,stagger:0,parent:w},O),F&&(B[S.prop]=F),rc(e._startAt=xr.set(b,B)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(si?e._startAt.revert(d1):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,fn,fn);else if(!t)return}for(e._pt=e._ptCache=0,l=x&&Vi(l)||l&&!x,C=0;C<b.length;C++){if(Y=b[C],V=Y._gsap||_E(b)[C]._gsap,e._ptLookup[C]=z={},T3[V.id]&&Xl.length&&ay(),q=A===b?C:A.indexOf(Y),S&&(L=new S).init(Y,F||O,e,q,A)!==!1&&(e._pt=G=new Wi(e._pt,Y,L.name,0,1,L.render,L,0,L.priority),L._props.forEach(function($){z[$]=G}),L.priority&&(oe=1)),!S||F)for(B in O)rs[B]&&(L=l9(B,O,e,q,Y,A))?L.priority&&(oe=1):z[B]=G=bE.call(e,Y,B,"get",O[B],q,A,0,i.stringFilter);e._op&&e._op[C]&&e.kill(Y,e._op[C]),T&&e._pt&&(Il=e,In.killTweensOf(Y,z,e.globalTime(t)),X=!e.parent,Il=0),e._pt&&l&&(T3[V.id]=1)}oe&&p9(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!X,y&&t<=0&&D.render(zs,!0,!0)},JX=function(e,t,r,i,s,o,a){var l=(e._pt&&e._ptCache||(e._ptCache={}))[t],c,u,h,p;if(!l)for(l=e._ptCache[t]=[],h=e._ptLookup,p=e._targets.length;p--;){if(c=h[p][t],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t&&c.fp!==t;)c=c._next;if(!c)return N3=1,e.vars[t]="+=0",wE(e,a),N3=0,1;l.push(c)}for(p=l.length;p--;)u=l[p],c=u._pt||u,c.s=(i||i===0)&&!s?i:c.s+(i||0)+o*c.c,c.c=r-c.s,u.e&&(u.e=Qn(r)+ti(u.e)),u.b&&(u.b=c.s+ti(u.b))},QX=function(e,t){var r=e[0]?yu(e[0]).harness:0,i=r&&r.aliases,s,o,a,l;if(!i)return t;s=Lu({},t);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},ZX=function(e,t,r,i){var s=t.ease||i||"power1.inOut",o,a;if(oi(t))a=r[e]||(r[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},H0=function(e,t,r,i,s){return jn(e)?e.call(t,r,i,s):Pr(e)&&~e.indexOf("random(")?Fp(e):e},c9=vE+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",u9={};Hi(c9+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return u9[n]=1});var xr=function(n){Tk(e,n);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=n.call(this,o?i:U0(i))||this;var l=a.vars,c=l.duration,u=l.delay,h=l.immediateRender,p=l.stagger,m=l.overwrite,y=l.keyframes,g=l.defaults,x=l.scrollTrigger,v=l.yoyoEase,b=i.parent||In,w=(oi(r)||Rk(r)?Ya(r[0]):"length"in i)?[r]:Us(r),A,T,D,O,C,B,G,Y;if(a._targets=w.length?_E(w):oy("GSAP target "+r+" not found. https://greensock.com",!fs.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=m,y||p||Rx(c)||Rx(u)){if(i=a.vars,A=a.timeline=new Oi({data:"nested",defaults:g||{},targets:b&&b.data==="nested"?b.vars.targets:w}),A.kill(),A.parent=A._dp=Ta(a),A._start=0,p||Rx(c)||Rx(u)){if(O=w.length,G=p&&Kk(p),ia(p))for(C in p)~c9.indexOf(C)&&(Y||(Y={}),Y[C]=p[C]);for(T=0;T<O;T++)D=ly(i,u9),D.stagger=0,v&&(D.yoyoEase=v),Y&&Lu(D,Y),B=w[T],D.duration=+H0(c,Ta(a),T,B,w),D.delay=(+H0(u,Ta(a),T,B,w)||0)-a._delay,!p&&O===1&&D.delay&&(a._delay=u=D.delay,a._start+=u,D.delay=0),A.to(B,D,G?G(T,B,w):0),A._ease=Ht.none;A.duration()?c=u=0:a.timeline=0}else if(y){U0(qs(A.vars.defaults,{ease:"none"})),A._ease=_u(y.ease||i.ease||"none");var oe=0,V,S,L;if(oi(y))y.forEach(function(z){return A.to(w,z,">")}),A.duration();else{D={};for(C in y)C==="ease"||C==="easeEach"||ZX(C,y[C],D,y.easeEach);for(C in D)for(V=D[C].sort(function(z,q){return z.t-q.t}),oe=0,T=0;T<V.length;T++)S=V[T],L={ease:S.e,duration:(S.t-(T?V[T-1].t:0))/100*c},L[C]=S.v,A.to(w,L,oe),oe+=L.duration;A.duration()<c&&A.to({},{duration:c-A.duration()})}}c||a.duration(c=A.duration())}else a.timeline=0;return m===!0&&!dE&&(Il=Ta(a),In.killTweensOf(w),Il=0),Wo(b,Ta(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(h||!c&&!y&&a._start===Dr(b._time)&&Vi(h)&&RX(Ta(a))&&b.data!=="nested")&&(a._tTime=-fn,a.render(Math.max(0,-u)||0)),x&&Gk(Ta(a),x),a}var t=e.prototype;return t.render=function(i,s,o){var a=this._time,l=this._tDur,c=this._dur,u=i<0,h=i>l-fn&&!u?l:i<fn?0:i,p,m,y,g,x,v,b,w,A;if(!c)kX(this,i,s,o);else if(h!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(p=h,w=this.timeline,this._repeat){if(g=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(g*100+i,s,o);if(p=Dr(h%g),h===l?(y=this._repeat,p=c):(y=~~(h/g),y&&y===h/g&&(p=c,y--),p>c&&(p=c)),v=this._yoyo&&y&1,v&&(A=this._yEase,p=c-p),x=Uh(this._tTime,g),p===a&&!o&&this._initted)return this._tTime=h,this;y!==x&&(w&&this._yEase&&s9(w,v),this.vars.repeatRefresh&&!v&&!this._lock&&(this._lock=o=1,this.render(Dr(g*y),!0).invalidate()._lock=0))}if(!this._initted){if(jk(this,u?i:p,o,s,h))return this._tTime=0,this;if(a!==this._time)return this;if(c!==this._dur)return this.render(i,s,o)}if(this._tTime=h,this._time=p,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=b=(A||this._ease)(p/c),this._from&&(this.ratio=b=1-b),p&&!a&&!s&&!y&&(Vs(this,"onStart"),this._tTime!==h))return this;for(m=this._pt;m;)m.r(b,m.d),m=m._next;w&&w.render(i<0?i:!p&&v?-fn:w._dur*w._ease(p/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(u&&P3(this,i,s,o),Vs(this,"onUpdate")),this._repeat&&y!==x&&this.vars.onRepeat&&!s&&this.parent&&Vs(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(u&&!this._onUpdate&&P3(this,i,!0,!0),(i||!c)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&rc(this,1),!s&&!(u&&!a)&&(h||a||v)&&(Vs(this,h===l?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,a){zp||os.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||wE(this,l),c=this._ease(l/this._dur),JX(this,i,s,o,a,c,l)?this.resetTo(i,s,o,a):(gv(this,0),this.parent||Hk(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?b0(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Il&&Il.vars.overwrite!==!0)._first||b0(this),this.parent&&o!==this.timeline.totalDuration()&&Vh(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?Us(i):a,c=this._ptLookup,u=this._pt,h,p,m,y,g,x,v;if((!s||s==="all")&&TX(a,l))return s==="all"&&(this._pt=0),b0(this);for(h=this._op=this._op||[],s!=="all"&&(Pr(s)&&(g={},Hi(s,function(b){return g[b]=1}),s=g),s=QX(a,s)),v=a.length;v--;)if(~l.indexOf(a[v])){p=c[v],s==="all"?(h[v]=s,y=p,m={}):(m=h[v]=h[v]||{},y=s);for(g in y)x=p&&p[g],x&&((!("kill"in x.d)||x.d.kill(g)===!0)&&pv(this,x,"_pt"),delete p[g]),m!=="all"&&(m[g]=1)}return this._initted&&!this._pt&&u&&b0(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return V0(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return V0(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return In.killTweensOf(i,s,o)},e}(Wh);qs(xr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Hi("staggerTo,staggerFrom,staggerFromTo",function(n){xr[n]=function(){var e=new Oi,t=I3.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var SE=function(e,t,r){return e[t]=r},f9=function(e,t,r){return e[t](r)},eK=function(e,t,r,i){return e[t](i.fp,r)},tK=function(e,t,r){return e.setAttribute(t,r)},ME=function(e,t){return jn(e[t])?f9:pE(e[t])&&e.setAttribute?tK:SE},h9=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},nK=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},d9=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},EE=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},rK=function(e,t,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,r),s=o},iK=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?pv(this,t,"_pt"):t.dep||(r=1),t=i;return!r},sK=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},p9=function(e){for(var t=e._pt,r,i,s,o;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=r}e._pt=s},Wi=function(){function n(t,r,i,s,o,a,l,c,u){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||h9,this.d=l||this,this.set=c||SE,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=sK,this.m=r,this.mt=s,this.tween=i},n}();Hi(vE+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return yE[n]=1});ps.TweenMax=ps.TweenLite=xr;ps.TimelineLite=ps.TimelineMax=Oi;In=new Oi({sortChildren:!1,defaults:zh,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});fs.stringFilter=r9;var Gh=[],m1={},oK=[],K5=0,cw=function(e){return(m1[e]||oK).map(function(t){return t()})},D3=function(){var e=Date.now(),t=[];e-K5>2&&(cw("matchMediaInit"),Gh.forEach(function(r){var i=r.queries,s=r.conditions,o,a,l,c;for(a in i)o=Is.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(r.revert(),l&&t.push(r))}),cw("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r)}),K5=e,cw("matchMedia"))},m9=function(){function n(t,r){this.selector=r&&k3(r),this.data=[],this._r=[],this.isReverted=!1,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){jn(r)&&(s=i,i=r,r=jn);var o=this,a=function(){var c=ur,u=o.selector,h;return c&&c!==o&&c.data.push(o),s&&(o.selector=k3(s)),ur=o,h=i.apply(o,arguments),jn(h)&&o._r.push(h),ur=c,o.selector=u,o.isReverted=!1,h};return o.last=a,r===jn?a(o):r?o[r]=a:a},e.ignore=function(r){var i=ur;ur=null,r(this),ur=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof xr&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r){var o=this.getTweens();this.data.forEach(function(l){l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(c){return o.splice(o.indexOf(c),1)}))}),o.map(function(l){return{g:l.globalTime(0),t:l}}).sort(function(l,c){return c.g-l.g||-1}).forEach(function(l){return l.t.revert(r)}),this.data.forEach(function(l){return!(l instanceof Wh)&&l.revert&&l.revert(r)}),this._r.forEach(function(l){return l(r,s)}),this.isReverted=!0}else this.data.forEach(function(l){return l.kill&&l.kill()});if(this.clear(),i){var a=Gh.indexOf(this);~a&&Gh.splice(a,1)}},e.revert=function(r){this.kill(r||{})},n}(),aK=function(){function n(t){this.contexts=[],this.scope=t}var e=n.prototype;return e.add=function(r,i,s){ia(r)||(r={matches:r});var o=new m9(0,s||this.scope),a=o.conditions={},l,c,u;this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(c in r)c==="all"?u=1:(l=Is.matchMedia(r[c]),l&&(Gh.indexOf(o)<0&&Gh.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(D3):l.addEventListener("change",D3)));return u&&i(o),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),uy={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return e9(i)})},timeline:function(e){return new Oi(e)},getTweensOf:function(e,t){return In.getTweensOf(e,t)},getProperty:function(e,t,r,i){Pr(e)&&(e=Us(e)[0]);var s=yu(e||{}).get,o=r?Vk:Uk;return r==="native"&&(r=""),e&&(t?o((rs[t]&&rs[t].get||s)(e,t,r,i)):function(a,l,c){return o((rs[a]&&rs[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,r){if(e=Us(e),e.length>1){var i=e.map(function(u){return Gi.quickSetter(u,t,r)}),s=i.length;return function(u){for(var h=s;h--;)i[h](u)}}e=e[0]||{};var o=rs[t],a=yu(e),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(u){var h=new o;lh._pt=0,h.init(e,r?u+r:u,lh,0,[e]),h.render(1,h),lh._pt&&EE(1,lh)}:a.set(e,l);return o?c:function(u){return c(e,l,r?u+r:u,a,1)}},quickTo:function(e,t,r){var i,s=Gi.to(e,Lu((i={},i[t]="+=0.1",i.paused=!0,i),r||{})),o=function(l,c,u){return s.resetTo(t,l,c,u)};return o.tween=s,o},isTweening:function(e){return In.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=_u(e.ease,zh.ease)),W5(zh,e||{})},config:function(e){return W5(fs,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!rs[a]&&!ps[a]&&oy(t+" effect requires "+a+" plugin.")}),sw[t]=function(a,l,c){return r(Us(a),qs(l||{},s),c)},o&&(Oi.prototype[t]=function(a,l,c){return this.add(sw[t](a,ia(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){Ht[e]=_u(t)},parseEase:function(e,t){return arguments.length?_u(e,t):Ht},getById:function(e){return In.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new Oi(e),i,s;for(r.smoothChildTiming=Vi(e.smoothChildTiming),In.remove(r),r._dp=0,r._time=r._tTime=In._time,i=In._first;i;)s=i._next,(t||!(!i._dur&&i instanceof xr&&i.vars.onComplete===i._targets[0]))&&Wo(r,i,i._start-i._delay),i=s;return Wo(In,r,0),r},context:function(e,t){return e?new m9(e,t):ur},matchMedia:function(e){return new aK(e)},matchMediaRefresh:function(){return Gh.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||D3()},addEventListener:function(e,t){var r=m1[e]||(m1[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=m1[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:UX,wrapYoyo:VX,distribute:Kk,random:Yk,snap:$k,normalize:zX,getUnit:ti,clamp:DX,splitColor:t9,toArray:Us,selector:k3,mapRange:Qk,pipe:BX,unitize:FX,interpolate:HX,shuffle:Xk},install:Dk,effects:sw,ticker:os,updateRoot:Oi.updateRoot,plugins:rs,globalTimeline:In,core:{PropTween:Wi,globals:Ok,Tween:xr,Timeline:Oi,Animation:Wh,getCache:yu,_removeLinkedListItem:pv,reverting:function(){return si},context:function(e){return e&&ur&&(ur.data.push(e),e._ctx=ur),ur},suppressOverwrites:function(e){return dE=e}}};Hi("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return uy[n]=xr[n]});os.add(Oi.updateRoot);lh=uy.to({},{duration:0});var lK=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},cK=function(e,t){var r=e._targets,i,s,o;for(i in t)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=lK(o,i)),o&&o.modifier&&o.modifier(t[i],e,r[s],i))},uw=function(e,t){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,c;if(Pr(s)&&(l={},Hi(s,function(u){return l[u]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}cK(a,s)}}}},Gi=uy.registerPlugin({name:"attr",init:function(e,t,r,i,s){var o,a,l;this.tween=r;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)si?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},uw("roundProps",L3),uw("modifiers"),uw("snap",$k))||uy;xr.version=Oi.version=Gi.version="3.11.5";Nk=1;mE()&&Hh();Ht.Power0;Ht.Power1;var uK=Ht.Power2;Ht.Power3;Ht.Power4;Ht.Linear;Ht.Quad;Ht.Cubic;Ht.Quart;Ht.Quint;Ht.Strong;Ht.Elastic;Ht.Back;Ht.SteppedEase;Ht.Bounce;Ht.Sine;Ht.Expo;Ht.Circ;/*!
 * CSSPlugin 3.11.5
 * https://greensock.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var $5,kl,bh,AE,au,Y5,CE,fK=function(){return typeof window<"u"},Ja={},qc=180/Math.PI,wh=Math.PI/180,kf=Math.atan2,J5=1e8,TE=/([A-Z])/g,hK=/(left|right|width|margin|padding|x)/i,dK=/[\s,\(]\S/,qo={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},O3=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},pK=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},mK=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},gK=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},g9=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},x9=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},xK=function(e,t,r){return e.style[t]=r},yK=function(e,t,r){return e.style.setProperty(t,r)},vK=function(e,t,r){return e._gsap[t]=r},_K=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},bK=function(e,t,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},wK=function(e,t,r,i,s){var o=e._gsap;o[t]=r,o.renderTransform(s,o)},Nn="transform",wo=Nn+"Origin",SK=function n(e,t){var r=this,i=this.target,s=i.style;if(e in Ja){if(this.tfm=this.tfm||{},e!=="transform")e=qo[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return r.tfm[o]=ka(i,o)}):this.tfm[e]=i._gsap.x?i._gsap[e]:ka(i,e);else return qo.transform.split(",").forEach(function(o){return n.call(r,o,t)});if(this.props.indexOf(Nn)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(wo,t,"")),e=Nn}(s||t)&&this.props.push(e,t,s[e])},y9=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},MK=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(TE,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=CE(),(!s||!s.isStart)&&!r[Nn]&&(y9(r),i.uncache=1)}},v9=function(e,t){var r={target:e,props:[],revert:MK,save:SK};return e._gsap||Gi.core.getCache(e),t&&t.split(",").forEach(function(i){return r.save(i)}),r},_9,B3=function(e,t){var r=kl.createElementNS?kl.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):kl.createElement(e);return r.style?r:kl.createElement(e)},Qo=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(TE,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,jh(t)||t,1)||""},Q5="O,Moz,ms,Ms,Webkit".split(","),jh=function(e,t,r){var i=t||au,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Q5[o]+e in s););return o<0?null:(o===3?"ms":o>=0?Q5[o]:"")+e},F3=function(){fK()&&window.document&&($5=window,kl=$5.document,bh=kl.documentElement,au=B3("div")||{style:{}},B3("div"),Nn=jh(Nn),wo=Nn+"Origin",au.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",_9=!!jh("perspective"),CE=Gi.core.reverting,AE=1)},fw=function n(e){var t=B3("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(bh.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),bh.removeChild(t),this.style.cssText=s,o},Z5=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},b9=function(e){var t;try{t=e.getBBox()}catch{t=fw.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===fw||(t=fw.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+Z5(e,["x","cx","x1"])||0,y:+Z5(e,["y","cy","y1"])||0,width:0,height:0}:t},w9=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&b9(e))},Up=function(e,t){if(t){var r=e.style;t in Ja&&t!==wo&&(t=Nn),r.removeProperty?((t.substr(0,2)==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(t.replace(TE,"-$1").toLowerCase())):r.removeAttribute(t)}},Ll=function(e,t,r,i,s,o){var a=new Wi(e._pt,t,r,0,1,o?x9:g9);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},eT={deg:1,rad:1,turn:1},EK={grid:1,flex:1},ic=function n(e,t,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=au.style,l=hK.test(t),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),h=100,p=i==="px",m=i==="%",y,g,x,v;return i===o||!s||eT[i]||eT[o]?s:(o!=="px"&&!p&&(s=n(e,t,r,"px")),v=e.getCTM&&w9(e),(m||o==="%")&&(Ja[t]||~t.indexOf("adius"))?(y=v?e.getBBox()[l?"width":"height"]:e[u],Qn(m?s/y*h:s/100*y)):(a[l?"width":"height"]=h+(p?o:i),g=~t.indexOf("adius")||i==="em"&&e.appendChild&&!c?e:e.parentNode,v&&(g=(e.ownerSVGElement||{}).parentNode),(!g||g===kl||!g.appendChild)&&(g=kl.body),x=g._gsap,x&&m&&x.width&&l&&x.time===os.time&&!x.uncache?Qn(s/x.width*h):((m||o==="%")&&!EK[Qo(g,"display")]&&(a.position=Qo(e,"position")),g===e&&(a.position="static"),g.appendChild(au),y=au[u],g.removeChild(au),a.position="absolute",l&&m&&(x=yu(g),x.time=os.time,x.width=g[u]),Qn(p?y*s/h:y&&s?h/y*s:0))))},ka=function(e,t,r,i){var s;return AE||F3(),t in qo&&t!=="transform"&&(t=qo[t],~t.indexOf(",")&&(t=t.split(",")[0])),Ja[t]&&t!=="transform"?(s=Hp(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:hy(Qo(e,wo))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=fy[t]&&fy[t](e,t,r)||Qo(e,t)||Fk(e,t)||(t==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?ic(e,t,s,r)+r:s},AK=function(e,t,r,i){if(!r||r==="none"){var s=jh(t,e,1),o=s&&Qo(e,s,1);o&&o!==r?(t=s,r=o):t==="borderColor"&&(r=Qo(e,"borderTopColor"))}var a=new Wi(this._pt,e.style,t,0,1,d9),l=0,c=0,u,h,p,m,y,g,x,v,b,w,A,T;if(a.b=r,a.e=i,r+="",i+="",i==="auto"&&(e.style[t]=i,i=Qo(e,t)||i,e.style[t]=r),u=[r,i],r9(u),r=u[0],i=u[1],p=r.match(ah)||[],T=i.match(ah)||[],T.length){for(;h=ah.exec(i);)x=h[0],b=i.substring(l,h.index),y?y=(y+1)%5:(b.substr(-5)==="rgba("||b.substr(-5)==="hsla(")&&(y=1),x!==(g=p[c++]||"")&&(m=parseFloat(g)||0,A=g.substr((m+"").length),x.charAt(1)==="="&&(x=_h(m,x)+A),v=parseFloat(x),w=x.substr((v+"").length),l=ah.lastIndex-w.length,w||(w=w||fs.units[t]||A,l===i.length&&(i+=w,a.e+=w)),A!==w&&(m=ic(e,t,g,w)||0),a._pt={_next:a._pt,p:b||c===1?b:",",s:m,c:v-m,m:y&&y<4||t==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=t==="display"&&i==="none"?x9:g9;return kk.test(i)&&(a.e=0),this._pt=a,a},tT={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},CK=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=tT[r]||r,t[1]=tT[i]||i,t.join(" ")},TK=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,s=t.u,o=r._gsap,a,l,c;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],Ja[a]&&(l=1,a=a==="transformOrigin"?wo:Nn),Up(r,a);l&&(Up(r,Nn),o&&(o.svg&&r.removeAttribute("transform"),Hp(r,1),o.uncache=1,y9(i)))}},fy={clearProps:function(e,t,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new Wi(e._pt,t,r,0,0,TK);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},Vp=[1,0,0,1,0,0],S9={},M9=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},nT=function(e){var t=Qo(e,Nn);return M9(t)?Vp:t.substr(7).match(Ik).map(Qn)},PE=function(e,t){var r=e._gsap||yu(e),i=e.style,s=nT(e),o,a,l,c;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?Vp:s):(s===Vp&&!e.offsetParent&&e!==bh&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextElementSibling,bh.appendChild(e)),s=nT(e),l?i.display=l:Up(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):bh.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},z3=function(e,t,r,i,s,o){var a=e._gsap,l=s||PE(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,h=a.xOffset||0,p=a.yOffset||0,m=l[0],y=l[1],g=l[2],x=l[3],v=l[4],b=l[5],w=t.split(" "),A=parseFloat(w[0])||0,T=parseFloat(w[1])||0,D,O,C,B;r?l!==Vp&&(O=m*x-y*g)&&(C=A*(x/O)+T*(-g/O)+(g*b-x*v)/O,B=A*(-y/O)+T*(m/O)-(m*b-y*v)/O,A=C,T=B):(D=b9(e),A=D.x+(~w[0].indexOf("%")?A/100*D.width:A),T=D.y+(~(w[1]||w[0]).indexOf("%")?T/100*D.height:T)),i||i!==!1&&a.smooth?(v=A-c,b=T-u,a.xOffset=h+(v*m+b*g)-v,a.yOffset=p+(v*y+b*x)-b):a.xOffset=a.yOffset=0,a.xOrigin=A,a.yOrigin=T,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!r,e.style[wo]="0px 0px",o&&(Ll(o,a,"xOrigin",c,A),Ll(o,a,"yOrigin",u,T),Ll(o,a,"xOffset",h,a.xOffset),Ll(o,a,"yOffset",p,a.yOffset)),e.setAttribute("data-svg-origin",A+" "+T)},Hp=function(e,t){var r=e._gsap||new a9(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=Qo(e,wo)||"0",u,h,p,m,y,g,x,v,b,w,A,T,D,O,C,B,G,Y,oe,V,S,L,z,q,F,X,$,P,M,W,Z,N;return u=h=p=g=x=v=b=w=A=0,m=y=1,r.svg=!!(e.getCTM&&w9(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[Nn]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Nn]!=="none"?l[Nn]:"")),i.scale=i.rotate=i.translate="none"),O=PE(e,r.svg),r.svg&&(r.uncache?(F=e.getBBox(),c=r.xOrigin-F.x+"px "+(r.yOrigin-F.y)+"px",q=""):q=!t&&e.getAttribute("data-svg-origin"),z3(e,q||c,!!q||r.originIsAbsolute,r.smooth!==!1,O)),T=r.xOrigin||0,D=r.yOrigin||0,O!==Vp&&(Y=O[0],oe=O[1],V=O[2],S=O[3],u=L=O[4],h=z=O[5],O.length===6?(m=Math.sqrt(Y*Y+oe*oe),y=Math.sqrt(S*S+V*V),g=Y||oe?kf(oe,Y)*qc:0,b=V||S?kf(V,S)*qc+g:0,b&&(y*=Math.abs(Math.cos(b*wh))),r.svg&&(u-=T-(T*Y+D*V),h-=D-(T*oe+D*S))):(N=O[6],W=O[7],$=O[8],P=O[9],M=O[10],Z=O[11],u=O[12],h=O[13],p=O[14],C=kf(N,M),x=C*qc,C&&(B=Math.cos(-C),G=Math.sin(-C),q=L*B+$*G,F=z*B+P*G,X=N*B+M*G,$=L*-G+$*B,P=z*-G+P*B,M=N*-G+M*B,Z=W*-G+Z*B,L=q,z=F,N=X),C=kf(-V,M),v=C*qc,C&&(B=Math.cos(-C),G=Math.sin(-C),q=Y*B-$*G,F=oe*B-P*G,X=V*B-M*G,Z=S*G+Z*B,Y=q,oe=F,V=X),C=kf(oe,Y),g=C*qc,C&&(B=Math.cos(C),G=Math.sin(C),q=Y*B+oe*G,F=L*B+z*G,oe=oe*B-Y*G,z=z*B-L*G,Y=q,L=F),x&&Math.abs(x)+Math.abs(g)>359.9&&(x=g=0,v=180-v),m=Qn(Math.sqrt(Y*Y+oe*oe+V*V)),y=Qn(Math.sqrt(z*z+N*N)),C=kf(L,z),b=Math.abs(C)>2e-4?C*qc:0,A=Z?1/(Z<0?-Z:Z):0),r.svg&&(q=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!M9(Qo(e,Nn)),q&&e.setAttribute("transform",q))),Math.abs(b)>90&&Math.abs(b)<270&&(s?(m*=-1,b+=g<=0?180:-180,g+=g<=0?180:-180):(y*=-1,b+=b<=0?180:-180)),t=t||r.uncache,r.x=u-((r.xPercent=u&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=h-((r.yPercent=h&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=p+o,r.scaleX=Qn(m),r.scaleY=Qn(y),r.rotation=Qn(g)+a,r.rotationX=Qn(x)+a,r.rotationY=Qn(v)+a,r.skewX=b+a,r.skewY=w+a,r.transformPerspective=A+o,(r.zOrigin=parseFloat(c.split(" ")[2])||0)&&(i[wo]=hy(c)),r.xOffset=r.yOffset=0,r.force3D=fs.force3D,r.renderTransform=r.svg?RK:_9?E9:PK,r.uncache=0,r},hy=function(e){return(e=e.split(" "))[0]+" "+e[1]},hw=function(e,t,r){var i=ti(t);return Qn(parseFloat(t)+parseFloat(ic(e,"x",r+"px",i)))+i},PK=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,E9(e,t)},Bc="0deg",i0="0px",Fc=") ",E9=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.z,c=r.rotation,u=r.rotationY,h=r.rotationX,p=r.skewX,m=r.skewY,y=r.scaleX,g=r.scaleY,x=r.transformPerspective,v=r.force3D,b=r.target,w=r.zOrigin,A="",T=v==="auto"&&e&&e!==1||v===!0;if(w&&(h!==Bc||u!==Bc)){var D=parseFloat(u)*wh,O=Math.sin(D),C=Math.cos(D),B;D=parseFloat(h)*wh,B=Math.cos(D),o=hw(b,o,O*B*-w),a=hw(b,a,-Math.sin(D)*-w),l=hw(b,l,C*B*-w+w)}x!==i0&&(A+="perspective("+x+Fc),(i||s)&&(A+="translate("+i+"%, "+s+"%) "),(T||o!==i0||a!==i0||l!==i0)&&(A+=l!==i0||T?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Fc),c!==Bc&&(A+="rotate("+c+Fc),u!==Bc&&(A+="rotateY("+u+Fc),h!==Bc&&(A+="rotateX("+h+Fc),(p!==Bc||m!==Bc)&&(A+="skew("+p+", "+m+Fc),(y!==1||g!==1)&&(A+="scale("+y+", "+g+Fc),b.style[Nn]=A||"translate(0, 0)"},RK=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.rotation,c=r.skewX,u=r.skewY,h=r.scaleX,p=r.scaleY,m=r.target,y=r.xOrigin,g=r.yOrigin,x=r.xOffset,v=r.yOffset,b=r.forceCSS,w=parseFloat(o),A=parseFloat(a),T,D,O,C,B;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=wh,c*=wh,T=Math.cos(l)*h,D=Math.sin(l)*h,O=Math.sin(l-c)*-p,C=Math.cos(l-c)*p,c&&(u*=wh,B=Math.tan(c-u),B=Math.sqrt(1+B*B),O*=B,C*=B,u&&(B=Math.tan(u),B=Math.sqrt(1+B*B),T*=B,D*=B)),T=Qn(T),D=Qn(D),O=Qn(O),C=Qn(C)):(T=h,C=p,D=O=0),(w&&!~(o+"").indexOf("px")||A&&!~(a+"").indexOf("px"))&&(w=ic(m,"x",o,"px"),A=ic(m,"y",a,"px")),(y||g||x||v)&&(w=Qn(w+y-(y*T+g*O)+x),A=Qn(A+g-(y*D+g*C)+v)),(i||s)&&(B=m.getBBox(),w=Qn(w+i/100*B.width),A=Qn(A+s/100*B.height)),B="matrix("+T+","+D+","+O+","+C+","+w+","+A+")",m.setAttribute("transform",B),b&&(m.style[Nn]=B)},IK=function(e,t,r,i,s){var o=360,a=Pr(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?qc:1),c=l-i,u=i+c+"deg",h,p;return a&&(h=s.split("_")[1],h==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),h==="cw"&&c<0?c=(c+o*J5)%o-~~(c/o)*o:h==="ccw"&&c>0&&(c=(c-o*J5)%o-~~(c/o)*o)),e._pt=p=new Wi(e._pt,t,r,i,c,pK),p.e=u,p.u="deg",e._props.push(r),p},rT=function(e,t){for(var r in t)e[r]=t[r];return e},kK=function(e,t,r){var i=rT({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,c,u,h,p,m,y;i.svg?(c=r.getAttribute("transform"),r.setAttribute("transform",""),o[Nn]=t,a=Hp(r,1),Up(r,Nn),r.setAttribute("transform",c)):(c=getComputedStyle(r)[Nn],o[Nn]=t,a=Hp(r,1),o[Nn]=c);for(l in Ja)c=i[l],u=a[l],c!==u&&s.indexOf(l)<0&&(m=ti(c),y=ti(u),h=m!==y?ic(r,l,c,y):parseFloat(c),p=parseFloat(u),e._pt=new Wi(e._pt,a,l,h,p-h,O3),e._pt.u=y||0,e._props.push(l));rT(a,i)};Hi("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",o=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(a){return e<2?n+a:"border"+a+n});fy[e>1?"border"+n:n]=function(a,l,c,u,h){var p,m;if(arguments.length<4)return p=o.map(function(y){return ka(a,y,c)}),m=p.join(" "),m.split(p[0]).length===5?p[0]:m;p=(u+"").split(" "),m={},o.forEach(function(y,g){return m[y]=p[g]=p[g]||p[(g-1)/2|0]}),a.init(l,m,h)}});var A9={name:"css",register:F3,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var o=this._props,a=e.style,l=r.vars.startAt,c,u,h,p,m,y,g,x,v,b,w,A,T,D,O,C;AE||F3(),this.styles=this.styles||v9(e),C=this.styles.props,this.tween=r;for(g in t)if(g!=="autoRound"&&(u=t[g],!(rs[g]&&l9(g,t,r,i,e,s)))){if(m=typeof u,y=fy[g],m==="function"&&(u=u.call(r,i,e,s),m=typeof u),m==="string"&&~u.indexOf("random(")&&(u=Fp(u)),y)y(this,e,g,u,r)&&(O=1);else if(g.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(g)+"").trim(),u+="",Kl.lastIndex=0,Kl.test(c)||(x=ti(c),v=ti(u)),v?x!==v&&(c=ic(e,g,c,v)+v):x&&(u+=x),this.add(a,"setProperty",c,u,i,s,0,0,g),o.push(g),C.push(g,0,a[g]);else if(m!=="undefined"){if(l&&g in l?(c=typeof l[g]=="function"?l[g].call(r,i,e,s):l[g],Pr(c)&&~c.indexOf("random(")&&(c=Fp(c)),ti(c+"")||(c+=fs.units[g]||ti(ka(e,g))||""),(c+"").charAt(1)==="="&&(c=ka(e,g))):c=ka(e,g),p=parseFloat(c),b=m==="string"&&u.charAt(1)==="="&&u.substr(0,2),b&&(u=u.substr(2)),h=parseFloat(u),g in qo&&(g==="autoAlpha"&&(p===1&&ka(e,"visibility")==="hidden"&&h&&(p=0),C.push("visibility",0,a.visibility),Ll(this,a,"visibility",p?"inherit":"hidden",h?"inherit":"hidden",!h)),g!=="scale"&&g!=="transform"&&(g=qo[g],~g.indexOf(",")&&(g=g.split(",")[0]))),w=g in Ja,w){if(this.styles.save(g),A||(T=e._gsap,T.renderTransform&&!t.parseTransform||Hp(e,t.parseTransform),D=t.smoothOrigin!==!1&&T.smooth,A=this._pt=new Wi(this._pt,a,Nn,0,1,T.renderTransform,T,0,-1),A.dep=1),g==="scale")this._pt=new Wi(this._pt,T,"scaleY",T.scaleY,(b?_h(T.scaleY,b+h):h)-T.scaleY||0,O3),this._pt.u=0,o.push("scaleY",g),g+="X";else if(g==="transformOrigin"){C.push(wo,0,a[wo]),u=CK(u),T.svg?z3(e,u,0,D,0,this):(v=parseFloat(u.split(" ")[2])||0,v!==T.zOrigin&&Ll(this,T,"zOrigin",T.zOrigin,v),Ll(this,a,g,hy(c),hy(u)));continue}else if(g==="svgOrigin"){z3(e,u,1,D,0,this);continue}else if(g in S9){IK(this,T,g,p,b?_h(p,b+u):u);continue}else if(g==="smoothOrigin"){Ll(this,T,"smooth",T.smooth,u);continue}else if(g==="force3D"){T[g]=u;continue}else if(g==="transform"){kK(this,u,e);continue}}else g in a||(g=jh(g)||g);if(w||(h||h===0)&&(p||p===0)&&!dK.test(u)&&g in a)x=(c+"").substr((p+"").length),h||(h=0),v=ti(u)||(g in fs.units?fs.units[g]:x),x!==v&&(p=ic(e,g,c,v)),this._pt=new Wi(this._pt,w?T:a,g,p,(b?_h(p,b+h):h)-p,!w&&(v==="px"||g==="zIndex")&&t.autoRound!==!1?gK:O3),this._pt.u=v||0,x!==v&&v!=="%"&&(this._pt.b=c,this._pt.r=mK);else if(g in a)AK.call(this,e,g,c,b?b+u:u);else if(g in e)this.add(e,g,c||e[g],b?b+u:u,i,s);else if(g!=="parseTransform"){xE(g,u);continue}w||(g in a?C.push(g,0,a[g]):C.push(g,1,c||e[g])),o.push(g)}}O&&p9(this)},render:function(e,t){if(t.tween._time||!CE())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:ka,aliases:qo,getSetter:function(e,t,r){var i=qo[t];return i&&i.indexOf(",")<0&&(t=i),t in Ja&&t!==wo&&(e._gsap.x||ka(e,"x"))?r&&Y5===r?t==="scale"?_K:vK:(Y5=r||{})&&(t==="scale"?bK:wK):e.style&&!pE(e.style[t])?xK:~t.indexOf("-")?yK:ME(e,t)},core:{_removeProperty:Up,_getMatrix:PE}};Gi.utils.checkPrefix=jh;Gi.core.getStyleSaver=v9;(function(n,e,t,r){var i=Hi(n+","+e+","+t,function(s){Ja[s]=1});Hi(e,function(s){fs.units[s]="deg",S9[s]=1}),qo[i[13]]=n+","+e,Hi(r,function(s){var o=s.split(":");qo[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Hi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){fs.units[n]="px"});Gi.registerPlugin(A9);var C9=Gi.registerPlugin(A9)||Gi;C9.core.Tween;var U3={},LK={get exports(){return U3},set exports(n){U3=n}};(function(n){(function(e,t,r){function i(l){var c=this,u=a();c.next=function(){var h=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=h-(c.c=h|0)},c.c=1,c.s0=u(" "),c.s1=u(" "),c.s2=u(" "),c.s0-=u(l),c.s0<0&&(c.s0+=1),c.s1-=u(l),c.s1<0&&(c.s1+=1),c.s2-=u(l),c.s2<0&&(c.s2+=1),u=null}function s(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function o(l,c){var u=new i(l),h=c&&c.state,p=u.next;return p.int32=function(){return u.next()*4294967296|0},p.double=function(){return p()+(p()*2097152|0)*11102230246251565e-32},p.quick=p,h&&(typeof h=="object"&&s(h,u),p.state=function(){return s(u,{})}),p}function a(){var l=4022871197,c=function(u){u=String(u);for(var h=0;h<u.length;h++){l+=u.charCodeAt(h);var p=.02519603282416938*l;l=p>>>0,p-=l,p*=l,l=p>>>0,p-=l,l+=p*4294967296}return(l>>>0)*23283064365386963e-26};return c}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.alea=o})(yi,n,!1)})(LK);var V3={},NK={get exports(){return V3},set exports(n){V3=n}};(function(n){(function(e,t,r){function i(a){var l=this,c="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var h=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^h^h>>>8},a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,l.next()}function s(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l}function o(a,l){var c=new i(a),u=l&&l.state,h=function(){return(c.next()>>>0)/4294967296};return h.double=function(){do var p=c.next()>>>11,m=(c.next()>>>0)/4294967296,y=(p+m)/(1<<21);while(y===0);return y},h.int32=c.next,h.quick=h,u&&(typeof u=="object"&&s(u,c),h.state=function(){return s(c,{})}),h}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.xor128=o})(yi,n,!1)})(NK);var H3={},DK={get exports(){return H3},set exports(n){H3=n}};(function(n){(function(e,t,r){function i(a){var l=this,c="";l.next=function(){var h=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(h^h<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,u==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function s(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l.v=a.v,l.d=a.d,l}function o(a,l){var c=new i(a),u=l&&l.state,h=function(){return(c.next()>>>0)/4294967296};return h.double=function(){do var p=c.next()>>>11,m=(c.next()>>>0)/4294967296,y=(p+m)/(1<<21);while(y===0);return y},h.int32=c.next,h.quick=h,u&&(typeof u=="object"&&s(u,c),h.state=function(){return s(c,{})}),h}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.xorwow=o})(yi,n,!1)})(DK);var W3={},OK={get exports(){return W3},set exports(n){W3=n}};(function(n){(function(e,t,r){function i(a){var l=this;l.next=function(){var u=l.x,h=l.i,p,m;return p=u[h],p^=p>>>7,m=p^p<<24,p=u[h+1&7],m^=p^p>>>10,p=u[h+3&7],m^=p^p>>>3,p=u[h+4&7],m^=p^p<<7,p=u[h+7&7],p=p^p<<13,m^=p^p<<9,u[h]=m,l.i=h+1&7,m};function c(u,h){var p,m=[];if(h===(h|0))m[0]=h;else for(h=""+h,p=0;p<h.length;++p)m[p&7]=m[p&7]<<15^h.charCodeAt(p)+m[p+1&7]<<13;for(;m.length<8;)m.push(0);for(p=0;p<8&&m[p]===0;++p);for(p==8?m[7]=-1:m[p],u.x=m,u.i=0,p=256;p>0;--p)u.next()}c(l,a)}function s(a,l){return l.x=a.x.slice(),l.i=a.i,l}function o(a,l){a==null&&(a=+new Date);var c=new i(a),u=l&&l.state,h=function(){return(c.next()>>>0)/4294967296};return h.double=function(){do var p=c.next()>>>11,m=(c.next()>>>0)/4294967296,y=(p+m)/(1<<21);while(y===0);return y},h.int32=c.next,h.quick=h,u&&(u.x&&s(u,c),h.state=function(){return s(c,{})}),h}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.xorshift7=o})(yi,n,!1)})(OK);var G3={},BK={get exports(){return G3},set exports(n){G3=n}};(function(n){(function(e,t,r){function i(a){var l=this;l.next=function(){var u=l.w,h=l.X,p=l.i,m,y;return l.w=u=u+1640531527|0,y=h[p+34&127],m=h[p=p+1&127],y^=y<<13,m^=m<<17,y^=y>>>15,m^=m>>>12,y=h[p]=y^m,l.i=p,y+(u^u>>>16)|0};function c(u,h){var p,m,y,g,x,v=[],b=128;for(h===(h|0)?(m=h,h=null):(h=h+"\0",m=0,b=Math.max(b,h.length)),y=0,g=-32;g<b;++g)h&&(m^=h.charCodeAt((g+32)%h.length)),g===0&&(x=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,g>=0&&(x=x+1640531527|0,p=v[g&127]^=m+x,y=p==0?y+1:0);for(y>=128&&(v[(h&&h.length||0)&127]=-1),y=127,g=4*128;g>0;--g)m=v[y+34&127],p=v[y=y+1&127],m^=m<<13,p^=p<<17,m^=m>>>15,p^=p>>>12,v[y]=m^p;u.w=x,u.X=v,u.i=y}c(l,a)}function s(a,l){return l.i=a.i,l.w=a.w,l.X=a.X.slice(),l}function o(a,l){a==null&&(a=+new Date);var c=new i(a),u=l&&l.state,h=function(){return(c.next()>>>0)/4294967296};return h.double=function(){do var p=c.next()>>>11,m=(c.next()>>>0)/4294967296,y=(p+m)/(1<<21);while(y===0);return y},h.int32=c.next,h.quick=h,u&&(u.X&&s(u,c),h.state=function(){return s(c,{})}),h}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.xor4096=o})(yi,n,!1)})(BK);var j3={},FK={get exports(){return j3},set exports(n){j3=n}};(function(n){(function(e,t,r){function i(a){var l=this,c="";l.next=function(){var h=l.b,p=l.c,m=l.d,y=l.a;return h=h<<25^h>>>7^p,p=p-m|0,m=m<<24^m>>>8^y,y=y-h|0,l.b=h=h<<20^h>>>12^p,l.c=p=p-m|0,l.d=m<<16^p>>>16^y,l.a=y-h|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,a===Math.floor(a)?(l.a=a/4294967296|0,l.b=a|0):c+=a;for(var u=0;u<c.length+20;u++)l.b^=c.charCodeAt(u)|0,l.next()}function s(a,l){return l.a=a.a,l.b=a.b,l.c=a.c,l.d=a.d,l}function o(a,l){var c=new i(a),u=l&&l.state,h=function(){return(c.next()>>>0)/4294967296};return h.double=function(){do var p=c.next()>>>11,m=(c.next()>>>0)/4294967296,y=(p+m)/(1<<21);while(y===0);return y},h.int32=c.next,h.quick=h,u&&(typeof u=="object"&&s(u,c),h.state=function(){return s(c,{})}),h}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.tychei=o})(yi,n,!1)})(FK);var q3={},zK={get exports(){return q3},set exports(n){q3=n}};const UK={},VK=Object.freeze(Object.defineProperty({__proto__:null,default:UK},Symbol.toStringTag,{value:"Module"})),T9=Xn(VK);(function(n){(function(e,t,r){var i=256,s=6,o=52,a="random",l=r.pow(i,s),c=r.pow(2,o),u=c*2,h=i-1,p;function m(A,T,D){var O=[];T=T==!0?{entropy:!0}:T||{};var C=v(x(T.entropy?[A,w(t)]:A??b(),3),O),B=new y(O),G=function(){for(var Y=B.g(s),oe=l,V=0;Y<c;)Y=(Y+V)*i,oe*=i,V=B.g(1);for(;Y>=u;)Y/=2,oe/=2,V>>>=1;return(Y+V)/oe};return G.int32=function(){return B.g(4)|0},G.quick=function(){return B.g(4)/4294967296},G.double=G,v(w(B.S),t),(T.pass||D||function(Y,oe,V,S){return S&&(S.S&&g(S,B),Y.state=function(){return g(B,{})}),V?(r[a]=Y,oe):Y})(G,C,"global"in T?T.global:this==r,T.state)}function y(A){var T,D=A.length,O=this,C=0,B=O.i=O.j=0,G=O.S=[];for(D||(A=[D++]);C<i;)G[C]=C++;for(C=0;C<i;C++)G[C]=G[B=h&B+A[C%D]+(T=G[C])],G[B]=T;(O.g=function(Y){for(var oe,V=0,S=O.i,L=O.j,z=O.S;Y--;)oe=z[S=h&S+1],V=V*i+z[h&(z[S]=z[L=h&L+oe])+(z[L]=oe)];return O.i=S,O.j=L,V})(i)}function g(A,T){return T.i=A.i,T.j=A.j,T.S=A.S.slice(),T}function x(A,T){var D=[],O=typeof A,C;if(T&&O=="object")for(C in A)try{D.push(x(A[C],T-1))}catch{}return D.length?D:O=="string"?A:A+"\0"}function v(A,T){for(var D=A+"",O,C=0;C<D.length;)T[h&C]=h&(O^=T[h&C]*19)+D.charCodeAt(C++);return w(T)}function b(){try{var A;return p&&(A=p.randomBytes)?A=A(i):(A=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(A)),w(A)}catch{var T=e.navigator,D=T&&T.plugins;return[+new Date,e,D,e.screen,w(t)]}}function w(A){return String.fromCharCode.apply(0,A)}if(v(r.random(),t),n.exports){n.exports=m;try{p=T9}catch{}}else r["seed"+a]=m})(typeof self<"u"?self:yi,[],Math)})(zK);var HK=U3,WK=V3,GK=H3,jK=W3,qK=G3,XK=j3,qu=q3;qu.alea=HK;qu.xor128=WK;qu.xorwow=GK;qu.xorshift7=jK;qu.xor4096=qK;qu.tychei=XK;var P9=qu;const KK=`
varying vec2 vUv;
varying vec3 vPosition;

void main() {
  vUv = uv;
  vPosition = position;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}

`,$K=`
varying vec2 vUv;
float pixels = 5000.0;
uniform float cloud_cover;
uniform vec2 light_origin;
uniform float time_speed;
uniform float stretch;
uniform float cloud_curve;
float light_border_1 = 0.4;
float light_border_2 = 0.6;
uniform float rotation;
uniform vec4 base_color;
uniform vec4 outline_color;
uniform vec4 shadow_base_color;
uniform vec4 shadow_outline_color;
float size = 9.0;
int OCTAVES = 5;
uniform float seed;
uniform float time;
uniform int colors;
float rand(vec2 coord) {
    coord = mod(coord, vec2(1.0,1.0)*floor(size+0.5));
    return fract(sin(dot(coord.xy ,vec2(12.9898,78.233))) * 15.5453 * seed);
}
float noise(vec2 coord){
    vec2 i = floor(coord);
    vec2 f = fract(coord);
    
    float a = rand(i);
    float b = rand(i + vec2(1.0, 0.0));
    float c = rand(i + vec2(0.0, 1.0));
    float d = rand(i + vec2(1.0, 1.0));

    vec2 cubic = f * f * (3.0 - 2.0 * f);

    return mix(a, b, cubic.x) + (c - a) * cubic.y * (1.0 - cubic.x) + (d - b) * cubic.x * cubic.y;
}
float circleNoise(vec2 uv) {
    float uv_y = floor(uv.y);
    uv.x += uv_y*.31;
    vec2 f = fract(uv);
    float h = rand(vec2(floor(uv.x),floor(uv_y)));
    float m = (length(f-0.25-(h*0.5)));
    float r = h*0.25;
    return smoothstep(0.0, r, m*0.75);
}
float fbm(vec2 coord){
    float value = 0.0;
    float scale = 0.5;

    for(int i = 0; i < OCTAVES ; i++){
        value += noise(coord) * scale;
        coord *= 2.0;
        scale *= 0.5;
    }
    return value;
}
float cloud_alpha(vec3 uvw) {
  float c_noise = 0.0;
  
  // more iterations for more turbulence
  for (int i = 0; i < 9; i++) {
      c_noise += circleNoise((uvw.xy * size * 0.3) + (float(i+1)+10.) + (vec2(time*time_speed, 0.0)));
  }
  float fbm = fbm(uvw.xy*size+c_noise + vec2(time*time_speed, 0.0));

  // Scale fbm based on z-coordinate
  fbm *= (1.0 - abs(uvw.z) * 0.5);

  return fbm;
}


vec3 spherify(vec2 uv) {
  vec2 centered = uv * 2.0 - 1.0;
  float z = 1.0 - dot(centered.xy, centered.xy);
  if (z < 0.0) z = 0.0;
  float sign = 1.0;
  if (centered.x < 0.0) sign = -1.0;
  z = sign * sqrt(z);
  vec3 sphere = vec3(centered, z);
  return sphere * 0.5 + 0.5;
}

vec2 rotate(vec2 coord, float angle){
    coord -= 0.5;
    coord *= mat2(vec2(cos(angle),-sin(angle)),vec2(sin(angle),cos(angle)));
    return coord + 0.5;
}
void main() {
  // pixelize uv
  vec2 uv = (floor(vUv.xy * pixels) / pixels) + 0.5;

  // distance to light source
  float d_light = distance(uv, light_origin);

  // rotate UV coordinates
  // uv = rotate(uv, rotation);

  // map to sphere
  vec3 uv3 = spherify(uv);

  // discard pixels outside the sphere
  // if (uv3.z < 0.10) discard;

  // slightly make uv go down on the right, and up in the left
  // uv.y += smoothstep(0.0, cloud_curve, abs(uv.x - 0.4));

  float c = cloud_alpha(vec3(vUv, uv3.z * 0.5 + 0.5));
  
  // assign some colors based on cloud depth & distance from light
  vec4 col = base_color;

  if(colors ==1 ){
    if (c < cloud_cover + 0.03) {
      col = outline_color;
    }
  } 
  else if(colors ==2){
    if (c < cloud_cover + 0.03) {
      col = outline_color;
    }
    if (c < cloud_cover + 0.01) {
      col = shadow_base_color;
    }
  }  
  else if(colors == 3){
    if (c < light_border_1 + 0.01) {
      col = shadow_outline_color;
    }
  
    if (c < cloud_cover + 0.03) {
      col = outline_color;
    }
    
    if (c < cloud_cover + 0.01) {
      col = shadow_base_color;
    }
  }
  else if(colors ==4){

  }
  else{
  
    // if (c < cloud_cover + 0.03) {
    //   col = outline_color;
    // }
    
    // if (c < cloud_cover + 0.01) {
    //   col = shadow_base_color;
    // }
  }
  // gl_FragColor = vec4(col.rgb, step(cloud_cover, c) * col.a);

  // vec3 color = vec3(c, c, c);
  // gl_FragColor = vec4(color, 1.0);

  //  vec3 color = vec3(0.5 * sin(uv3.x * 10.0 + time) + 0.5, 0.5 * sin(uv3.y * 10.0 + time) + 0.5, 0.0);
  // gl_FragColor = vec4(color, 1.0);
  // vec3 color = vec3(0.5 * sin(col.x * 10.0 + time) + 0.5, 0.5 * sin(col.y * 10.0 + time) + 0.5, 0.0);
  vec3 color = vec3(col.x,col.y,col.z);

  gl_FragColor = vec4(color, 1.0);
}



`;function YK(){return Math.random()<.5}function JK(n,e,t=new Le(.39,.7),r=.1){const i=[new qt(n(),n(),n(),1),new qt(n(),n(),n(),1),new qt(n(),n(),n(),1),new qt(n(),n(),n(),1)];return new Mo({uniforms:{base_color:{value:i[0]},outline_color:{value:i[1]},shadow_base_color:{value:i[2]},shadow_outline_color:{value:i[3]},cloud_cover:{value:.3},stretch:{value:1},cloud_curve:{value:0},time_speed:{value:r},rotation:{value:0},light_origin:{value:t},seed:{value:YK()?Math.random()*10:Math.random()*100},time:{value:0},colors:{value:e}},vertexShader:KK,fragmentShader:$K,transparent:!0,side:sm})}function X3({type:n,position:e,orbitRef:t,index:r}){const i=P9(n+r);let s=Math.floor(i()*16777215).toString(16),o=Math.floor(i()*3)+1,a,l;switch(n){case"moon":a=1,l="white";break;case"sun":a=20,l="yellow";break;default:a=2,l="#"+s;break}const c=_e.useMemo(()=>n==="planet"?JK(i,o):null,[n]),u=_e.useRef();return fE((h,p)=>{c&&(c.uniforms.time.value+=p)}),Un("mesh",{ref:u,position:e,children:[qe("sphereGeometry",{args:[a,32,32]}),n==="planet"?qe("shaderMaterial",{attach:"material",args:[c]}):qe("meshStandardMaterial",{color:l,emissive:l,emissiveIntensity:1}),qe(QK,{orbitRef:t})]})}function QK({orbitRef:n}){const e=_e.useRef(),{camera:t}=zo();return qe("group",{ref:e,onClick:i=>{if(i.stopPropagation(),n.current&&e.current){n.current.target.copy(e.current.position);const s=e.current.position.clone().add(e.current.position.clone().normalize().multiplyScalar(10));C9.to(t.position,{duration:2.5,x:s.x,y:s.y,z:s.z,ease:uK.easeOut,onUpdate:()=>{var o;t.updateProjectionMatrix(),(o=n.current)==null||o.update()},onComplete:()=>{}})}},children:n.children})}function iT(){const n=_e.useRef(),[e,t]=_e.useState(200);function r(l,c,u){const h=P9(l),p=[],m=2+u;function y(g){for(const x of p){const v=x[0]-g[0],b=x[1]-g[1],w=x[2]-g[2];if(Math.sqrt(v*v+b*b+w*w)<m)return!0}return!1}for(;p.length<c;){const g=h()*220-110,x=h()*220-110,v=h()*220-110,b=[g,x,v];y(b)||p.push(b)}return p}const o=r("xD12",e,10);function a({children:l,orbitRef:c}){const u=Ck();return qe("group",{onClick:h=>{h.stopPropagation(),h.delta<=2&&o.findIndex(p=>p.toString()===h.object.position.toArray().toString())},onPointerOver:h=>{document.body.style.cursor="pointer"},onPointerOut:h=>{document.body.style.cursor="default"},onPointerMissed:h=>{h.button===0&&u.refresh().fit()},children:ra.Children.map(l,h=>ra.cloneElement(h,{orbitRef:c}))})}return Un(BS,{children:[qe("hemisphereLight",{color:"white",groundColor:"#ff0f00",position:[-7,25,13],intensity:1}),qe(Ak,{fit:!0,clip:!0,observe:!0,margin:1.2,children:Un(a,{orbitRef:n,children:[qe(X3,{type:"sun",position:[0,0,0],orbitRef:n,glowColor:"white"},"sun"),o.map((l,c)=>qe(X3,{type:"planet",position:l,index:c,orbitRef:n,glowColor:"white"},`planet-${c}`))]})}),qe("ambientLight",{}),qe("pointLight",{position:[10,10,10]}),qe(Mk,{ref:n,makeDefault:!0,autoRotate:!0,autoRotateSpeed:.15,minPolarAngle:0,maxPolarAngle:Math.PI/2,enablePan:!1,enableDamping:!0})]})}/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dy(){return dy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dy.apply(this,arguments)}var Nl;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Nl||(Nl={}));const sT="popstate";function ZK(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return K3("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:R9(i)}return t$(e,t,null,n)}function ji(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function RE(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function e$(){return Math.random().toString(36).substr(2,8)}function oT(n,e){return{usr:n.state,key:n.key,idx:e}}function K3(n,e,t,r){return t===void 0&&(t=null),dy({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?xv(e):e,{state:t,key:e&&e.key||r||e$()})}function R9(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xv(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function t$(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Nl.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(dy({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Nl.Pop;let x=u(),v=x==null?null:x-c;c=x,l&&l({action:a,location:g.location,delta:v})}function p(x,v){a=Nl.Push;let b=K3(g.location,x,v);t&&t(b,x),c=u()+1;let w=oT(b,c),A=g.createHref(b);try{o.pushState(w,"",A)}catch{i.location.assign(A)}s&&l&&l({action:a,location:g.location,delta:1})}function m(x,v){a=Nl.Replace;let b=K3(g.location,x,v);t&&t(b,x),c=u();let w=oT(b,c),A=g.createHref(b);o.replaceState(w,"",A),s&&l&&l({action:a,location:g.location,delta:0})}function y(x){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof x=="string"?x:R9(x);return ji(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let g={get action(){return a},get location(){return n(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(sT,h),l=x,()=>{i.removeEventListener(sT,h),l=null}},createHref(x){return e(i,x)},createURL:y,encodeLocation(x){let v=y(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:m,go(x){return o.go(x)}};return g}var aT;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(aT||(aT={}));function n$(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?xv(e):e,i=L9(r.pathname||"/",t);if(i==null)return null;let s=I9(n);r$(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=h$(s[a],m$(i));return o}function I9(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ji(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Sh([r,l.relativePath]),u=t.concat(l);s.children&&s.children.length>0&&(ji(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),I9(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:u$(c,s.index),routesMeta:u})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of k9(s.path))i(s,o,l)}),e}function k9(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=k9(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function r$(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:f$(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const i$=/^:\w+$/,s$=3,o$=2,a$=1,l$=10,c$=-2,lT=n=>n==="*";function u$(n,e){let t=n.split("/"),r=t.length;return t.some(lT)&&(r+=c$),e&&(r+=o$),t.filter(i=>!lT(i)).reduce((i,s)=>i+(i$.test(s)?s$:s===""?a$:l$),r)}function f$(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function h$(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=d$({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let h=a.route;s.push({params:r,pathname:Sh([i,u.pathname]),pathnameBase:x$(Sh([i,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(i=Sh([i,u.pathnameBase]))}return s}function d$(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=p$(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{if(u==="*"){let p=a[h]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return c[u]=g$(a[h]||"",u),c},{}),pathname:s,pathnameBase:o,pattern:n}}function p$(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),RE(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return n.endsWith("*")?(r.push("*"),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function m$(n){try{return decodeURI(n)}catch(e){return RE(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function g$(n,e){try{return decodeURIComponent(n)}catch(t){return RE(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function L9(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}const Sh=n=>n.join("/").replace(/\/\/+/g,"/"),x$=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/");function y$(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const v$=["post","put","patch","delete"];[...v$];/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _$(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}const b$=typeof Object.is=="function"?Object.is:_$,{useState:w$,useEffect:S$,useLayoutEffect:M$,useDebugValue:E$}=Uw;function A$(n,e,t){const r=e(),[{inst:i},s]=w$({inst:{value:r,getSnapshot:e}});return M$(()=>{i.value=r,i.getSnapshot=e,dw(i)&&s({inst:i})},[n,r,e]),S$(()=>(dw(i)&&s({inst:i}),n(()=>{dw(i)&&s({inst:i})})),[n]),E$(r),r}function dw(n){const e=n.getSnapshot,t=n.value;try{const r=e();return!b$(t,r)}catch{return!0}}function C$(n,e,t){return e()}const T$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",P$=!T$,R$=P$?C$:A$;"useSyncExternalStore"in Uw&&(n=>n.useSyncExternalStore)(Uw);const N9=_e.createContext(null),D9=_e.createContext(null),O9=_e.createContext(null),yv=_e.createContext(null),vv=_e.createContext({outlet:null,matches:[]}),B9=_e.createContext(null);function $3(){return $3=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$3.apply(this,arguments)}function IE(){return _e.useContext(yv)!=null}function I$(){return IE()||ji(!1),_e.useContext(yv).location}function k$(n,e){IE()||ji(!1);let{navigator:t}=_e.useContext(O9),r=_e.useContext(D9),{matches:i}=_e.useContext(vv),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=I$(),c;if(e){var u;let g=typeof e=="string"?xv(e):e;a==="/"||(u=g.pathname)!=null&&u.startsWith(a)||ji(!1),c=g}else c=l;let h=c.pathname||"/",p=a==="/"?h:h.slice(a.length)||"/",m=n$(n,{pathname:p}),y=O$(m&&m.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Sh([a,t.encodeLocation?t.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:Sh([a,t.encodeLocation?t.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r||void 0);return e&&y?_e.createElement(yv.Provider,{value:{location:$3({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Nl.Pop}},y):y}function L$(){let n=U$(),e=y$(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return _e.createElement(_e.Fragment,null,_e.createElement("h2",null,"Unexpected Application Error!"),_e.createElement("h3",{style:{fontStyle:"italic"}},e),t?_e.createElement("pre",{style:i},t):null,s)}class N$ extends _e.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?_e.createElement(vv.Provider,{value:this.props.routeContext},_e.createElement(B9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function D$(n){let{routeContext:e,match:t,children:r}=n,i=_e.useContext(N9);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),_e.createElement(vv.Provider,{value:e},r)}function O$(n,e,t){if(e===void 0&&(e=[]),n==null)if(t!=null&&t.errors)n=t.matches;else return null;let r=n,i=t==null?void 0:t.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||ji(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,c=null;t&&(o.route.ErrorBoundary?c=_e.createElement(o.route.ErrorBoundary,null):o.route.errorElement?c=o.route.errorElement:c=_e.createElement(L$,null));let u=e.concat(r.slice(0,a+1)),h=()=>{let p=s;return l?p=c:o.route.Component?p=_e.createElement(o.route.Component,null):o.route.element&&(p=o.route.element),_e.createElement(D$,{match:o,routeContext:{outlet:s,matches:u},children:p})};return t&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?_e.createElement(N$,{location:t.location,component:c,error:l,children:h(),routeContext:{outlet:null,matches:u}}):h()},null)}var cT;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator"})(cT||(cT={}));var py;(function(n){n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(py||(py={}));function B$(n){let e=_e.useContext(D9);return e||ji(!1),e}function F$(n){let e=_e.useContext(vv);return e||ji(!1),e}function z$(n){let e=F$(),t=e.matches[e.matches.length-1];return t.route.id||ji(!1),t.route.id}function U$(){var n;let e=_e.useContext(B9),t=B$(py.UseRouteError),r=z$(py.UseRouteError);return e||((n=t.errors)==null?void 0:n[r])}function F9(n){ji(!1)}function V$(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Nl.Pop,navigator:s,static:o=!1}=n;IE()&&ji(!1);let a=e.replace(/^\/*/,"/"),l=_e.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=xv(r));let{pathname:c="/",search:u="",hash:h="",state:p=null,key:m="default"}=r,y=_e.useMemo(()=>{let g=L9(c,a);return g==null?null:{location:{pathname:g,search:u,hash:h,state:p,key:m},navigationType:i}},[a,c,u,h,p,m,i]);return y==null?null:_e.createElement(O9.Provider,{value:l},_e.createElement(yv.Provider,{children:t,value:y}))}function H$(n){let{children:e,location:t}=n,r=_e.useContext(N9),i=r&&!e?r.router.routes:Y3(e);return k$(i,t)}var uT;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(uT||(uT={}));new Promise(()=>{});function Y3(n,e){e===void 0&&(e=[]);let t=[];return _e.Children.forEach(n,(r,i)=>{if(!_e.isValidElement(r))return;if(r.type===_e.Fragment){t.push.apply(t,Y3(r.props.children,e));return}r.type!==F9&&ji(!1),!r.props.index||!r.props.children||ji(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Y3(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function W$(n){let{basename:e,children:t,window:r}=n,i=_e.useRef();i.current==null&&(i.current=ZK({window:r,v5Compat:!0}));let s=i.current,[o,a]=_e.useState({action:s.action,location:s.location});return _e.useLayoutEffect(()=>s.listen(a),[s]),_e.createElement(V$,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}var fT;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(fT||(fT={}));var hT;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(hT||(hT={}));var G$={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}},j$={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}},q$={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7096959}},testnet:!0},X$={id:56,name:"BNB Smart Chain",network:"bsc",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://rpc.ankr.com/bsc"]},public:{http:["https://rpc.ankr.com/bsc"]}},blockExplorers:{etherscan:{name:"BscScan",url:"https://bscscan.com"},default:{name:"BscScan",url:"https://bscscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}},K$={id:250,name:"Fantom",network:"fantom",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpc.ankr.com/fantom"]},public:{http:["https://rpc.ankr.com/fantom"]}},blockExplorers:{etherscan:{name:"FTMScan",url:"https://ftmscan.com"},default:{name:"FTMScan",url:"https://ftmscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:33001987}}},$$={id:5,network:"goerli",name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-goerli.g.alchemy.com/v2"],webSocket:["wss://eth-goerli.g.alchemy.com/v2"]},infura:{http:["https://goerli.infura.io/v3"],webSocket:["wss://goerli.infura.io/ws/v3"]},default:{http:["https://rpc.ankr.com/eth_goerli"]},public:{http:["https://rpc.ankr.com/eth_goerli"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli.etherscan.io"},default:{name:"Etherscan",url:"https://goerli.etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xA292E2E58d4ddEb29C33c63173d0E8B7a2A4c62e",blockCreated:8610406},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670}},testnet:!0},Y$={id:100,name:"Gnosis",network:"gnosis",nativeCurrency:{decimals:18,name:"Gnosis",symbol:"xDAI"},rpcUrls:{default:{http:["https://rpc.gnosischain.com"]},public:{http:["https://rpc.gnosischain.com"]}},blockExplorers:{etherscan:{name:"Gnosisscan",url:"https://gnosisscan.io/"},default:{name:"Gnosis Chain Explorer",url:"https://blockscout.com/xdai/mainnet/"}}},z9={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xE4Acdd618deED4e6d2f03b9bf62dc6118FC9A4da",blockCreated:16773775},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}},J$={id:10,name:"Optimism",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263}}},Q$={id:137,name:"Polygon",network:"matic",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}},kE=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},pw=(n,e,t)=>(kE(n,e,"read from private field"),t?t.call(n):e.get(n)),mw=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},Ix=(n,e,t,r)=>(kE(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),Z$=(n,e,t)=>(kE(n,e,"access private method"),t);function eY({storage:n,key:e="REACT_QUERY_OFFLINE_CACHE",throttleTime:t=1e3,serialize:r=JSON.stringify,deserialize:i=JSON.parse,retry:s}){if(n){const o=a=>{try{n.setItem(e,r(a));return}catch(l){return l}};return{persistClient:tY(a=>{let l=a,c=o(l),u=0;for(;c&&l;)u++,l=s==null?void 0:s({persistedClient:l,error:c,errorCount:u}),l&&(c=o(l))},t),restoreClient:()=>{const a=n.getItem(e);if(a)return i(a)},removeClient:()=>{n.removeItem(e)}}}return{persistClient:dT,restoreClient:()=>{},removeClient:dT}}function tY(n,e=100){let t=null,r;return function(...i){r=i,t===null&&(t=setTimeout(()=>{n(...r),t=null},e))}}function dT(){}class _v{constructor(){this.listeners=[],this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.push(e),this.onSubscribe(),()=>{this.listeners=this.listeners.filter(t=>t!==e),this.onUnsubscribe()}}hasListeners(){return this.listeners.length>0}onSubscribe(){}onUnsubscribe(){}}const LE=typeof window>"u"||"Deno"in window;function co(){}function nY(n,e){return typeof n=="function"?n(e):n}function rY(n){return typeof n=="number"&&n>=0&&n!==1/0}function iY(n,e){return Math.max(n+(e||0)-Date.now(),0)}function kx(n,e,t){return bv(n)?typeof e=="function"?{...t,queryKey:n,queryFn:e}:{...e,queryKey:n}:n}function Ml(n,e,t){return bv(n)?[{...e,queryKey:n},t]:[n||{},e]}function pT(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=n;if(bv(o)){if(r){if(e.queryHash!==NE(o,e.options))return!1}else if(!my(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function mT(n,e){const{exact:t,fetching:r,predicate:i,mutationKey:s}=n;if(bv(s)){if(!e.options.mutationKey)return!1;if(t){if(lu(e.options.mutationKey)!==lu(s))return!1}else if(!my(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function NE(n,e){return((e==null?void 0:e.queryKeyHashFn)||lu)(n)}function lu(n){return JSON.stringify(n,(e,t)=>J3(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function my(n,e){return U9(n,e)}function U9(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!U9(n[t],e[t])):!1}function V9(n,e){if(n===e)return n;const t=gT(n)&&gT(e);if(t||J3(n)&&J3(e)){const r=t?n.length:Object.keys(n).length,i=t?e:Object.keys(e),s=i.length,o=t?[]:{};let a=0;for(let l=0;l<s;l++){const c=t?l:i[l];o[c]=V9(n[c],e[c]),o[c]===n[c]&&a++}return r===s&&a===r?n:o}return e}function gT(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function J3(n){if(!xT(n))return!1;const e=n.constructor;if(typeof e>"u")return!0;const t=e.prototype;return!(!xT(t)||!t.hasOwnProperty("isPrototypeOf"))}function xT(n){return Object.prototype.toString.call(n)==="[object Object]"}function bv(n){return Array.isArray(n)}function H9(n){return new Promise(e=>{setTimeout(e,n)})}function yT(n){H9(0).then(n)}function sY(){if(typeof AbortController=="function")return new AbortController}function oY(n,e,t){return t.isDataEqual!=null&&t.isDataEqual(n,e)?n:typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?V9(n,e):e}class aY extends _v{constructor(){super(),this.setup=e=>{if(!LE&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,(t=this.cleanup)==null||t.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused=e,e&&this.onFocus()}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Q3=new aY;class lY extends _v{constructor(){super(),this.setup=e=>{if(!LE&&window.addEventListener){const t=()=>e();return window.addEventListener("online",t,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,(t=this.cleanup)==null||t.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online=e,e&&this.onOnline()}onOnline(){this.listeners.forEach(e=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const gy=new lY;function cY(n){return Math.min(1e3*2**n,3e4)}function DE(n){return(n??"online")==="online"?gy.isOnline():!0}class W9{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function gw(n){return n instanceof W9}function G9(n){let e=!1,t=0,r=!1,i,s,o;const a=new Promise((x,v)=>{s=x,o=v}),l=x=>{r||(m(new W9(x)),n.abort==null||n.abort())},c=()=>{e=!0},u=()=>{e=!1},h=()=>!Q3.isFocused()||n.networkMode!=="always"&&!gy.isOnline(),p=x=>{r||(r=!0,n.onSuccess==null||n.onSuccess(x),i==null||i(),s(x))},m=x=>{r||(r=!0,n.onError==null||n.onError(x),i==null||i(),o(x))},y=()=>new Promise(x=>{i=v=>{const b=r||!h();return b&&x(v),b},n.onPause==null||n.onPause()}).then(()=>{i=void 0,r||n.onContinue==null||n.onContinue()}),g=()=>{if(r)return;let x;try{x=n.fn()}catch(v){x=Promise.reject(v)}Promise.resolve(x).then(p).catch(v=>{var b,w;if(r)return;const A=(b=n.retry)!=null?b:3,T=(w=n.retryDelay)!=null?w:cY,D=typeof T=="function"?T(t,v):T,O=A===!0||typeof A=="number"&&t<A||typeof A=="function"&&A(t,v);if(e||!O){m(v);return}t++,n.onFail==null||n.onFail(t,v),H9(D).then(()=>{if(h())return y()}).then(()=>{e?m(v):g()})})};return DE(n.networkMode)?g():y().then(g),{promise:a,cancel:l,continue:()=>(i==null?void 0:i())?a:Promise.resolve(),cancelRetry:c,continueRetry:u}}const OE=console;function uY(){let n=[],e=0,t=u=>{u()},r=u=>{u()};const i=u=>{let h;e++;try{h=u()}finally{e--,e||a()}return h},s=u=>{e?n.push(u):yT(()=>{t(u)})},o=u=>(...h)=>{s(()=>{u(...h)})},a=()=>{const u=n;n=[],u.length&&yT(()=>{r(()=>{u.forEach(h=>{t(h)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:u=>{t=u},setBatchNotifyFunction:u=>{r=u}}}const vi=uY();class j9{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rY(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(LE?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class fY extends j9{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||OE,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||hY(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,t){const r=oY(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}cancel(e){var t;const r=this.promise;return(t=this.retryer)==null||t.cancel(e),r?r.then(co).catch(co):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!iY(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t&&t.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t&&t.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.indexOf(e)!==-1&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,t){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&t!=null&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}Array.isArray(this.options.queryKey);const o=sY(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(a);const c=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn"),u={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:c};if(l(u),(r=this.options.behavior)==null||r.onFetch(u),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=u.fetchOptions)==null?void 0:i.meta)){var h;this.dispatch({type:"fetch",meta:(h=u.fetchOptions)==null?void 0:h.meta})}const p=m=>{if(gw(m)&&m.silent||this.dispatch({type:"error",error:m}),!gw(m)){var y,g,x,v;(y=(g=this.cache.config).onError)==null||y.call(g,m,this),(x=(v=this.cache.config).onSettled)==null||x.call(v,this.state.data,m,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=G9({fn:u.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:m=>{var y,g,x,v;if(typeof m>"u"){p(new Error("undefined"));return}this.setData(m),(y=(g=this.cache.config).onSuccess)==null||y.call(g,m,this),(x=(v=this.cache.config).onSettled)==null||x.call(v,m,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:p,onFail:(m,y)=>{this.dispatch({type:"failed",failureCount:m,error:y})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const t=r=>{var i,s;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:DE(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(s=e.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return gw(o)&&o.revert&&this.revertState?{...this.revertState}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),vi.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function hY(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=typeof e<"u",r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"loading",fetchStatus:"idle"}}class dY extends _v{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,t,r){var i;const s=t.queryKey,o=(i=t.queryHash)!=null?i:NE(s,t);let a=this.get(o);return a||(a=new fY({cache:this,logger:e.getLogger(),queryKey:s,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){vi.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,t){const[r]=Ml(e,t);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>pT(r,i))}findAll(e,t){const[r]=Ml(e,t);return Object.keys(r).length>0?this.queries.filter(i=>pT(r,i)):this.queries}notify(e){vi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){vi.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){vi.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class pY extends j9{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||OE,this.observers=[],this.state=e.state||mY(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(t=>t!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,t;return(e=(t=this.retryer)==null?void 0:t.continue())!=null?e:this.execute()}async execute(){const e=()=>{var O;return this.retryer=G9({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(C,B)=>{this.dispatch({type:"failed",failureCount:C,error:B})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(O=this.options.retry)!=null?O:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},t=this.state.status==="loading";try{var r,i,s,o,a,l,c,u;if(!t){var h,p,m,y;this.dispatch({type:"loading",variables:this.options.variables}),await((h=(p=this.mutationCache.config).onMutate)==null?void 0:h.call(p,this.state.variables,this));const C=await((m=(y=this.options).onMutate)==null?void 0:m.call(y,this.state.variables));C!==this.state.context&&this.dispatch({type:"loading",context:C,variables:this.state.variables})}const O=await e();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,O,this.state.variables,this.state.context,this)),await((s=(o=this.options).onSuccess)==null?void 0:s.call(o,O,this.state.variables,this.state.context)),await((a=(l=this.mutationCache.config).onSettled)==null?void 0:a.call(l,O,null,this.state.variables,this.state.context,this)),await((c=(u=this.options).onSettled)==null?void 0:c.call(u,O,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:O}),O}catch(O){try{var g,x,v,b,w,A,T,D;throw await((g=(x=this.mutationCache.config).onError)==null?void 0:g.call(x,O,this.state.variables,this.state.context,this)),await((v=(b=this.options).onError)==null?void 0:v.call(b,O,this.state.variables,this.state.context)),await((w=(A=this.mutationCache.config).onSettled)==null?void 0:w.call(A,void 0,O,this.state.variables,this.state.context,this)),await((T=(D=this.options).onSettled)==null?void 0:T.call(D,void 0,O,this.state.variables,this.state.context)),O}finally{this.dispatch({type:"error",error:O})}}}dispatch(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!DE(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=t(this.state),vi.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function mY(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class gY extends _v{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,t,r){const i=new pY({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:r,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(t=>t!==e),this.notify({type:"removed",mutation:e})}clear(){vi.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(t=>mT(e,t))}findAll(e){return this.mutations.filter(t=>mT(e,t))}notify(e){vi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const t=this.mutations.filter(r=>r.state.isPaused);return vi.batch(()=>t.reduce((r,i)=>r.then(()=>i.continue().catch(co)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function xY(){return{onFetch:n=>{n.fetchFn=()=>{var e,t,r,i,s,o;const a=(e=n.fetchOptions)==null||(t=e.meta)==null?void 0:t.refetchPage,l=(r=n.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,c=l==null?void 0:l.pageParam,u=(l==null?void 0:l.direction)==="forward",h=(l==null?void 0:l.direction)==="backward",p=((s=n.state.data)==null?void 0:s.pages)||[],m=((o=n.state.data)==null?void 0:o.pageParams)||[];let y=m,g=!1;const x=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>{var O;if((O=n.signal)!=null&&O.aborted)g=!0;else{var C;(C=n.signal)==null||C.addEventListener("abort",()=>{g=!0})}return n.signal}})},v=n.options.queryFn||(()=>Promise.reject("Missing queryFn")),b=(D,O,C,B)=>(y=B?[O,...y]:[...y,O],B?[C,...D]:[...D,C]),w=(D,O,C,B)=>{if(g)return Promise.reject("Cancelled");if(typeof C>"u"&&!O&&D.length)return Promise.resolve(D);const G={queryKey:n.queryKey,pageParam:C,meta:n.options.meta};x(G);const Y=v(G);return Promise.resolve(Y).then(V=>b(D,C,V,B))};let A;if(!p.length)A=w([]);else if(u){const D=typeof c<"u",O=D?c:vT(n.options,p);A=w(p,D,O)}else if(h){const D=typeof c<"u",O=D?c:yY(n.options,p);A=w(p,D,O,!0)}else{y=[];const D=typeof n.options.getNextPageParam>"u";A=(a&&p[0]?a(p[0],0,p):!0)?w([],D,m[0]):Promise.resolve(b([],m[0],p[0]));for(let C=1;C<p.length;C++)A=A.then(B=>{if(a&&p[C]?a(p[C],C,p):!0){const Y=D?m[C]:vT(n.options,B);return w(B,D,Y)}return Promise.resolve(b(B,m[C],p[C]))})}return A.then(D=>({pages:D,pageParams:y}))}}}}function vT(n,e){return n.getNextPageParam==null?void 0:n.getNextPageParam(e[e.length-1],e)}function yY(n,e){return n.getPreviousPageParam==null?void 0:n.getPreviousPageParam(e[0],e)}class vY{constructor(e={}){this.queryCache=e.queryCache||new dY,this.mutationCache=e.mutationCache||new gY,this.logger=e.logger||OE,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=Q3.subscribe(()=>{Q3.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=gy.subscribe(()=>{gy.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,t;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(t=this.unsubscribeOnline)==null||t.call(this),this.unsubscribeOnline=void 0)}isFetching(e,t){const[r]=Ml(e,t);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,t){var r;return(r=this.queryCache.find(e,t))==null?void 0:r.state.data}ensureQueryData(e,t,r){const i=kx(e,t,r),s=this.getQueryData(i.queryKey);return s?Promise.resolve(s):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:t,state:r})=>{const i=r.data;return[t,i]})}setQueryData(e,t,r){const i=this.queryCache.find(e),s=i==null?void 0:i.state.data,o=nY(t,s);if(typeof o>"u")return;const a=kx(e),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return vi.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,r)]))}getQueryState(e,t){var r;return(r=this.queryCache.find(e,t))==null?void 0:r.state}removeQueries(e,t){const[r]=Ml(e,t),i=this.queryCache;vi.batch(()=>{i.findAll(r).forEach(s=>{i.remove(s)})})}resetQueries(e,t,r){const[i,s]=Ml(e,t,r),o=this.queryCache,a={type:"active",...i};return vi.batch(()=>(o.findAll(i).forEach(l=>{l.reset()}),this.refetchQueries(a,s)))}cancelQueries(e,t,r){const[i,s={}]=Ml(e,t,r);typeof s.revert>"u"&&(s.revert=!0);const o=vi.batch(()=>this.queryCache.findAll(i).map(a=>a.cancel(s)));return Promise.all(o).then(co).catch(co)}invalidateQueries(e,t,r){const[i,s]=Ml(e,t,r);return vi.batch(()=>{var o,a;if(this.queryCache.findAll(i).forEach(c=>{c.invalidate()}),i.refetchType==="none")return Promise.resolve();const l={...i,type:(o=(a=i.refetchType)!=null?a:i.type)!=null?o:"active"};return this.refetchQueries(l,s)})}refetchQueries(e,t,r){const[i,s]=Ml(e,t,r),o=vi.batch(()=>this.queryCache.findAll(i).filter(l=>!l.isDisabled()).map(l=>{var c;return l.fetch(void 0,{...s,cancelRefetch:(c=s==null?void 0:s.cancelRefetch)!=null?c:!0,meta:{refetchPage:i.refetchPage}})}));let a=Promise.all(o).then(co);return s!=null&&s.throwOnError||(a=a.catch(co)),a}fetchQuery(e,t,r){const i=kx(e,t,r),s=this.defaultQueryOptions(i);typeof s.retry>"u"&&(s.retry=!1);const o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(e,t,r){return this.fetchQuery(e,t,r).then(co).catch(co)}fetchInfiniteQuery(e,t,r){const i=kx(e,t,r);return i.behavior=xY(),this.fetchQuery(i)}prefetchInfiniteQuery(e,t,r){return this.fetchInfiniteQuery(e,t,r).then(co).catch(co)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,t){const r=this.queryDefaults.find(i=>lu(e)===lu(i.queryKey));r?r.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}getQueryDefaults(e){if(!e)return;const t=this.queryDefaults.find(r=>my(e,r.queryKey));return t==null?void 0:t.defaultOptions}setMutationDefaults(e,t){const r=this.mutationDefaults.find(i=>lu(e)===lu(i.mutationKey));r?r.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}getMutationDefaults(e){if(!e)return;const t=this.mutationDefaults.find(r=>my(e,r.mutationKey));return t==null?void 0:t.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const t={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=NE(t.queryKey,t)),typeof t.refetchOnReconnect>"u"&&(t.refetchOnReconnect=t.networkMode!=="always"),typeof t.useErrorBoundary>"u"&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}function _Y(n){return{mutationKey:n.options.mutationKey,state:n.state}}function bY(n){return{state:n.state,queryKey:n.queryKey,queryHash:n.queryHash}}function wY(n){return n.state.isPaused}function SY(n){return n.state.status==="success"}function MY(n,e={}){const t=[],r=[];if(e.dehydrateMutations!==!1){const i=e.shouldDehydrateMutation||wY;n.getMutationCache().getAll().forEach(s=>{i(s)&&t.push(_Y(s))})}if(e.dehydrateQueries!==!1){const i=e.shouldDehydrateQuery||SY;n.getQueryCache().getAll().forEach(s=>{i(s)&&r.push(bY(s))})}return{mutations:t,queries:r}}function EY(n,e,t){if(typeof e!="object"||e===null)return;const r=n.getMutationCache(),i=n.getQueryCache(),s=e.mutations||[],o=e.queries||[];s.forEach(a=>{var l;r.build(n,{...t==null||(l=t.defaultOptions)==null?void 0:l.mutations,mutationKey:a.mutationKey},a.state)}),o.forEach(a=>{var l;const c=i.get(a.queryHash),u={...a.state,fetchStatus:"idle"};if(c){c.state.dataUpdatedAt<u.dataUpdatedAt&&c.setState(u);return}i.build(n,{...t==null||(l=t.defaultOptions)==null?void 0:l.queries,queryKey:a.queryKey,queryHash:a.queryHash},u)})}var Z3={},AY={get exports(){return Z3},set exports(n){Z3=n}},q9={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh=_e;function CY(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var TY=typeof Object.is=="function"?Object.is:CY,PY=qh.useState,RY=qh.useEffect,IY=qh.useLayoutEffect,kY=qh.useDebugValue;function LY(n,e){var t=e(),r=PY({inst:{value:t,getSnapshot:e}}),i=r[0].inst,s=r[1];return IY(function(){i.value=t,i.getSnapshot=e,xw(i)&&s({inst:i})},[n,t,e]),RY(function(){return xw(i)&&s({inst:i}),n(function(){xw(i)&&s({inst:i})})},[n]),kY(t),t}function xw(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!TY(n,t)}catch{return!0}}function NY(n,e){return e()}var DY=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?NY:LY;q9.useSyncExternalStore=qh.useSyncExternalStore!==void 0?qh.useSyncExternalStore:DY;(function(n){n.exports=q9})(AY);const _T=_e.createContext(void 0),OY=_e.createContext(!1);function BY(n,e){return n||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=_T),window.ReactQueryClientContext):_T)}const FY=({client:n,children:e,context:t,contextSharing:r=!1})=>{_e.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]);const i=BY(t,r);return _e.createElement(OY.Provider,{value:!t&&r},_e.createElement(i.Provider,{value:n},e))},zY=["added","removed","updated"];function bT(n){return zY.includes(n)}async function UY({queryClient:n,persister:e,maxAge:t=1e3*60*60*24,buster:r="",hydrateOptions:i}){try{const s=await e.restoreClient();if(s)if(s.timestamp){const o=Date.now()-s.timestamp>t,a=s.buster!==r;o||a?e.removeClient():EY(n,s.clientState,i)}else e.removeClient()}catch{e.removeClient()}}async function wT({queryClient:n,persister:e,buster:t="",dehydrateOptions:r}){const i={buster:t,timestamp:Date.now(),clientState:MY(n,r)};await e.persistClient(i)}function VY(n){const e=n.queryClient.getQueryCache().subscribe(r=>{bT(r.type)&&wT(n)}),t=n.queryClient.getMutationCache().subscribe(r=>{bT(r.type)&&wT(n)});return()=>{e(),t()}}function HY(n){let e=!1,t;const r=()=>{e=!0,t==null||t()},i=UY(n).then(()=>{e||(t=VY(n))});return[r,i]}var eS={},WY={get exports(){return eS},set exports(n){eS=n}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new i(u,h||l,p),y=t?t+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=t?t+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,m=h.length,y=new Array(m);p<m;p++)y[p]=h[p].fn;return y},a.prototype.listenerCount=function(c){var u=t?t+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,p,m,y){var g=t?t+c:c;if(!this._events[g])return!1;var x=this._events[g],v=arguments.length,b,w;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,h),!0;case 4:return x.fn.call(x.context,u,h,p),!0;case 5:return x.fn.call(x.context,u,h,p,m),!0;case 6:return x.fn.call(x.context,u,h,p,m,y),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];x.fn.apply(x.context,b)}else{var A=x.length,T;for(w=0;w<A;w++)switch(x[w].once&&this.removeListener(c,x[w].fn,void 0,!0),v){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,u);break;case 3:x[w].fn.call(x[w].context,u,h);break;case 4:x[w].fn.call(x[w].context,u,h,p);break;default:if(!b)for(T=1,b=new Array(v-1);T<v;T++)b[T-1]=arguments[T];x[w].fn.apply(x[w].context,b)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,p){var m=t?t+c:c;if(!this._events[m])return this;if(!u)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===u&&(!p||y.once)&&(!h||y.context===h)&&o(this,m);else{for(var g=0,x=[],v=y.length;g<v;g++)(y[g].fn!==u||p&&!y[g].once||h&&y[g].context!==h)&&x.push(y[g]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=t?t+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(WY);var GY=Object.defineProperty,jY=(n,e,t)=>e in n?GY(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,kn=(n,e,t)=>(jY(n,typeof e!="symbol"?e+"":e,t),t),BE=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},gn=(n,e,t)=>(BE(n,e,"read from private field"),t?t.call(n):e.get(n)),ki=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},wv=(n,e,t,r)=>(BE(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),mr=(n,e,t)=>(BE(n,e,"access private method"),t),FE=class extends eS{constructor({chains:n=[z9,$$],options:e}){super(),kn(this,"chains"),kn(this,"options"),this.chains=n,this.options=e}getBlockExplorerUrls(n){const{default:e,...t}=n.blockExplorers??{};if(e)return[e.url,...Object.values(t).map(r=>r.url)]}isChainUnsupported(n){return!this.chains.some(e=>e.id===n)}},tS={},qY={get exports(){return tS},set exports(n){tS=n}};(function(n){(function(e,t){function r(V,S){if(!V)throw new Error(S||"Assertion failed")}function i(V,S){V.super_=S;var L=function(){};L.prototype=S.prototype,V.prototype=new L,V.prototype.constructor=V}function s(V,S,L){if(s.isBN(V))return V;this.negative=0,this.words=null,this.length=0,this.red=null,V!==null&&((S==="le"||S==="be")&&(L=S,S=10),this._init(V||0,S||10,L||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=T9.Buffer}catch{}s.isBN=function(S){return S instanceof s?!0:S!==null&&typeof S=="object"&&S.constructor.wordSize===s.wordSize&&Array.isArray(S.words)},s.max=function(S,L){return S.cmp(L)>0?S:L},s.min=function(S,L){return S.cmp(L)<0?S:L},s.prototype._init=function(S,L,z){if(typeof S=="number")return this._initNumber(S,L,z);if(typeof S=="object")return this._initArray(S,L,z);L==="hex"&&(L=16),r(L===(L|0)&&L>=2&&L<=36),S=S.toString().replace(/\s+/g,"");var q=0;S[0]==="-"&&(q++,this.negative=1),q<S.length&&(L===16?this._parseHex(S,q,z):(this._parseBase(S,L,q),z==="le"&&this._initArray(this.toArray(),L,z)))},s.prototype._initNumber=function(S,L,z){S<0&&(this.negative=1,S=-S),S<67108864?(this.words=[S&67108863],this.length=1):S<4503599627370496?(this.words=[S&67108863,S/67108864&67108863],this.length=2):(r(S<9007199254740992),this.words=[S&67108863,S/67108864&67108863,1],this.length=3),z==="le"&&this._initArray(this.toArray(),L,z)},s.prototype._initArray=function(S,L,z){if(r(typeof S.length=="number"),S.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(S.length/3),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var F,X,$=0;if(z==="be")for(q=S.length-1,F=0;q>=0;q-=3)X=S[q]|S[q-1]<<8|S[q-2]<<16,this.words[F]|=X<<$&67108863,this.words[F+1]=X>>>26-$&67108863,$+=24,$>=26&&($-=26,F++);else if(z==="le")for(q=0,F=0;q<S.length;q+=3)X=S[q]|S[q+1]<<8|S[q+2]<<16,this.words[F]|=X<<$&67108863,this.words[F+1]=X>>>26-$&67108863,$+=24,$>=26&&($-=26,F++);return this._strip()};function a(V,S){var L=V.charCodeAt(S);if(L>=48&&L<=57)return L-48;if(L>=65&&L<=70)return L-55;if(L>=97&&L<=102)return L-87;r(!1,"Invalid character in "+V)}function l(V,S,L){var z=a(V,L);return L-1>=S&&(z|=a(V,L-1)<<4),z}s.prototype._parseHex=function(S,L,z){this.length=Math.ceil((S.length-L)/6),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var F=0,X=0,$;if(z==="be")for(q=S.length-1;q>=L;q-=2)$=l(S,L,q)<<F,this.words[X]|=$&67108863,F>=18?(F-=18,X+=1,this.words[X]|=$>>>26):F+=8;else{var P=S.length-L;for(q=P%2===0?L+1:L;q<S.length;q+=2)$=l(S,L,q)<<F,this.words[X]|=$&67108863,F>=18?(F-=18,X+=1,this.words[X]|=$>>>26):F+=8}this._strip()};function c(V,S,L,z){for(var q=0,F=0,X=Math.min(V.length,L),$=S;$<X;$++){var P=V.charCodeAt($)-48;q*=z,P>=49?F=P-49+10:P>=17?F=P-17+10:F=P,r(P>=0&&F<z,"Invalid character"),q+=F}return q}s.prototype._parseBase=function(S,L,z){this.words=[0],this.length=1;for(var q=0,F=1;F<=67108863;F*=L)q++;q--,F=F/L|0;for(var X=S.length-z,$=X%q,P=Math.min(X,X-$)+z,M=0,W=z;W<P;W+=q)M=c(S,W,W+q,L),this.imuln(F),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if($!==0){var Z=1;for(M=c(S,W,S.length,L),W=0;W<$;W++)Z*=L;this.imuln(Z),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this._strip()},s.prototype.copy=function(S){S.words=new Array(this.length);for(var L=0;L<this.length;L++)S.words[L]=this.words[L];S.length=this.length,S.negative=this.negative,S.red=this.red};function u(V,S){V.words=S.words,V.length=S.length,V.negative=S.negative,V.red=S.red}if(s.prototype._move=function(S){u(S,this)},s.prototype.clone=function(){var S=new s(null);return this.copy(S),S},s.prototype._expand=function(S){for(;this.length<S;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(S,L){S=S||10,L=L|0||1;var z;if(S===16||S==="hex"){z="";for(var q=0,F=0,X=0;X<this.length;X++){var $=this.words[X],P=(($<<q|F)&16777215).toString(16);F=$>>>24-q&16777215,q+=2,q>=26&&(q-=26,X--),F!==0||X!==this.length-1?z=p[6-P.length]+P+z:z=P+z}for(F!==0&&(z=F.toString(16)+z);z.length%L!==0;)z="0"+z;return this.negative!==0&&(z="-"+z),z}if(S===(S|0)&&S>=2&&S<=36){var M=m[S],W=y[S];z="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var N=Z.modrn(W).toString(S);Z=Z.idivn(W),Z.isZero()?z=N+z:z=p[M-N.length]+N+z}for(this.isZero()&&(z="0"+z);z.length%L!==0;)z="0"+z;return this.negative!==0&&(z="-"+z),z}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var S=this.words[0];return this.length===2?S+=this.words[1]*67108864:this.length===3&&this.words[2]===1?S+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-S:S},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(S,L){return this.toArrayLike(o,S,L)}),s.prototype.toArray=function(S,L){return this.toArrayLike(Array,S,L)};var g=function(S,L){return S.allocUnsafe?S.allocUnsafe(L):new S(L)};s.prototype.toArrayLike=function(S,L,z){this._strip();var q=this.byteLength(),F=z||Math.max(1,q);r(q<=F,"byte array longer than desired length"),r(F>0,"Requested array length <= 0");var X=g(S,F),$=L==="le"?"LE":"BE";return this["_toArrayLike"+$](X,q),X},s.prototype._toArrayLikeLE=function(S,L){for(var z=0,q=0,F=0,X=0;F<this.length;F++){var $=this.words[F]<<X|q;S[z++]=$&255,z<S.length&&(S[z++]=$>>8&255),z<S.length&&(S[z++]=$>>16&255),X===6?(z<S.length&&(S[z++]=$>>24&255),q=0,X=0):(q=$>>>24,X+=2)}if(z<S.length)for(S[z++]=q;z<S.length;)S[z++]=0},s.prototype._toArrayLikeBE=function(S,L){for(var z=S.length-1,q=0,F=0,X=0;F<this.length;F++){var $=this.words[F]<<X|q;S[z--]=$&255,z>=0&&(S[z--]=$>>8&255),z>=0&&(S[z--]=$>>16&255),X===6?(z>=0&&(S[z--]=$>>24&255),q=0,X=0):(q=$>>>24,X+=2)}if(z>=0)for(S[z--]=q;z>=0;)S[z--]=0},Math.clz32?s.prototype._countBits=function(S){return 32-Math.clz32(S)}:s.prototype._countBits=function(S){var L=S,z=0;return L>=4096&&(z+=13,L>>>=13),L>=64&&(z+=7,L>>>=7),L>=8&&(z+=4,L>>>=4),L>=2&&(z+=2,L>>>=2),z+L},s.prototype._zeroBits=function(S){if(S===0)return 26;var L=S,z=0;return L&8191||(z+=13,L>>>=13),L&127||(z+=7,L>>>=7),L&15||(z+=4,L>>>=4),L&3||(z+=2,L>>>=2),L&1||z++,z},s.prototype.bitLength=function(){var S=this.words[this.length-1],L=this._countBits(S);return(this.length-1)*26+L};function x(V){for(var S=new Array(V.bitLength()),L=0;L<S.length;L++){var z=L/26|0,q=L%26;S[L]=V.words[z]>>>q&1}return S}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var S=0,L=0;L<this.length;L++){var z=this._zeroBits(this.words[L]);if(S+=z,z!==26)break}return S},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(S){return this.negative!==0?this.abs().inotn(S).iaddn(1):this.clone()},s.prototype.fromTwos=function(S){return this.testn(S-1)?this.notn(S).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(S){for(;this.length<S.length;)this.words[this.length++]=0;for(var L=0;L<S.length;L++)this.words[L]=this.words[L]|S.words[L];return this._strip()},s.prototype.ior=function(S){return r((this.negative|S.negative)===0),this.iuor(S)},s.prototype.or=function(S){return this.length>S.length?this.clone().ior(S):S.clone().ior(this)},s.prototype.uor=function(S){return this.length>S.length?this.clone().iuor(S):S.clone().iuor(this)},s.prototype.iuand=function(S){var L;this.length>S.length?L=S:L=this;for(var z=0;z<L.length;z++)this.words[z]=this.words[z]&S.words[z];return this.length=L.length,this._strip()},s.prototype.iand=function(S){return r((this.negative|S.negative)===0),this.iuand(S)},s.prototype.and=function(S){return this.length>S.length?this.clone().iand(S):S.clone().iand(this)},s.prototype.uand=function(S){return this.length>S.length?this.clone().iuand(S):S.clone().iuand(this)},s.prototype.iuxor=function(S){var L,z;this.length>S.length?(L=this,z=S):(L=S,z=this);for(var q=0;q<z.length;q++)this.words[q]=L.words[q]^z.words[q];if(this!==L)for(;q<L.length;q++)this.words[q]=L.words[q];return this.length=L.length,this._strip()},s.prototype.ixor=function(S){return r((this.negative|S.negative)===0),this.iuxor(S)},s.prototype.xor=function(S){return this.length>S.length?this.clone().ixor(S):S.clone().ixor(this)},s.prototype.uxor=function(S){return this.length>S.length?this.clone().iuxor(S):S.clone().iuxor(this)},s.prototype.inotn=function(S){r(typeof S=="number"&&S>=0);var L=Math.ceil(S/26)|0,z=S%26;this._expand(L),z>0&&L--;for(var q=0;q<L;q++)this.words[q]=~this.words[q]&67108863;return z>0&&(this.words[q]=~this.words[q]&67108863>>26-z),this._strip()},s.prototype.notn=function(S){return this.clone().inotn(S)},s.prototype.setn=function(S,L){r(typeof S=="number"&&S>=0);var z=S/26|0,q=S%26;return this._expand(z+1),L?this.words[z]=this.words[z]|1<<q:this.words[z]=this.words[z]&~(1<<q),this._strip()},s.prototype.iadd=function(S){var L;if(this.negative!==0&&S.negative===0)return this.negative=0,L=this.isub(S),this.negative^=1,this._normSign();if(this.negative===0&&S.negative!==0)return S.negative=0,L=this.isub(S),S.negative=1,L._normSign();var z,q;this.length>S.length?(z=this,q=S):(z=S,q=this);for(var F=0,X=0;X<q.length;X++)L=(z.words[X]|0)+(q.words[X]|0)+F,this.words[X]=L&67108863,F=L>>>26;for(;F!==0&&X<z.length;X++)L=(z.words[X]|0)+F,this.words[X]=L&67108863,F=L>>>26;if(this.length=z.length,F!==0)this.words[this.length]=F,this.length++;else if(z!==this)for(;X<z.length;X++)this.words[X]=z.words[X];return this},s.prototype.add=function(S){var L;return S.negative!==0&&this.negative===0?(S.negative=0,L=this.sub(S),S.negative^=1,L):S.negative===0&&this.negative!==0?(this.negative=0,L=S.sub(this),this.negative=1,L):this.length>S.length?this.clone().iadd(S):S.clone().iadd(this)},s.prototype.isub=function(S){if(S.negative!==0){S.negative=0;var L=this.iadd(S);return S.negative=1,L._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(S),this.negative=1,this._normSign();var z=this.cmp(S);if(z===0)return this.negative=0,this.length=1,this.words[0]=0,this;var q,F;z>0?(q=this,F=S):(q=S,F=this);for(var X=0,$=0;$<F.length;$++)L=(q.words[$]|0)-(F.words[$]|0)+X,X=L>>26,this.words[$]=L&67108863;for(;X!==0&&$<q.length;$++)L=(q.words[$]|0)+X,X=L>>26,this.words[$]=L&67108863;if(X===0&&$<q.length&&q!==this)for(;$<q.length;$++)this.words[$]=q.words[$];return this.length=Math.max(this.length,$),q!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(S){return this.clone().isub(S)};function v(V,S,L){L.negative=S.negative^V.negative;var z=V.length+S.length|0;L.length=z,z=z-1|0;var q=V.words[0]|0,F=S.words[0]|0,X=q*F,$=X&67108863,P=X/67108864|0;L.words[0]=$;for(var M=1;M<z;M++){for(var W=P>>>26,Z=P&67108863,N=Math.min(M,S.length-1),J=Math.max(0,M-V.length+1);J<=N;J++){var ue=M-J|0;q=V.words[ue]|0,F=S.words[J]|0,X=q*F+Z,W+=X/67108864|0,Z=X&67108863}L.words[M]=Z|0,P=W|0}return P!==0?L.words[M]=P|0:L.length--,L._strip()}var b=function(S,L,z){var q=S.words,F=L.words,X=z.words,$=0,P,M,W,Z=q[0]|0,N=Z&8191,J=Z>>>13,ue=q[1]|0,ae=ue&8191,me=ue>>>13,we=q[2]|0,Ce=we&8191,ce=we>>>13,ye=q[3]|0,ve=ye&8191,De=ye>>>13,We=q[4]|0,$e=We&8191,je=We>>>13,tt=q[5]|0,lt=tt&8191,at=tt>>>13,re=q[6]|0,Q=re&8191,xe=re>>>13,Oe=q[7]|0,Ne=Oe&8191,H=Oe>>>13,R=q[8]|0,I=R&8191,j=R>>>13,se=q[9]|0,K=se&8191,ne=se>>>13,Me=F[0]|0,Pe=Me&8191,Be=Me>>>13,Ze=F[1]|0,Xe=Ze&8191,le=Ze>>>13,Ae=F[2]|0,Ie=Ae&8191,ze=Ae>>>13,it=F[3]|0,ft=it&8191,xt=it>>>13,pn=F[4]|0,Bt=pn&8191,pt=pn>>>13,sr=F[5]|0,Pt=sr&8191,en=sr>>>13,Ys=F[6]|0,tn=Ys&8191,Qt=Ys>>>13,te=F[7]|0,de=te&8191,Se=te>>>13,ge=F[8]|0,Ee=ge&8191,Ke=ge>>>13,mt=F[9]|0,nt=mt&8191,st=mt>>>13;z.negative=S.negative^L.negative,z.length=19,P=Math.imul(N,Pe),M=Math.imul(N,Be),M=M+Math.imul(J,Pe)|0,W=Math.imul(J,Be);var bt=($+P|0)+((M&8191)<<13)|0;$=(W+(M>>>13)|0)+(bt>>>26)|0,bt&=67108863,P=Math.imul(ae,Pe),M=Math.imul(ae,Be),M=M+Math.imul(me,Pe)|0,W=Math.imul(me,Be),P=P+Math.imul(N,Xe)|0,M=M+Math.imul(N,le)|0,M=M+Math.imul(J,Xe)|0,W=W+Math.imul(J,le)|0;var yt=($+P|0)+((M&8191)<<13)|0;$=(W+(M>>>13)|0)+(yt>>>26)|0,yt&=67108863,P=Math.imul(Ce,Pe),M=Math.imul(Ce,Be),M=M+Math.imul(ce,Pe)|0,W=Math.imul(ce,Be),P=P+Math.imul(ae,Xe)|0,M=M+Math.imul(ae,le)|0,M=M+Math.imul(me,Xe)|0,W=W+Math.imul(me,le)|0,P=P+Math.imul(N,Ie)|0,M=M+Math.imul(N,ze)|0,M=M+Math.imul(J,Ie)|0,W=W+Math.imul(J,ze)|0;var vt=($+P|0)+((M&8191)<<13)|0;$=(W+(M>>>13)|0)+(vt>>>26)|0,vt&=67108863,P=Math.imul(ve,Pe),M=Math.imul(ve,Be),M=M+Math.imul(De,Pe)|0,W=Math.imul(De,Be),P=P+Math.imul(Ce,Xe)|0,M=M+Math.imul(Ce,le)|0,M=M+Math.imul(ce,Xe)|0,W=W+Math.imul(ce,le)|0,P=P+Math.imul(ae,Ie)|0,M=M+Math.imul(ae,ze)|0,M=M+Math.imul(me,Ie)|0,W=W+Math.imul(me,ze)|0,P=P+Math.imul(N,ft)|0,M=M+Math.imul(N,xt)|0,M=M+Math.imul(J,ft)|0,W=W+Math.imul(J,xt)|0;var Zt=($+P|0)+((M&8191)<<13)|0;$=(W+(M>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,P=Math.imul($e,Pe),M=Math.imul($e,Be),M=M+Math.imul(je,Pe)|0,W=Math.imul(je,Be),P=P+Math.imul(ve,Xe)|0,M=M+Math.imul(ve,le)|0,M=M+Math.imul(De,Xe)|0,W=W+Math.imul(De,le)|0,P=P+Math.imul(Ce,Ie)|0,M=M+Math.imul(Ce,ze)|0,M=M+Math.imul(ce,Ie)|0,W=W+Math.imul(ce,ze)|0,P=P+Math.imul(ae,ft)|0,M=M+Math.imul(ae,xt)|0,M=M+Math.imul(me,ft)|0,W=W+Math.imul(me,xt)|0,P=P+Math.imul(N,Bt)|0,M=M+Math.imul(N,pt)|0,M=M+Math.imul(J,Bt)|0,W=W+Math.imul(J,pt)|0;var wn=($+P|0)+((M&8191)<<13)|0;$=(W+(M>>>13)|0)+(wn>>>26)|0,wn&=67108863,P=Math.imul(lt,Pe),M=Math.imul(lt,Be),M=M+Math.imul(at,Pe)|0,W=Math.imul(at,Be),P=P+Math.imul($e,Xe)|0,M=M+Math.imul($e,le)|0,M=M+Math.imul(je,Xe)|0,W=W+Math.imul(je,le)|0,P=P+Math.imul(ve,Ie)|0,M=M+Math.imul(ve,ze)|0,M=M+Math.imul(De,Ie)|0,W=W+Math.imul(De,ze)|0,P=P+Math.imul(Ce,ft)|0,M=M+Math.imul(Ce,xt)|0,M=M+Math.imul(ce,ft)|0,W=W+Math.imul(ce,xt)|0,P=P+Math.imul(ae,Bt)|0,M=M+Math.imul(ae,pt)|0,M=M+Math.imul(me,Bt)|0,W=W+Math.imul(me,pt)|0,P=P+Math.imul(N,Pt)|0,M=M+Math.imul(N,en)|0,M=M+Math.imul(J,Pt)|0,W=W+Math.imul(J,en)|0;var ci=($+P|0)+((M&8191)<<13)|0;$=(W+(M>>>13)|0)+(ci>>>26)|0,ci&=67108863,P=Math.imul(Q,Pe),M=Math.imul(Q,Be),M=M+Math.imul(xe,Pe)|0,W=Math.imul(xe,Be),P=P+Math.imul(lt,Xe)|0,M=M+Math.imul(lt,le)|0,M=M+Math.imul(at,Xe)|0,W=W+Math.imul(at,le)|0,P=P+Math.imul($e,Ie)|0,M=M+Math.imul($e,ze)|0,M=M+Math.imul(je,Ie)|0,W=W+Math.imul(je,ze)|0,P=P+Math.imul(ve,ft)|0,M=M+Math.imul(ve,xt)|0,M=M+Math.imul(De,ft)|0,W=W+Math.imul(De,xt)|0,P=P+Math.imul(Ce,Bt)|0,M=M+Math.imul(Ce,pt)|0,M=M+Math.imul(ce,Bt)|0,W=W+Math.imul(ce,pt)|0,P=P+Math.imul(ae,Pt)|0,M=M+Math.imul(ae,en)|0,M=M+Math.imul(me,Pt)|0,W=W+Math.imul(me,en)|0,P=P+Math.imul(N,tn)|0,M=M+Math.imul(N,Qt)|0,M=M+Math.imul(J,tn)|0,W=W+Math.imul(J,Qt)|0;var Xi=($+P|0)+((M&8191)<<13)|0;$=(W+(M>>>13)|0)+(Xi>>>26)|0,Xi&=67108863,P=Math.imul(Ne,Pe),M=Math.imul(Ne,Be),M=M+Math.imul(H,Pe)|0,W=Math.imul(H,Be),P=P+Math.imul(Q,Xe)|0,M=M+Math.imul(Q,le)|0,M=M+Math.imul(xe,Xe)|0,W=W+Math.imul(xe,le)|0,P=P+Math.imul(lt,Ie)|0,M=M+Math.imul(lt,ze)|0,M=M+Math.imul(at,Ie)|0,W=W+Math.imul(at,ze)|0,P=P+Math.imul($e,ft)|0,M=M+Math.imul($e,xt)|0,M=M+Math.imul(je,ft)|0,W=W+Math.imul(je,xt)|0,P=P+Math.imul(ve,Bt)|0,M=M+Math.imul(ve,pt)|0,M=M+Math.imul(De,Bt)|0,W=W+Math.imul(De,pt)|0,P=P+Math.imul(Ce,Pt)|0,M=M+Math.imul(Ce,en)|0,M=M+Math.imul(ce,Pt)|0,W=W+Math.imul(ce,en)|0,P=P+Math.imul(ae,tn)|0,M=M+Math.imul(ae,Qt)|0,M=M+Math.imul(me,tn)|0,W=W+Math.imul(me,Qt)|0,P=P+Math.imul(N,de)|0,M=M+Math.imul(N,Se)|0,M=M+Math.imul(J,de)|0,W=W+Math.imul(J,Se)|0;var sn=($+P|0)+((M&8191)<<13)|0;$=(W+(M>>>13)|0)+(sn>>>26)|0,sn&=67108863,P=Math.imul(I,Pe),M=Math.imul(I,Be),M=M+Math.imul(j,Pe)|0,W=Math.imul(j,Be),P=P+Math.imul(Ne,Xe)|0,M=M+Math.imul(Ne,le)|0,M=M+Math.imul(H,Xe)|0,W=W+Math.imul(H,le)|0,P=P+Math.imul(Q,Ie)|0,M=M+Math.imul(Q,ze)|0,M=M+Math.imul(xe,Ie)|0,W=W+Math.imul(xe,ze)|0,P=P+Math.imul(lt,ft)|0,M=M+Math.imul(lt,xt)|0,M=M+Math.imul(at,ft)|0,W=W+Math.imul(at,xt)|0,P=P+Math.imul($e,Bt)|0,M=M+Math.imul($e,pt)|0,M=M+Math.imul(je,Bt)|0,W=W+Math.imul(je,pt)|0,P=P+Math.imul(ve,Pt)|0,M=M+Math.imul(ve,en)|0,M=M+Math.imul(De,Pt)|0,W=W+Math.imul(De,en)|0,P=P+Math.imul(Ce,tn)|0,M=M+Math.imul(Ce,Qt)|0,M=M+Math.imul(ce,tn)|0,W=W+Math.imul(ce,Qt)|0,P=P+Math.imul(ae,de)|0,M=M+Math.imul(ae,Se)|0,M=M+Math.imul(me,de)|0,W=W+Math.imul(me,Se)|0,P=P+Math.imul(N,Ee)|0,M=M+Math.imul(N,Ke)|0,M=M+Math.imul(J,Ee)|0,W=W+Math.imul(J,Ke)|0;var wt=($+P|0)+((M&8191)<<13)|0;$=(W+(M>>>13)|0)+(wt>>>26)|0,wt&=67108863,P=Math.imul(K,Pe),M=Math.imul(K,Be),M=M+Math.imul(ne,Pe)|0,W=Math.imul(ne,Be),P=P+Math.imul(I,Xe)|0,M=M+Math.imul(I,le)|0,M=M+Math.imul(j,Xe)|0,W=W+Math.imul(j,le)|0,P=P+Math.imul(Ne,Ie)|0,M=M+Math.imul(Ne,ze)|0,M=M+Math.imul(H,Ie)|0,W=W+Math.imul(H,ze)|0,P=P+Math.imul(Q,ft)|0,M=M+Math.imul(Q,xt)|0,M=M+Math.imul(xe,ft)|0,W=W+Math.imul(xe,xt)|0,P=P+Math.imul(lt,Bt)|0,M=M+Math.imul(lt,pt)|0,M=M+Math.imul(at,Bt)|0,W=W+Math.imul(at,pt)|0,P=P+Math.imul($e,Pt)|0,M=M+Math.imul($e,en)|0,M=M+Math.imul(je,Pt)|0,W=W+Math.imul(je,en)|0,P=P+Math.imul(ve,tn)|0,M=M+Math.imul(ve,Qt)|0,M=M+Math.imul(De,tn)|0,W=W+Math.imul(De,Qt)|0,P=P+Math.imul(Ce,de)|0,M=M+Math.imul(Ce,Se)|0,M=M+Math.imul(ce,de)|0,W=W+Math.imul(ce,Se)|0,P=P+Math.imul(ae,Ee)|0,M=M+Math.imul(ae,Ke)|0,M=M+Math.imul(me,Ee)|0,W=W+Math.imul(me,Ke)|0,P=P+Math.imul(N,nt)|0,M=M+Math.imul(N,st)|0,M=M+Math.imul(J,nt)|0,W=W+Math.imul(J,st)|0;var Js=($+P|0)+((M&8191)<<13)|0;$=(W+(M>>>13)|0)+(Js>>>26)|0,Js&=67108863,P=Math.imul(K,Xe),M=Math.imul(K,le),M=M+Math.imul(ne,Xe)|0,W=Math.imul(ne,le),P=P+Math.imul(I,Ie)|0,M=M+Math.imul(I,ze)|0,M=M+Math.imul(j,Ie)|0,W=W+Math.imul(j,ze)|0,P=P+Math.imul(Ne,ft)|0,M=M+Math.imul(Ne,xt)|0,M=M+Math.imul(H,ft)|0,W=W+Math.imul(H,xt)|0,P=P+Math.imul(Q,Bt)|0,M=M+Math.imul(Q,pt)|0,M=M+Math.imul(xe,Bt)|0,W=W+Math.imul(xe,pt)|0,P=P+Math.imul(lt,Pt)|0,M=M+Math.imul(lt,en)|0,M=M+Math.imul(at,Pt)|0,W=W+Math.imul(at,en)|0,P=P+Math.imul($e,tn)|0,M=M+Math.imul($e,Qt)|0,M=M+Math.imul(je,tn)|0,W=W+Math.imul(je,Qt)|0,P=P+Math.imul(ve,de)|0,M=M+Math.imul(ve,Se)|0,M=M+Math.imul(De,de)|0,W=W+Math.imul(De,Se)|0,P=P+Math.imul(Ce,Ee)|0,M=M+Math.imul(Ce,Ke)|0,M=M+Math.imul(ce,Ee)|0,W=W+Math.imul(ce,Ke)|0,P=P+Math.imul(ae,nt)|0,M=M+Math.imul(ae,st)|0,M=M+Math.imul(me,nt)|0,W=W+Math.imul(me,st)|0;var mn=($+P|0)+((M&8191)<<13)|0;$=(W+(M>>>13)|0)+(mn>>>26)|0,mn&=67108863,P=Math.imul(K,Ie),M=Math.imul(K,ze),M=M+Math.imul(ne,Ie)|0,W=Math.imul(ne,ze),P=P+Math.imul(I,ft)|0,M=M+Math.imul(I,xt)|0,M=M+Math.imul(j,ft)|0,W=W+Math.imul(j,xt)|0,P=P+Math.imul(Ne,Bt)|0,M=M+Math.imul(Ne,pt)|0,M=M+Math.imul(H,Bt)|0,W=W+Math.imul(H,pt)|0,P=P+Math.imul(Q,Pt)|0,M=M+Math.imul(Q,en)|0,M=M+Math.imul(xe,Pt)|0,W=W+Math.imul(xe,en)|0,P=P+Math.imul(lt,tn)|0,M=M+Math.imul(lt,Qt)|0,M=M+Math.imul(at,tn)|0,W=W+Math.imul(at,Qt)|0,P=P+Math.imul($e,de)|0,M=M+Math.imul($e,Se)|0,M=M+Math.imul(je,de)|0,W=W+Math.imul(je,Se)|0,P=P+Math.imul(ve,Ee)|0,M=M+Math.imul(ve,Ke)|0,M=M+Math.imul(De,Ee)|0,W=W+Math.imul(De,Ke)|0,P=P+Math.imul(Ce,nt)|0,M=M+Math.imul(Ce,st)|0,M=M+Math.imul(ce,nt)|0,W=W+Math.imul(ce,st)|0;var Ki=($+P|0)+((M&8191)<<13)|0;$=(W+(M>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,P=Math.imul(K,ft),M=Math.imul(K,xt),M=M+Math.imul(ne,ft)|0,W=Math.imul(ne,xt),P=P+Math.imul(I,Bt)|0,M=M+Math.imul(I,pt)|0,M=M+Math.imul(j,Bt)|0,W=W+Math.imul(j,pt)|0,P=P+Math.imul(Ne,Pt)|0,M=M+Math.imul(Ne,en)|0,M=M+Math.imul(H,Pt)|0,W=W+Math.imul(H,en)|0,P=P+Math.imul(Q,tn)|0,M=M+Math.imul(Q,Qt)|0,M=M+Math.imul(xe,tn)|0,W=W+Math.imul(xe,Qt)|0,P=P+Math.imul(lt,de)|0,M=M+Math.imul(lt,Se)|0,M=M+Math.imul(at,de)|0,W=W+Math.imul(at,Se)|0,P=P+Math.imul($e,Ee)|0,M=M+Math.imul($e,Ke)|0,M=M+Math.imul(je,Ee)|0,W=W+Math.imul(je,Ke)|0,P=P+Math.imul(ve,nt)|0,M=M+Math.imul(ve,st)|0,M=M+Math.imul(De,nt)|0,W=W+Math.imul(De,st)|0;var To=($+P|0)+((M&8191)<<13)|0;$=(W+(M>>>13)|0)+(To>>>26)|0,To&=67108863,P=Math.imul(K,Bt),M=Math.imul(K,pt),M=M+Math.imul(ne,Bt)|0,W=Math.imul(ne,pt),P=P+Math.imul(I,Pt)|0,M=M+Math.imul(I,en)|0,M=M+Math.imul(j,Pt)|0,W=W+Math.imul(j,en)|0,P=P+Math.imul(Ne,tn)|0,M=M+Math.imul(Ne,Qt)|0,M=M+Math.imul(H,tn)|0,W=W+Math.imul(H,Qt)|0,P=P+Math.imul(Q,de)|0,M=M+Math.imul(Q,Se)|0,M=M+Math.imul(xe,de)|0,W=W+Math.imul(xe,Se)|0,P=P+Math.imul(lt,Ee)|0,M=M+Math.imul(lt,Ke)|0,M=M+Math.imul(at,Ee)|0,W=W+Math.imul(at,Ke)|0,P=P+Math.imul($e,nt)|0,M=M+Math.imul($e,st)|0,M=M+Math.imul(je,nt)|0,W=W+Math.imul(je,st)|0;var Vr=($+P|0)+((M&8191)<<13)|0;$=(W+(M>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,P=Math.imul(K,Pt),M=Math.imul(K,en),M=M+Math.imul(ne,Pt)|0,W=Math.imul(ne,en),P=P+Math.imul(I,tn)|0,M=M+Math.imul(I,Qt)|0,M=M+Math.imul(j,tn)|0,W=W+Math.imul(j,Qt)|0,P=P+Math.imul(Ne,de)|0,M=M+Math.imul(Ne,Se)|0,M=M+Math.imul(H,de)|0,W=W+Math.imul(H,Se)|0,P=P+Math.imul(Q,Ee)|0,M=M+Math.imul(Q,Ke)|0,M=M+Math.imul(xe,Ee)|0,W=W+Math.imul(xe,Ke)|0,P=P+Math.imul(lt,nt)|0,M=M+Math.imul(lt,st)|0,M=M+Math.imul(at,nt)|0,W=W+Math.imul(at,st)|0;var Hr=($+P|0)+((M&8191)<<13)|0;$=(W+(M>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,P=Math.imul(K,tn),M=Math.imul(K,Qt),M=M+Math.imul(ne,tn)|0,W=Math.imul(ne,Qt),P=P+Math.imul(I,de)|0,M=M+Math.imul(I,Se)|0,M=M+Math.imul(j,de)|0,W=W+Math.imul(j,Se)|0,P=P+Math.imul(Ne,Ee)|0,M=M+Math.imul(Ne,Ke)|0,M=M+Math.imul(H,Ee)|0,W=W+Math.imul(H,Ke)|0,P=P+Math.imul(Q,nt)|0,M=M+Math.imul(Q,st)|0,M=M+Math.imul(xe,nt)|0,W=W+Math.imul(xe,st)|0;var _t=($+P|0)+((M&8191)<<13)|0;$=(W+(M>>>13)|0)+(_t>>>26)|0,_t&=67108863,P=Math.imul(K,de),M=Math.imul(K,Se),M=M+Math.imul(ne,de)|0,W=Math.imul(ne,Se),P=P+Math.imul(I,Ee)|0,M=M+Math.imul(I,Ke)|0,M=M+Math.imul(j,Ee)|0,W=W+Math.imul(j,Ke)|0,P=P+Math.imul(Ne,nt)|0,M=M+Math.imul(Ne,st)|0,M=M+Math.imul(H,nt)|0,W=W+Math.imul(H,st)|0;var Dt=($+P|0)+((M&8191)<<13)|0;$=(W+(M>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,P=Math.imul(K,Ee),M=Math.imul(K,Ke),M=M+Math.imul(ne,Ee)|0,W=Math.imul(ne,Ke),P=P+Math.imul(I,nt)|0,M=M+Math.imul(I,st)|0,M=M+Math.imul(j,nt)|0,W=W+Math.imul(j,st)|0;var Wr=($+P|0)+((M&8191)<<13)|0;$=(W+(M>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,P=Math.imul(K,nt),M=Math.imul(K,st),M=M+Math.imul(ne,nt)|0,W=Math.imul(ne,st);var Wt=($+P|0)+((M&8191)<<13)|0;return $=(W+(M>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,X[0]=bt,X[1]=yt,X[2]=vt,X[3]=Zt,X[4]=wn,X[5]=ci,X[6]=Xi,X[7]=sn,X[8]=wt,X[9]=Js,X[10]=mn,X[11]=Ki,X[12]=To,X[13]=Vr,X[14]=Hr,X[15]=_t,X[16]=Dt,X[17]=Wr,X[18]=Wt,$!==0&&(X[19]=$,z.length++),z};Math.imul||(b=v);function w(V,S,L){L.negative=S.negative^V.negative,L.length=V.length+S.length;for(var z=0,q=0,F=0;F<L.length-1;F++){var X=q;q=0;for(var $=z&67108863,P=Math.min(F,S.length-1),M=Math.max(0,F-V.length+1);M<=P;M++){var W=F-M,Z=V.words[W]|0,N=S.words[M]|0,J=Z*N,ue=J&67108863;X=X+(J/67108864|0)|0,ue=ue+$|0,$=ue&67108863,X=X+(ue>>>26)|0,q+=X>>>26,X&=67108863}L.words[F]=$,z=X,X=q}return z!==0?L.words[F]=z:L.length--,L._strip()}function A(V,S,L){return w(V,S,L)}s.prototype.mulTo=function(S,L){var z,q=this.length+S.length;return this.length===10&&S.length===10?z=b(this,S,L):q<63?z=v(this,S,L):q<1024?z=w(this,S,L):z=A(this,S,L),z},s.prototype.mul=function(S){var L=new s(null);return L.words=new Array(this.length+S.length),this.mulTo(S,L)},s.prototype.mulf=function(S){var L=new s(null);return L.words=new Array(this.length+S.length),A(this,S,L)},s.prototype.imul=function(S){return this.clone().mulTo(S,this)},s.prototype.imuln=function(S){var L=S<0;L&&(S=-S),r(typeof S=="number"),r(S<67108864);for(var z=0,q=0;q<this.length;q++){var F=(this.words[q]|0)*S,X=(F&67108863)+(z&67108863);z>>=26,z+=F/67108864|0,z+=X>>>26,this.words[q]=X&67108863}return z!==0&&(this.words[q]=z,this.length++),L?this.ineg():this},s.prototype.muln=function(S){return this.clone().imuln(S)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(S){var L=x(S);if(L.length===0)return new s(1);for(var z=this,q=0;q<L.length&&L[q]===0;q++,z=z.sqr());if(++q<L.length)for(var F=z.sqr();q<L.length;q++,F=F.sqr())L[q]!==0&&(z=z.mul(F));return z},s.prototype.iushln=function(S){r(typeof S=="number"&&S>=0);var L=S%26,z=(S-L)/26,q=67108863>>>26-L<<26-L,F;if(L!==0){var X=0;for(F=0;F<this.length;F++){var $=this.words[F]&q,P=(this.words[F]|0)-$<<L;this.words[F]=P|X,X=$>>>26-L}X&&(this.words[F]=X,this.length++)}if(z!==0){for(F=this.length-1;F>=0;F--)this.words[F+z]=this.words[F];for(F=0;F<z;F++)this.words[F]=0;this.length+=z}return this._strip()},s.prototype.ishln=function(S){return r(this.negative===0),this.iushln(S)},s.prototype.iushrn=function(S,L,z){r(typeof S=="number"&&S>=0);var q;L?q=(L-L%26)/26:q=0;var F=S%26,X=Math.min((S-F)/26,this.length),$=67108863^67108863>>>F<<F,P=z;if(q-=X,q=Math.max(0,q),P){for(var M=0;M<X;M++)P.words[M]=this.words[M];P.length=X}if(X!==0)if(this.length>X)for(this.length-=X,M=0;M<this.length;M++)this.words[M]=this.words[M+X];else this.words[0]=0,this.length=1;var W=0;for(M=this.length-1;M>=0&&(W!==0||M>=q);M--){var Z=this.words[M]|0;this.words[M]=W<<26-F|Z>>>F,W=Z&$}return P&&W!==0&&(P.words[P.length++]=W),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(S,L,z){return r(this.negative===0),this.iushrn(S,L,z)},s.prototype.shln=function(S){return this.clone().ishln(S)},s.prototype.ushln=function(S){return this.clone().iushln(S)},s.prototype.shrn=function(S){return this.clone().ishrn(S)},s.prototype.ushrn=function(S){return this.clone().iushrn(S)},s.prototype.testn=function(S){r(typeof S=="number"&&S>=0);var L=S%26,z=(S-L)/26,q=1<<L;if(this.length<=z)return!1;var F=this.words[z];return!!(F&q)},s.prototype.imaskn=function(S){r(typeof S=="number"&&S>=0);var L=S%26,z=(S-L)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=z)return this;if(L!==0&&z++,this.length=Math.min(z,this.length),L!==0){var q=67108863^67108863>>>L<<L;this.words[this.length-1]&=q}return this._strip()},s.prototype.maskn=function(S){return this.clone().imaskn(S)},s.prototype.iaddn=function(S){return r(typeof S=="number"),r(S<67108864),S<0?this.isubn(-S):this.negative!==0?this.length===1&&(this.words[0]|0)<=S?(this.words[0]=S-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(S),this.negative=1,this):this._iaddn(S)},s.prototype._iaddn=function(S){this.words[0]+=S;for(var L=0;L<this.length&&this.words[L]>=67108864;L++)this.words[L]-=67108864,L===this.length-1?this.words[L+1]=1:this.words[L+1]++;return this.length=Math.max(this.length,L+1),this},s.prototype.isubn=function(S){if(r(typeof S=="number"),r(S<67108864),S<0)return this.iaddn(-S);if(this.negative!==0)return this.negative=0,this.iaddn(S),this.negative=1,this;if(this.words[0]-=S,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var L=0;L<this.length&&this.words[L]<0;L++)this.words[L]+=67108864,this.words[L+1]-=1;return this._strip()},s.prototype.addn=function(S){return this.clone().iaddn(S)},s.prototype.subn=function(S){return this.clone().isubn(S)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(S,L,z){var q=S.length+z,F;this._expand(q);var X,$=0;for(F=0;F<S.length;F++){X=(this.words[F+z]|0)+$;var P=(S.words[F]|0)*L;X-=P&67108863,$=(X>>26)-(P/67108864|0),this.words[F+z]=X&67108863}for(;F<this.length-z;F++)X=(this.words[F+z]|0)+$,$=X>>26,this.words[F+z]=X&67108863;if($===0)return this._strip();for(r($===-1),$=0,F=0;F<this.length;F++)X=-(this.words[F]|0)+$,$=X>>26,this.words[F]=X&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(S,L){var z=this.length-S.length,q=this.clone(),F=S,X=F.words[F.length-1]|0,$=this._countBits(X);z=26-$,z!==0&&(F=F.ushln(z),q.iushln(z),X=F.words[F.length-1]|0);var P=q.length-F.length,M;if(L!=="mod"){M=new s(null),M.length=P+1,M.words=new Array(M.length);for(var W=0;W<M.length;W++)M.words[W]=0}var Z=q.clone()._ishlnsubmul(F,1,P);Z.negative===0&&(q=Z,M&&(M.words[P]=1));for(var N=P-1;N>=0;N--){var J=(q.words[F.length+N]|0)*67108864+(q.words[F.length+N-1]|0);for(J=Math.min(J/X|0,67108863),q._ishlnsubmul(F,J,N);q.negative!==0;)J--,q.negative=0,q._ishlnsubmul(F,1,N),q.isZero()||(q.negative^=1);M&&(M.words[N]=J)}return M&&M._strip(),q._strip(),L!=="div"&&z!==0&&q.iushrn(z),{div:M||null,mod:q}},s.prototype.divmod=function(S,L,z){if(r(!S.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var q,F,X;return this.negative!==0&&S.negative===0?(X=this.neg().divmod(S,L),L!=="mod"&&(q=X.div.neg()),L!=="div"&&(F=X.mod.neg(),z&&F.negative!==0&&F.iadd(S)),{div:q,mod:F}):this.negative===0&&S.negative!==0?(X=this.divmod(S.neg(),L),L!=="mod"&&(q=X.div.neg()),{div:q,mod:X.mod}):this.negative&S.negative?(X=this.neg().divmod(S.neg(),L),L!=="div"&&(F=X.mod.neg(),z&&F.negative!==0&&F.isub(S)),{div:X.div,mod:F}):S.length>this.length||this.cmp(S)<0?{div:new s(0),mod:this}:S.length===1?L==="div"?{div:this.divn(S.words[0]),mod:null}:L==="mod"?{div:null,mod:new s(this.modrn(S.words[0]))}:{div:this.divn(S.words[0]),mod:new s(this.modrn(S.words[0]))}:this._wordDiv(S,L)},s.prototype.div=function(S){return this.divmod(S,"div",!1).div},s.prototype.mod=function(S){return this.divmod(S,"mod",!1).mod},s.prototype.umod=function(S){return this.divmod(S,"mod",!0).mod},s.prototype.divRound=function(S){var L=this.divmod(S);if(L.mod.isZero())return L.div;var z=L.div.negative!==0?L.mod.isub(S):L.mod,q=S.ushrn(1),F=S.andln(1),X=z.cmp(q);return X<0||F===1&&X===0?L.div:L.div.negative!==0?L.div.isubn(1):L.div.iaddn(1)},s.prototype.modrn=function(S){var L=S<0;L&&(S=-S),r(S<=67108863);for(var z=(1<<26)%S,q=0,F=this.length-1;F>=0;F--)q=(z*q+(this.words[F]|0))%S;return L?-q:q},s.prototype.modn=function(S){return this.modrn(S)},s.prototype.idivn=function(S){var L=S<0;L&&(S=-S),r(S<=67108863);for(var z=0,q=this.length-1;q>=0;q--){var F=(this.words[q]|0)+z*67108864;this.words[q]=F/S|0,z=F%S}return this._strip(),L?this.ineg():this},s.prototype.divn=function(S){return this.clone().idivn(S)},s.prototype.egcd=function(S){r(S.negative===0),r(!S.isZero());var L=this,z=S.clone();L.negative!==0?L=L.umod(S):L=L.clone();for(var q=new s(1),F=new s(0),X=new s(0),$=new s(1),P=0;L.isEven()&&z.isEven();)L.iushrn(1),z.iushrn(1),++P;for(var M=z.clone(),W=L.clone();!L.isZero();){for(var Z=0,N=1;!(L.words[0]&N)&&Z<26;++Z,N<<=1);if(Z>0)for(L.iushrn(Z);Z-- >0;)(q.isOdd()||F.isOdd())&&(q.iadd(M),F.isub(W)),q.iushrn(1),F.iushrn(1);for(var J=0,ue=1;!(z.words[0]&ue)&&J<26;++J,ue<<=1);if(J>0)for(z.iushrn(J);J-- >0;)(X.isOdd()||$.isOdd())&&(X.iadd(M),$.isub(W)),X.iushrn(1),$.iushrn(1);L.cmp(z)>=0?(L.isub(z),q.isub(X),F.isub($)):(z.isub(L),X.isub(q),$.isub(F))}return{a:X,b:$,gcd:z.iushln(P)}},s.prototype._invmp=function(S){r(S.negative===0),r(!S.isZero());var L=this,z=S.clone();L.negative!==0?L=L.umod(S):L=L.clone();for(var q=new s(1),F=new s(0),X=z.clone();L.cmpn(1)>0&&z.cmpn(1)>0;){for(var $=0,P=1;!(L.words[0]&P)&&$<26;++$,P<<=1);if($>0)for(L.iushrn($);$-- >0;)q.isOdd()&&q.iadd(X),q.iushrn(1);for(var M=0,W=1;!(z.words[0]&W)&&M<26;++M,W<<=1);if(M>0)for(z.iushrn(M);M-- >0;)F.isOdd()&&F.iadd(X),F.iushrn(1);L.cmp(z)>=0?(L.isub(z),q.isub(F)):(z.isub(L),F.isub(q))}var Z;return L.cmpn(1)===0?Z=q:Z=F,Z.cmpn(0)<0&&Z.iadd(S),Z},s.prototype.gcd=function(S){if(this.isZero())return S.abs();if(S.isZero())return this.abs();var L=this.clone(),z=S.clone();L.negative=0,z.negative=0;for(var q=0;L.isEven()&&z.isEven();q++)L.iushrn(1),z.iushrn(1);do{for(;L.isEven();)L.iushrn(1);for(;z.isEven();)z.iushrn(1);var F=L.cmp(z);if(F<0){var X=L;L=z,z=X}else if(F===0||z.cmpn(1)===0)break;L.isub(z)}while(!0);return z.iushln(q)},s.prototype.invm=function(S){return this.egcd(S).a.umod(S)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(S){return this.words[0]&S},s.prototype.bincn=function(S){r(typeof S=="number");var L=S%26,z=(S-L)/26,q=1<<L;if(this.length<=z)return this._expand(z+1),this.words[z]|=q,this;for(var F=q,X=z;F!==0&&X<this.length;X++){var $=this.words[X]|0;$+=F,F=$>>>26,$&=67108863,this.words[X]=$}return F!==0&&(this.words[X]=F,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(S){var L=S<0;if(this.negative!==0&&!L)return-1;if(this.negative===0&&L)return 1;this._strip();var z;if(this.length>1)z=1;else{L&&(S=-S),r(S<=67108863,"Number is too big");var q=this.words[0]|0;z=q===S?0:q<S?-1:1}return this.negative!==0?-z|0:z},s.prototype.cmp=function(S){if(this.negative!==0&&S.negative===0)return-1;if(this.negative===0&&S.negative!==0)return 1;var L=this.ucmp(S);return this.negative!==0?-L|0:L},s.prototype.ucmp=function(S){if(this.length>S.length)return 1;if(this.length<S.length)return-1;for(var L=0,z=this.length-1;z>=0;z--){var q=this.words[z]|0,F=S.words[z]|0;if(q!==F){q<F?L=-1:q>F&&(L=1);break}}return L},s.prototype.gtn=function(S){return this.cmpn(S)===1},s.prototype.gt=function(S){return this.cmp(S)===1},s.prototype.gten=function(S){return this.cmpn(S)>=0},s.prototype.gte=function(S){return this.cmp(S)>=0},s.prototype.ltn=function(S){return this.cmpn(S)===-1},s.prototype.lt=function(S){return this.cmp(S)===-1},s.prototype.lten=function(S){return this.cmpn(S)<=0},s.prototype.lte=function(S){return this.cmp(S)<=0},s.prototype.eqn=function(S){return this.cmpn(S)===0},s.prototype.eq=function(S){return this.cmp(S)===0},s.red=function(S){return new Y(S)},s.prototype.toRed=function(S){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),S.convertTo(this)._forceRed(S)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(S){return this.red=S,this},s.prototype.forceRed=function(S){return r(!this.red,"Already a number in reduction context"),this._forceRed(S)},s.prototype.redAdd=function(S){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,S)},s.prototype.redIAdd=function(S){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,S)},s.prototype.redSub=function(S){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,S)},s.prototype.redISub=function(S){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,S)},s.prototype.redShl=function(S){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,S)},s.prototype.redMul=function(S){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,S),this.red.mul(this,S)},s.prototype.redIMul=function(S){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,S),this.red.imul(this,S)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(S){return r(this.red&&!S.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,S)};var T={k256:null,p224:null,p192:null,p25519:null};function D(V,S){this.name=V,this.p=new s(S,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var S=new s(null);return S.words=new Array(Math.ceil(this.n/13)),S},D.prototype.ireduce=function(S){var L=S,z;do this.split(L,this.tmp),L=this.imulK(L),L=L.iadd(this.tmp),z=L.bitLength();while(z>this.n);var q=z<this.n?-1:L.ucmp(this.p);return q===0?(L.words[0]=0,L.length=1):q>0?L.isub(this.p):L.strip!==void 0?L.strip():L._strip(),L},D.prototype.split=function(S,L){S.iushrn(this.n,0,L)},D.prototype.imulK=function(S){return S.imul(this.k)};function O(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(O,D),O.prototype.split=function(S,L){for(var z=4194303,q=Math.min(S.length,9),F=0;F<q;F++)L.words[F]=S.words[F];if(L.length=q,S.length<=9){S.words[0]=0,S.length=1;return}var X=S.words[9];for(L.words[L.length++]=X&z,F=10;F<S.length;F++){var $=S.words[F]|0;S.words[F-10]=($&z)<<4|X>>>22,X=$}X>>>=22,S.words[F-10]=X,X===0&&S.length>10?S.length-=10:S.length-=9},O.prototype.imulK=function(S){S.words[S.length]=0,S.words[S.length+1]=0,S.length+=2;for(var L=0,z=0;z<S.length;z++){var q=S.words[z]|0;L+=q*977,S.words[z]=L&67108863,L=q*64+(L/67108864|0)}return S.words[S.length-1]===0&&(S.length--,S.words[S.length-1]===0&&S.length--),S};function C(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(C,D);function B(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(B,D);function G(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(G,D),G.prototype.imulK=function(S){for(var L=0,z=0;z<S.length;z++){var q=(S.words[z]|0)*19+L,F=q&67108863;q>>>=26,S.words[z]=F,L=q}return L!==0&&(S.words[S.length++]=L),S},s._prime=function(S){if(T[S])return T[S];var L;if(S==="k256")L=new O;else if(S==="p224")L=new C;else if(S==="p192")L=new B;else if(S==="p25519")L=new G;else throw new Error("Unknown prime "+S);return T[S]=L,L};function Y(V){if(typeof V=="string"){var S=s._prime(V);this.m=S.p,this.prime=S}else r(V.gtn(1),"modulus must be greater than 1"),this.m=V,this.prime=null}Y.prototype._verify1=function(S){r(S.negative===0,"red works only with positives"),r(S.red,"red works only with red numbers")},Y.prototype._verify2=function(S,L){r((S.negative|L.negative)===0,"red works only with positives"),r(S.red&&S.red===L.red,"red works only with red numbers")},Y.prototype.imod=function(S){return this.prime?this.prime.ireduce(S)._forceRed(this):(u(S,S.umod(this.m)._forceRed(this)),S)},Y.prototype.neg=function(S){return S.isZero()?S.clone():this.m.sub(S)._forceRed(this)},Y.prototype.add=function(S,L){this._verify2(S,L);var z=S.add(L);return z.cmp(this.m)>=0&&z.isub(this.m),z._forceRed(this)},Y.prototype.iadd=function(S,L){this._verify2(S,L);var z=S.iadd(L);return z.cmp(this.m)>=0&&z.isub(this.m),z},Y.prototype.sub=function(S,L){this._verify2(S,L);var z=S.sub(L);return z.cmpn(0)<0&&z.iadd(this.m),z._forceRed(this)},Y.prototype.isub=function(S,L){this._verify2(S,L);var z=S.isub(L);return z.cmpn(0)<0&&z.iadd(this.m),z},Y.prototype.shl=function(S,L){return this._verify1(S),this.imod(S.ushln(L))},Y.prototype.imul=function(S,L){return this._verify2(S,L),this.imod(S.imul(L))},Y.prototype.mul=function(S,L){return this._verify2(S,L),this.imod(S.mul(L))},Y.prototype.isqr=function(S){return this.imul(S,S.clone())},Y.prototype.sqr=function(S){return this.mul(S,S)},Y.prototype.sqrt=function(S){if(S.isZero())return S.clone();var L=this.m.andln(3);if(r(L%2===1),L===3){var z=this.m.add(new s(1)).iushrn(2);return this.pow(S,z)}for(var q=this.m.subn(1),F=0;!q.isZero()&&q.andln(1)===0;)F++,q.iushrn(1);r(!q.isZero());var X=new s(1).toRed(this),$=X.redNeg(),P=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new s(2*M*M).toRed(this);this.pow(M,P).cmp($)!==0;)M.redIAdd($);for(var W=this.pow(M,q),Z=this.pow(S,q.addn(1).iushrn(1)),N=this.pow(S,q),J=F;N.cmp(X)!==0;){for(var ue=N,ae=0;ue.cmp(X)!==0;ae++)ue=ue.redSqr();r(ae<J);var me=this.pow(W,new s(1).iushln(J-ae-1));Z=Z.redMul(me),W=me.redSqr(),N=N.redMul(W),J=ae}return Z},Y.prototype.invm=function(S){var L=S._invmp(this.m);return L.negative!==0?(L.negative=0,this.imod(L).redNeg()):this.imod(L)},Y.prototype.pow=function(S,L){if(L.isZero())return new s(1).toRed(this);if(L.cmpn(1)===0)return S.clone();var z=4,q=new Array(1<<z);q[0]=new s(1).toRed(this),q[1]=S;for(var F=2;F<q.length;F++)q[F]=this.mul(q[F-1],S);var X=q[0],$=0,P=0,M=L.bitLength()%26;for(M===0&&(M=26),F=L.length-1;F>=0;F--){for(var W=L.words[F],Z=M-1;Z>=0;Z--){var N=W>>Z&1;if(X!==q[0]&&(X=this.sqr(X)),N===0&&$===0){P=0;continue}$<<=1,$|=N,P++,!(P!==z&&(F!==0||Z!==0))&&(X=this.mul(X,q[$]),P=0,$=0)}M=26}return X},Y.prototype.convertTo=function(S){var L=S.umod(this.m);return L===S?L.clone():L},Y.prototype.convertFrom=function(S){var L=S.clone();return L.red=null,L},s.mont=function(S){return new oe(S)};function oe(V){Y.call(this,V),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(oe,Y),oe.prototype.convertTo=function(S){return this.imod(S.ushln(this.shift))},oe.prototype.convertFrom=function(S){var L=this.imod(S.mul(this.rinv));return L.red=null,L},oe.prototype.imul=function(S,L){if(S.isZero()||L.isZero())return S.words[0]=0,S.length=1,S;var z=S.imul(L),q=z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),F=z.isub(q).iushrn(this.shift),X=F;return F.cmp(this.m)>=0?X=F.isub(this.m):F.cmpn(0)<0&&(X=F.iadd(this.m)),X._forceRed(this)},oe.prototype.mul=function(S,L){if(S.isZero()||L.isZero())return new s(0)._forceRed(this);var z=S.mul(L),q=z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),F=z.isub(q).iushrn(this.shift),X=F;return F.cmp(this.m)>=0?X=F.isub(this.m):F.cmpn(0)<0&&(X=F.iadd(this.m)),X._forceRed(this)},oe.prototype.invm=function(S){var L=this.imod(S._invmp(this.m).mul(this.r2));return L._forceRed(this)}})(n,yi)})(qY);const Ct=tS,XY="logger/5.7.0";let ST=!1,MT=!1;const g1={debug:1,default:2,info:2,warning:3,error:4,off:5};let ET=g1.default,yw=null;function KY(){try{const n=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{n.push(e)}}),n.length)throw new Error("missing "+n.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(n){return n.message}return null}const AT=KY();var xy;(function(n){n.DEBUG="DEBUG",n.INFO="INFO",n.WARNING="WARNING",n.ERROR="ERROR",n.OFF="OFF"})(xy||(xy={}));var Ns;(function(n){n.UNKNOWN_ERROR="UNKNOWN_ERROR",n.NOT_IMPLEMENTED="NOT_IMPLEMENTED",n.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",n.NETWORK_ERROR="NETWORK_ERROR",n.SERVER_ERROR="SERVER_ERROR",n.TIMEOUT="TIMEOUT",n.BUFFER_OVERRUN="BUFFER_OVERRUN",n.NUMERIC_FAULT="NUMERIC_FAULT",n.MISSING_NEW="MISSING_NEW",n.INVALID_ARGUMENT="INVALID_ARGUMENT",n.MISSING_ARGUMENT="MISSING_ARGUMENT",n.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",n.CALL_EXCEPTION="CALL_EXCEPTION",n.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",n.NONCE_EXPIRED="NONCE_EXPIRED",n.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",n.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",n.TRANSACTION_REPLACED="TRANSACTION_REPLACED",n.ACTION_REJECTED="ACTION_REJECTED"})(Ns||(Ns={}));const CT="0123456789abcdef";class fe{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();g1[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(ET>g1[r])&&console.log.apply(console,t)}debug(...e){this._log(fe.levels.DEBUG,e)}info(...e){this._log(fe.levels.INFO,e)}warn(...e){this._log(fe.levels.WARNING,e)}makeError(e,t,r){if(MT)return this.makeError("censored error",t,{});t||(t=fe.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(l=>{const c=r[l];try{if(c instanceof Uint8Array){let u="";for(let h=0;h<c.length;h++)u+=CT[c[h]>>4],u+=CT[c[h]&15];i.push(l+"=Uint8Array(0x"+u+")")}else i.push(l+"="+JSON.stringify(c))}catch{i.push(l+"="+JSON.stringify(r[l].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);const s=e;let o="";switch(t){case Ns.NUMERIC_FAULT:{o="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":o+="-"+l;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ns.CALL_EXCEPTION:case Ns.INSUFFICIENT_FUNDS:case Ns.MISSING_NEW:case Ns.NONCE_EXPIRED:case Ns.REPLACEMENT_UNDERPRICED:case Ns.TRANSACTION_REPLACED:case Ns.UNPREDICTABLE_GAS_LIMIT:o=t;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=t,Object.keys(r).forEach(function(l){a[l]=r[l]}),a}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,fe.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,i){e||this.throwError(t,r,i)}assertArgument(e,t,r,i){e||this.throwArgumentError(t,r,i)}checkNormalize(e){AT&&this.throwError("platform missing String.prototype.normalize",fe.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:AT})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,fe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,fe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r?r=": "+r:r="",e<t&&this.throwError("missing argument"+r,fe.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,fe.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",fe.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",fe.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",fe.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return yw||(yw=new fe(XY)),yw}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",fe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),ST){if(!e)return;this.globalLogger().throwError("error censorship permanent",fe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}MT=!!e,ST=!!t}static setLogLevel(e){const t=g1[e.toLowerCase()];if(t==null){fe.globalLogger().warn("invalid log level - "+e);return}ET=t}static from(e){return new fe(e)}}fe.errors=Ns;fe.levels=xy;const $Y=Object.freeze(Object.defineProperty({__proto__:null,get ErrorCode(){return Ns},get LogLevel(){return xy},Logger:fe},Symbol.toStringTag,{value:"Module"})),YY="bytes/5.7.0",Vn=new fe(YY);function X9(n){return!!n.toHexString}function Mh(n){return n.slice||(n.slice=function(){const e=Array.prototype.slice.call(arguments);return Mh(new Uint8Array(Array.prototype.slice.apply(n,e)))}),n}function Am(n){return kt(n)&&!(n.length%2)||Xu(n)}function TT(n){return typeof n=="number"&&n==n&&n%1===0}function Xu(n){if(n==null)return!1;if(n.constructor===Uint8Array)return!0;if(typeof n=="string"||!TT(n.length)||n.length<0)return!1;for(let e=0;e<n.length;e++){const t=n[e];if(!TT(t)||t<0||t>=256)return!1}return!0}function Fe(n,e){if(e||(e={}),typeof n=="number"){Vn.checkSafeUint53(n,"invalid arrayify value");const t=[];for(;n;)t.unshift(n&255),n=parseInt(String(n/256));return t.length===0&&t.push(0),Mh(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof n=="string"&&n.substring(0,2)!=="0x"&&(n="0x"+n),X9(n)&&(n=n.toHexString()),kt(n)){let t=n.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":Vn.throwArgumentError("hex data is odd-length","value",n));const r=[];for(let i=0;i<t.length;i+=2)r.push(parseInt(t.substring(i,i+2),16));return Mh(new Uint8Array(r))}return Xu(n)?Mh(new Uint8Array(n)):Vn.throwArgumentError("invalid arrayify value","value",n)}function yn(n){const e=n.map(i=>Fe(i)),t=e.reduce((i,s)=>i+s.length,0),r=new Uint8Array(t);return e.reduce((i,s)=>(r.set(s,i),i+s.length),0),Mh(r)}function Zo(n){let e=Fe(n);if(e.length===0)return e;let t=0;for(;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}function W0(n,e){n=Fe(n),n.length>e&&Vn.throwArgumentError("value out of range","value",arguments[0]);const t=new Uint8Array(e);return t.set(n,e-n.length),Mh(t)}function kt(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||e&&n.length!==2+2*e)}const vw="0123456789abcdef";function Ge(n,e){if(e||(e={}),typeof n=="number"){Vn.checkSafeUint53(n,"invalid hexlify value");let t="";for(;n;)t=vw[n&15]+t,n=Math.floor(n/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof n=="bigint")return n=n.toString(16),n.length%2?"0x0"+n:"0x"+n;if(e.allowMissingPrefix&&typeof n=="string"&&n.substring(0,2)!=="0x"&&(n="0x"+n),X9(n))return n.toHexString();if(kt(n))return n.length%2&&(e.hexPad==="left"?n="0x0"+n.substring(2):e.hexPad==="right"?n+="0":Vn.throwArgumentError("hex data is odd-length","value",n)),n.toLowerCase();if(Xu(n)){let t="0x";for(let r=0;r<n.length;r++){let i=n[r];t+=vw[(i&240)>>4]+vw[i&15]}return t}return Vn.throwArgumentError("invalid hexlify value","value",n)}function sa(n){if(typeof n!="string")n=Ge(n);else if(!kt(n)||n.length%2)return null;return(n.length-2)/2}function er(n,e,t){return typeof n!="string"?n=Ge(n):(!kt(n)||n.length%2)&&Vn.throwArgumentError("invalid hexData","value",n),e=2+2*e,t!=null?"0x"+n.substring(e,2+2*t):"0x"+n.substring(e)}function _i(n){let e="0x";return n.forEach(t=>{e+=Ge(t).substring(2)}),e}function Sv(n){const e=K9(Ge(n,{hexPad:"left"}));return e==="0x"?"0x0":e}function K9(n){typeof n!="string"&&(n=Ge(n)),kt(n)||Vn.throwArgumentError("invalid hex string","value",n),n=n.substring(2);let e=0;for(;e<n.length&&n[e]==="0";)e++;return"0x"+n.substring(e)}function dn(n,e){for(typeof n!="string"?n=Ge(n):kt(n)||Vn.throwArgumentError("invalid hex string","value",n),n.length>2*e+2&&Vn.throwArgumentError("value out of range","value",arguments[1]);n.length<2*e+2;)n="0x0"+n.substring(2);return n}function Ku(n){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Am(n)){let t=Fe(n);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=Ge(t.slice(0,32)),e.s=Ge(t.slice(32,64))):t.length===65?(e.r=Ge(t.slice(0,32)),e.s=Ge(t.slice(32,64)),e.v=t[64]):Vn.throwArgumentError("invalid signature string","signature",n),e.v<27&&(e.v===0||e.v===1?e.v+=27:Vn.throwArgumentError("signature invalid v byte","signature",n)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=Ge(t.slice(32,64))}else{if(e.r=n.r,e.s=n.s,e.v=n.v,e.recoveryParam=n.recoveryParam,e._vs=n._vs,e._vs!=null){const i=W0(Fe(e._vs),32);e._vs=Ge(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Vn.throwArgumentError("signature recoveryParam mismatch _vs","signature",n),i[0]&=127;const o=Ge(i);e.s==null?e.s=o:e.s!==o&&Vn.throwArgumentError("signature v mismatch _vs","signature",n)}if(e.recoveryParam==null)e.v==null?Vn.throwArgumentError("signature missing v and recoveryParam","signature",n):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Vn.throwArgumentError("signature recoveryParam mismatch v","signature",n)}e.r==null||!kt(e.r)?Vn.throwArgumentError("signature missing or invalid r","signature",n):e.r=dn(e.r,32),e.s==null||!kt(e.s)?Vn.throwArgumentError("signature missing or invalid s","signature",n):e.s=dn(e.s,32);const t=Fe(e.s);t[0]>=128&&Vn.throwArgumentError("signature s out of range","signature",n),e.recoveryParam&&(t[0]|=128);const r=Ge(t);e._vs&&(kt(e._vs)||Vn.throwArgumentError("signature invalid _vs","signature",n),e._vs=dn(e._vs,32)),e._vs==null?e._vs=r:e._vs!==r&&Vn.throwArgumentError("signature _vs mismatch v and s","signature",n)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function nS(n){return n=Ku(n),Ge(yn([n.r,n.s,n.recoveryParam?"0x1c":"0x1b"]))}const JY=Object.freeze(Object.defineProperty({__proto__:null,arrayify:Fe,concat:yn,hexConcat:_i,hexDataLength:sa,hexDataSlice:er,hexStripZeros:K9,hexValue:Sv,hexZeroPad:dn,hexlify:Ge,isBytes:Xu,isBytesLike:Am,isHexString:kt,joinSignature:nS,splitSignature:Ku,stripZeros:Zo,zeroPad:W0},Symbol.toStringTag,{value:"Module"})),$9="bignumber/5.7.0";var Wp=Ct.BN;const Pa=new fe($9),_w={},PT=9007199254740991;function QY(n){return n!=null&&(Ve.isBigNumber(n)||typeof n=="number"&&n%1===0||typeof n=="string"&&!!n.match(/^-?[0-9]+$/)||kt(n)||typeof n=="bigint"||Xu(n))}let RT=!1;class Ve{constructor(e,t){e!==_w&&Pa.throwError("cannot call constructor directly; use BigNumber.from",fe.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Ii(Ft(this).fromTwos(e))}toTwos(e){return Ii(Ft(this).toTwos(e))}abs(){return this._hex[0]==="-"?Ve.from(this._hex.substring(1)):this}add(e){return Ii(Ft(this).add(Ft(e)))}sub(e){return Ii(Ft(this).sub(Ft(e)))}div(e){return Ve.from(e).isZero()&&Ts("division-by-zero","div"),Ii(Ft(this).div(Ft(e)))}mul(e){return Ii(Ft(this).mul(Ft(e)))}mod(e){const t=Ft(e);return t.isNeg()&&Ts("division-by-zero","mod"),Ii(Ft(this).umod(t))}pow(e){const t=Ft(e);return t.isNeg()&&Ts("negative-power","pow"),Ii(Ft(this).pow(t))}and(e){const t=Ft(e);return(this.isNegative()||t.isNeg())&&Ts("unbound-bitwise-result","and"),Ii(Ft(this).and(t))}or(e){const t=Ft(e);return(this.isNegative()||t.isNeg())&&Ts("unbound-bitwise-result","or"),Ii(Ft(this).or(t))}xor(e){const t=Ft(e);return(this.isNegative()||t.isNeg())&&Ts("unbound-bitwise-result","xor"),Ii(Ft(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&Ts("negative-width","mask"),Ii(Ft(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Ts("negative-width","shl"),Ii(Ft(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Ts("negative-width","shr"),Ii(Ft(this).shrn(e))}eq(e){return Ft(this).eq(Ft(e))}lt(e){return Ft(this).lt(Ft(e))}lte(e){return Ft(this).lte(Ft(e))}gt(e){return Ft(this).gt(Ft(e))}gte(e){return Ft(this).gte(Ft(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Ft(this).isZero()}toNumber(){try{return Ft(this).toNumber()}catch{Ts("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Pa.throwError("this platform does not support BigInt",fe.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?RT||(RT=!0,Pa.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Pa.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",fe.errors.UNEXPECTED_ARGUMENT,{}):Pa.throwError("BigNumber.toString does not accept parameters",fe.errors.UNEXPECTED_ARGUMENT,{})),Ft(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Ve)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Ve(_w,Gp(e)):e.match(/^-?[0-9]+$/)?new Ve(_w,Gp(new Wp(e))):Pa.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Ts("underflow","BigNumber.from",e),(e>=PT||e<=-PT)&&Ts("overflow","BigNumber.from",e),Ve.from(String(e));const t=e;if(typeof t=="bigint")return Ve.from(t.toString());if(Xu(t))return Ve.from(Ge(t));if(t)if(t.toHexString){const r=t.toHexString();if(typeof r=="string")return Ve.from(r)}else{let r=t._hex;if(r==null&&t.type==="BigNumber"&&(r=t.hex),typeof r=="string"&&(kt(r)||r[0]==="-"&&kt(r.substring(1))))return Ve.from(r)}return Pa.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Gp(n){if(typeof n!="string")return Gp(n.toString(16));if(n[0]==="-")return n=n.substring(1),n[0]==="-"&&Pa.throwArgumentError("invalid hex","value",n),n=Gp(n),n==="0x00"?n:"-"+n;if(n.substring(0,2)!=="0x"&&(n="0x"+n),n==="0x")return"0x00";for(n.length%2&&(n="0x0"+n.substring(2));n.length>4&&n.substring(0,4)==="0x00";)n="0x"+n.substring(4);return n}function Ii(n){return Ve.from(Gp(n))}function Ft(n){const e=Ve.from(n).toHexString();return e[0]==="-"?new Wp("-"+e.substring(3),16):new Wp(e.substring(2),16)}function Ts(n,e,t){const r={fault:n,operation:e};return t!=null&&(r.value=t),Pa.throwError(n,fe.errors.NUMERIC_FAULT,r)}function ZY(n){return new Wp(n,36).toString(16)}function eJ(n){return new Wp(n,16).toString(36)}const bi=new fe($9),G0={},Y9=Ve.from(0),J9=Ve.from(-1);function Q9(n,e,t,r){const i={fault:e,operation:t};return r!==void 0&&(i.value=r),bi.throwError(n,fe.errors.NUMERIC_FAULT,i)}let j0="0";for(;j0.length<256;)j0+=j0;function zE(n){if(typeof n!="number")try{n=Ve.from(n).toNumber()}catch{}return typeof n=="number"&&n>=0&&n<=256&&!(n%1)?"1"+j0.substring(0,n):bi.throwArgumentError("invalid decimal size","decimals",n)}function x1(n,e){e==null&&(e=0);const t=zE(e);n=Ve.from(n);const r=n.lt(Y9);r&&(n=n.mul(J9));let i=n.mod(t).toString();for(;i.length<t.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=n.div(t).toString();return t.length===1?n=s:n=s+"."+i,r&&(n="-"+n),n}function Bo(n,e){e==null&&(e=0);const t=zE(e);(typeof n!="string"||!n.match(/^-?[0-9.]+$/))&&bi.throwArgumentError("invalid decimal value","value",n);const r=n.substring(0,1)==="-";r&&(n=n.substring(1)),n==="."&&bi.throwArgumentError("missing value","value",n);const i=n.split(".");i.length>2&&bi.throwArgumentError("too many decimal points","value",n);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>t.length-1&&Q9("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<t.length-1;)o+="0";const a=Ve.from(s),l=Ve.from(o);let c=a.mul(t).add(l);return r&&(c=c.mul(J9)),c}class Eh{constructor(e,t,r,i){e!==G0&&bi.throwError("cannot use FixedFormat constructor; use FixedFormat.from",fe.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=r,this.decimals=i,this.name=(t?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=zE(i),Object.freeze(this)}static from(e){if(e instanceof Eh)return e;typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,r=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||bi.throwArgumentError("invalid fixed format","format",e),t=s[1]!=="u",r=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,l)=>e[o]==null?l:(typeof e[o]!==a&&bi.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);t=s("signed","boolean",t),r=s("width","number",r),i=s("decimals","number",i)}return r%8&&bi.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&bi.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Eh(G0,t,r,i)}}class kr{constructor(e,t,r,i){e!==G0&&bi.throwError("cannot use FixedNumber constructor; use FixedNumber.from",fe.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=t,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&bi.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=Bo(this._value,this.format.decimals),r=Bo(e._value,e.format.decimals);return kr.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=Bo(this._value,this.format.decimals),r=Bo(e._value,e.format.decimals);return kr.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=Bo(this._value,this.format.decimals),r=Bo(e._value,e.format.decimals);return kr.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=Bo(this._value,this.format.decimals),r=Bo(e._value,e.format.decimals);return kr.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=kr.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(t=t.subUnsafe(IT.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=kr.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(t=t.addUnsafe(IT.toFormat(t.format))),t}round(e){e==null&&(e=0);const t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&bi.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const r=kr.from("1"+j0.substring(0,e),this.format),i=tJ.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&bi.throwArgumentError("invalid byte width","width",e);const t=Ve.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return dn(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return kr.fromString(this._value,e)}static fromValue(e,t,r){return r==null&&t!=null&&!QY(t)&&(r=t,t=null),t==null&&(t=0),r==null&&(r="fixed"),kr.fromString(x1(e,t),Eh.from(r))}static fromString(e,t){t==null&&(t="fixed");const r=Eh.from(t),i=Bo(e,r.decimals);!r.signed&&i.lt(Y9)&&Q9("unsigned value cannot be negative","overflow","value",e);let s=null;r.signed?s=i.toTwos(r.width).toHexString():(s=i.toHexString(),s=dn(s,r.width/8));const o=x1(i,r.decimals);return new kr(G0,s,o,r)}static fromBytes(e,t){t==null&&(t="fixed");const r=Eh.from(t);if(Fe(e).length>r.width/8)throw new Error("overflow");let i=Ve.from(e);r.signed&&(i=i.fromTwos(r.width));const s=i.toTwos((r.signed?0:1)+r.width).toHexString(),o=x1(i,r.decimals);return new kr(G0,s,o,r)}static from(e,t){if(typeof e=="string")return kr.fromString(e,t);if(Xu(e))return kr.fromBytes(e,t);try{return kr.fromValue(e,0,t)}catch(r){if(r.code!==fe.errors.INVALID_ARGUMENT)throw r}return bi.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const IT=kr.from(1),tJ=kr.from("0.5"),nJ="properties/5.7.0";var rJ=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const yy=new fe(nJ);function ke(n,e,t){Object.defineProperty(n,e,{enumerable:!0,value:t,writable:!1})}function xo(n,e){for(let t=0;t<32;t++){if(n[e])return n[e];if(!n.prototype||typeof n.prototype!="object")break;n=Object.getPrototypeOf(n.prototype).constructor}return null}function Hn(n){return rJ(this,void 0,void 0,function*(){const e=Object.keys(n).map(r=>{const i=n[r];return Promise.resolve(i).then(s=>({key:r,value:s}))});return(yield Promise.all(e)).reduce((r,i)=>(r[i.key]=i.value,r),{})})}function UE(n,e){(!n||typeof n!="object")&&yy.throwArgumentError("invalid object","object",n),Object.keys(n).forEach(t=>{e[t]||yy.throwArgumentError("invalid object key - "+t,"transaction:"+t,n)})}function bn(n){const e={};for(const t in n)e[t]=n[t];return e}const iJ={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Z9(n){if(n==null||iJ[typeof n])return!0;if(Array.isArray(n)||typeof n=="object"){if(!Object.isFrozen(n))return!1;const e=Object.keys(n);for(let t=0;t<e.length;t++){let r=null;try{r=n[e[t]]}catch{continue}if(!Z9(r))return!1}return!0}return yy.throwArgumentError(`Cannot deepCopy ${typeof n}`,"object",n)}function sJ(n){if(Z9(n))return n;if(Array.isArray(n))return Object.freeze(n.map(e=>hs(e)));if(typeof n=="object"){const e={};for(const t in n){const r=n[t];r!==void 0&&ke(e,t,hs(r))}return e}return yy.throwArgumentError(`Cannot deepCopy ${typeof n}`,"object",n)}function hs(n){return sJ(n)}class mc{constructor(e){for(const t in e)this[t]=hs(e[t])}}const oJ=Object.freeze(Object.defineProperty({__proto__:null,Description:mc,checkProperties:UE,deepCopy:hs,defineReadOnly:ke,getStatic:xo,resolveProperties:Hn,shallowCopy:bn},Symbol.toStringTag,{value:"Module"})),Cm="abi/5.7.0",Vt=new fe(Cm),Nu={};let kT={calldata:!0,memory:!0,storage:!0},aJ={calldata:!0,memory:!0};function Lx(n,e){if(n==="bytes"||n==="string"){if(kT[e])return!0}else if(n==="address"){if(e==="payable")return!0}else if((n.indexOf("[")>=0||n==="tuple")&&aJ[e])return!0;return(kT[e]||e==="payable")&&Vt.throwArgumentError("invalid modifier","name",e),!1}function lJ(n,e){let t=n;function r(a){Vt.throwArgumentError(`unexpected character at position ${a}`,"param",n)}n=n.replace(/\s/g," ");function i(a){let l={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(l.indexed=!1),l}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<n.length;a++){let l=n[a];switch(l){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||r(a),o.state.allowType=!1,o.type=Uf(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||r(a),o.indexed=!0,o.name=""),Lx(o.type,o.name)&&(o.name=""),o.type=Uf(o.type);let c=o;o=o.parent,o||r(a),delete c.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||r(a),o.indexed=!0,o.name=""),Lx(o.type,o.name)&&(o.name=""),o.type=Uf(o.type);let u=i(o.parent);o.parent.components.push(u),delete o.parent,o=u;break;case" ":o.state.allowType&&o.type!==""&&(o.type=Uf(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||r(a),o.indexed&&r(a),o.indexed=!0,o.name=""):Lx(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||r(a),o.type+=l,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||r(a),o.type+=l,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=l,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=l,delete o.state.allowArray):o.state.readArray?o.type+=l:r(a)}}return o.parent&&Vt.throwArgumentError("unexpected eof","param",n),delete s.state,o.name==="indexed"?(e||r(t.length-7),o.indexed&&r(t.length-7),o.indexed=!0,o.name=""):Lx(o.type,o.name)&&(o.name=""),s.type=Uf(s.type),s}function y1(n,e){for(let t in e)ke(n,t,e[t])}const jt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),cJ=new RegExp(/^(.*)\[([0-9]*)\]$/);class yr{constructor(e,t){e!==Nu&&Vt.throwError("use fromString",fe.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),y1(this,t);let r=this.type.match(cJ);r?y1(this,{arrayLength:parseInt(r[2]||"-1"),arrayChildren:yr.fromObject({type:r[1],components:this.components}),baseType:"array"}):y1(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=jt.sighash),jt[e]||Vt.throwArgumentError("invalid format type","format",e),e===jt.json){let r={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(r.indexed=this.indexed),this.components&&(r.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(r)}let t="";return this.baseType==="array"?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==jt.sighash&&(t+=this.type),t+="("+this.components.map(r=>r.format(e)).join(e===jt.full?", ":",")+")"):t+=this.type,e!==jt.sighash&&(this.indexed===!0&&(t+=" indexed"),e===jt.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return typeof e=="string"?yr.fromString(e,t):yr.fromObject(e)}static fromObject(e){return yr.isParamType(e)?e:new yr(Nu,{name:e.name||null,type:Uf(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(yr.fromObject):null})}static fromString(e,t){function r(i){return yr.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return r(lJ(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function jp(n,e){return fJ(n).map(t=>yr.fromString(t,e))}class Xo{constructor(e,t){e!==Nu&&Vt.throwError("use a static from method",fe.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),y1(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return Xo.isFragment(e)?e:typeof e=="string"?Xo.fromString(e):Xo.fromObject(e)}static fromObject(e){if(Xo.isFragment(e))return e;switch(e.type){case"function":return go.fromObject(e);case"event":return Go.fromObject(e);case"constructor":return mo.fromObject(e);case"error":return Da.fromObject(e);case"fallback":case"receive":return null}return Vt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Go.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?go.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?mo.fromString(e.trim()):e.split(" ")[0]==="error"?Da.fromString(e.substring(5).trim()):Vt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class Go extends Xo{format(e){if(e||(e=jt.sighash),jt[e]||Vt.throwArgumentError("invalid format type","format",e),e===jt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let t="";return e!==jt.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===jt.full?", ":",")+") ",e!==jt.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return typeof e=="string"?Go.fromString(e):Go.fromObject(e)}static fromObject(e){if(Go.isEventFragment(e))return e;e.type!=="event"&&Vt.throwArgumentError("invalid event object","value",e);const t={name:qp(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(yr.fromObject):[],type:"event"};return new Go(Nu,t)}static fromString(e){let t=e.match(Xp);t||Vt.throwArgumentError("invalid event string","value",e);let r=!1;return t[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":r=!0;break;case"":break;default:Vt.warn("unknown modifier: "+i)}}),Go.fromObject({name:t[1].trim(),anonymous:r,inputs:jp(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function eL(n,e){e.gas=null;let t=n.split("@");return t.length!==1?(t.length>2&&Vt.throwArgumentError("invalid human-readable ABI signature","value",n),t[1].match(/^[0-9]+$/)||Vt.throwArgumentError("invalid human-readable ABI signature gas","value",n),e.gas=Ve.from(t[1]),t[0]):n}function tL(n,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",n.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function nL(n){let e={constant:!1,payable:!0,stateMutability:"payable"};return n.stateMutability!=null?(e.stateMutability=n.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",n.constant!=null&&!!n.constant!==e.constant&&Vt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",n),e.payable=e.stateMutability==="payable",n.payable!=null&&!!n.payable!==e.payable&&Vt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",n)):n.payable!=null?(e.payable=!!n.payable,n.constant==null&&!e.payable&&n.type!=="constructor"&&Vt.throwArgumentError("unable to determine stateMutability","value",n),e.constant=!!n.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Vt.throwArgumentError("cannot have constant payable function","value",n)):n.constant!=null?(e.constant=!!n.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):n.type!=="constructor"&&Vt.throwArgumentError("unable to determine stateMutability","value",n),e}class mo extends Xo{format(e){if(e||(e=jt.sighash),jt[e]||Vt.throwArgumentError("invalid format type","format",e),e===jt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});e===jt.sighash&&Vt.throwError("cannot format a constructor for sighash",fe.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(r=>r.format(e)).join(e===jt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "),t.trim()}static from(e){return typeof e=="string"?mo.fromString(e):mo.fromObject(e)}static fromObject(e){if(mo.isConstructorFragment(e))return e;e.type!=="constructor"&&Vt.throwArgumentError("invalid constructor object","value",e);let t=nL(e);t.constant&&Vt.throwArgumentError("constructor cannot be constant","value",e);const r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(yr.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?Ve.from(e.gas):null};return new mo(Nu,r)}static fromString(e){let t={type:"constructor"};e=eL(e,t);let r=e.match(Xp);return(!r||r[1].trim()!=="constructor")&&Vt.throwArgumentError("invalid constructor string","value",e),t.inputs=jp(r[2].trim(),!1),tL(r[3].trim(),t),mo.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class go extends mo{format(e){if(e||(e=jt.sighash),jt[e]||Vt.throwArgumentError("invalid format type","format",e),e===jt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});let t="";return e!==jt.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===jt.full?", ":",")+") ",e!==jt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(r=>r.format(e)).join(", ")+") "),this.gas!=null&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return typeof e=="string"?go.fromString(e):go.fromObject(e)}static fromObject(e){if(go.isFunctionFragment(e))return e;e.type!=="function"&&Vt.throwArgumentError("invalid function object","value",e);let t=nL(e);const r={type:e.type,name:qp(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(yr.fromObject):[],outputs:e.outputs?e.outputs.map(yr.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?Ve.from(e.gas):null};return new go(Nu,r)}static fromString(e){let t={type:"function"};e=eL(e,t);let r=e.split(" returns ");r.length>2&&Vt.throwArgumentError("invalid function string","value",e);let i=r[0].match(Xp);if(i||Vt.throwArgumentError("invalid function signature","value",e),t.name=i[1].trim(),t.name&&qp(t.name),t.inputs=jp(i[2],!1),tL(i[3].trim(),t),r.length>1){let s=r[1].match(Xp);(s[1].trim()!=""||s[3].trim()!="")&&Vt.throwArgumentError("unexpected tokens","value",e),t.outputs=jp(s[2],!1)}else t.outputs=[];return go.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function LT(n){const e=n.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Vt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",n),n}class Da extends Xo{format(e){if(e||(e=jt.sighash),jt[e]||Vt.throwArgumentError("invalid format type","format",e),e===jt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let t="";return e!==jt.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===jt.full?", ":",")+") ",t.trim()}static from(e){return typeof e=="string"?Da.fromString(e):Da.fromObject(e)}static fromObject(e){if(Da.isErrorFragment(e))return e;e.type!=="error"&&Vt.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:qp(e.name),inputs:e.inputs?e.inputs.map(yr.fromObject):[]};return LT(new Da(Nu,t))}static fromString(e){let t={type:"error"},r=e.match(Xp);return r||Vt.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&qp(t.name),t.inputs=jp(r[2],!1),LT(Da.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function Uf(n){return n.match(/^uint($|[^1-9])/)?n="uint256"+n.substring(4):n.match(/^int($|[^1-9])/)&&(n="int256"+n.substring(3)),n}const uJ=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function qp(n){return(!n||!n.match(uJ))&&Vt.throwArgumentError(`invalid identifier "${n}"`,"value",n),n}const Xp=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function fJ(n){n=n.trim();let e=[],t="",r=0;for(let i=0;i<n.length;i++){let s=n[i];s===","&&r===0?(e.push(t),t=""):(t+=s,s==="("?r++:s===")"&&(r--,r===-1&&Vt.throwArgumentError("unbalanced parenthesis","value",n)))}return t&&e.push(t),e}const VE=new fe(Cm);function rL(n){const e=[],t=function(r,i){if(Array.isArray(i))for(let s in i){const o=r.slice();o.push(s);try{t(o,i[s])}catch(a){e.push({path:o,error:a})}}};return t([],n),e}class rl{constructor(e,t,r,i){this.name=e,this.type=t,this.localName=r,this.dynamic=i}_throwError(e,t){VE.throwArgumentError(e,this.localName,t)}}class rS{constructor(e){ke(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return _i(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(yn(e._data))}writeBytes(e){let t=Fe(e);const r=t.length%this.wordSize;return r&&(t=yn([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){let t=Fe(Ve.from(e));return t.length>this.wordSize&&VE.throwError("value out-of-bounds",fe.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=yn([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class vy{constructor(e,t,r,i){ke(this,"_data",Fe(e)),ke(this,"wordSize",t||32),ke(this,"_coerceFunc",r),ke(this,"allowLoose",i),this._offset=0}get data(){return Ge(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):vy.coerce(e,t)}_peekBytes(e,t,r){let i=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?i=t:VE.throwError("data out-of-bounds",fe.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new vy(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return Ve.from(this.readBytes(this.wordSize))}}var iS={},hJ={get exports(){return iS},set exports(n){iS=n}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(n){(function(){var e="input is invalid type",t="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA3_NO_WINDOW&&(r=!1);var s=!r&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=yi:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&n.exports,l=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],h=[4,1024,262144,67108864],p=[1,256,65536,16777216],m=[6,1536,393216,100663296],y=[0,8,16,24],g=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],x=[224,256,384,512],v=[128,256],b=["hex","buffer","arrayBuffer","array","digest"],w={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(N){return Object.prototype.toString.call(N)==="[object Array]"}),l&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(N){return typeof N=="object"&&N.buffer&&N.buffer.constructor===ArrayBuffer});for(var A=function(N,J,ue){return function(ae){return new M(N,J,N).update(ae)[ue]()}},T=function(N,J,ue){return function(ae,me){return new M(N,J,me).update(ae)[ue]()}},D=function(N,J,ue){return function(ae,me,we,Ce){return S["cshake"+N].update(ae,me,we,Ce)[ue]()}},O=function(N,J,ue){return function(ae,me,we,Ce){return S["kmac"+N].update(ae,me,we,Ce)[ue]()}},C=function(N,J,ue,ae){for(var me=0;me<b.length;++me){var we=b[me];N[we]=J(ue,ae,we)}return N},B=function(N,J){var ue=A(N,J,"hex");return ue.create=function(){return new M(N,J,N)},ue.update=function(ae){return ue.create().update(ae)},C(ue,A,N,J)},G=function(N,J){var ue=T(N,J,"hex");return ue.create=function(ae){return new M(N,J,ae)},ue.update=function(ae,me){return ue.create(me).update(ae)},C(ue,T,N,J)},Y=function(N,J){var ue=w[N],ae=D(N,J,"hex");return ae.create=function(me,we,Ce){return!we&&!Ce?S["shake"+N].create(me):new M(N,J,me).bytepad([we,Ce],ue)},ae.update=function(me,we,Ce,ce){return ae.create(we,Ce,ce).update(me)},C(ae,D,N,J)},oe=function(N,J){var ue=w[N],ae=O(N,J,"hex");return ae.create=function(me,we,Ce){return new W(N,J,we).bytepad(["KMAC",Ce],ue).bytepad([me],ue)},ae.update=function(me,we,Ce,ce){return ae.create(me,Ce,ce).update(we)},C(ae,O,N,J)},V=[{name:"keccak",padding:p,bits:x,createMethod:B},{name:"sha3",padding:m,bits:x,createMethod:B},{name:"shake",padding:u,bits:v,createMethod:G},{name:"cshake",padding:h,bits:v,createMethod:Y},{name:"kmac",padding:h,bits:v,createMethod:oe}],S={},L=[],z=0;z<V.length;++z)for(var q=V[z],F=q.bits,X=0;X<F.length;++X){var $=q.name+"_"+F[X];if(L.push($),S[$]=q.createMethod(F[X],q.padding),q.name!=="sha3"){var P=q.name+F[X];L.push(P),S[P]=S[$]}}function M(N,J,ue){this.blocks=[],this.s=[],this.padding=J,this.outputBits=ue,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(N<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=ue>>5,this.extraBytes=(ue&31)>>3;for(var ae=0;ae<50;++ae)this.s[ae]=0}M.prototype.update=function(N){if(this.finalized)throw new Error(t);var J,ue=typeof N;if(ue!=="string"){if(ue==="object"){if(N===null)throw new Error(e);if(l&&N.constructor===ArrayBuffer)N=new Uint8Array(N);else if(!Array.isArray(N)&&(!l||!ArrayBuffer.isView(N)))throw new Error(e)}else throw new Error(e);J=!0}for(var ae=this.blocks,me=this.byteCount,we=N.length,Ce=this.blockCount,ce=0,ye=this.s,ve,De;ce<we;){if(this.reset)for(this.reset=!1,ae[0]=this.block,ve=1;ve<Ce+1;++ve)ae[ve]=0;if(J)for(ve=this.start;ce<we&&ve<me;++ce)ae[ve>>2]|=N[ce]<<y[ve++&3];else for(ve=this.start;ce<we&&ve<me;++ce)De=N.charCodeAt(ce),De<128?ae[ve>>2]|=De<<y[ve++&3]:De<2048?(ae[ve>>2]|=(192|De>>6)<<y[ve++&3],ae[ve>>2]|=(128|De&63)<<y[ve++&3]):De<55296||De>=57344?(ae[ve>>2]|=(224|De>>12)<<y[ve++&3],ae[ve>>2]|=(128|De>>6&63)<<y[ve++&3],ae[ve>>2]|=(128|De&63)<<y[ve++&3]):(De=65536+((De&1023)<<10|N.charCodeAt(++ce)&1023),ae[ve>>2]|=(240|De>>18)<<y[ve++&3],ae[ve>>2]|=(128|De>>12&63)<<y[ve++&3],ae[ve>>2]|=(128|De>>6&63)<<y[ve++&3],ae[ve>>2]|=(128|De&63)<<y[ve++&3]);if(this.lastByteIndex=ve,ve>=me){for(this.start=ve-me,this.block=ae[Ce],ve=0;ve<Ce;++ve)ye[ve]^=ae[ve];Z(ye),this.reset=!0}else this.start=ve}return this},M.prototype.encode=function(N,J){var ue=N&255,ae=1,me=[ue];for(N=N>>8,ue=N&255;ue>0;)me.unshift(ue),N=N>>8,ue=N&255,++ae;return J?me.push(ae):me.unshift(ae),this.update(me),me.length},M.prototype.encodeString=function(N){var J,ue=typeof N;if(ue!=="string"){if(ue==="object"){if(N===null)throw new Error(e);if(l&&N.constructor===ArrayBuffer)N=new Uint8Array(N);else if(!Array.isArray(N)&&(!l||!ArrayBuffer.isView(N)))throw new Error(e)}else throw new Error(e);J=!0}var ae=0,me=N.length;if(J)ae=me;else for(var we=0;we<N.length;++we){var Ce=N.charCodeAt(we);Ce<128?ae+=1:Ce<2048?ae+=2:Ce<55296||Ce>=57344?ae+=3:(Ce=65536+((Ce&1023)<<10|N.charCodeAt(++we)&1023),ae+=4)}return ae+=this.encode(ae*8),this.update(N),ae},M.prototype.bytepad=function(N,J){for(var ue=this.encode(J),ae=0;ae<N.length;++ae)ue+=this.encodeString(N[ae]);var me=J-ue%J,we=[];return we.length=me,this.update(we),this},M.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var N=this.blocks,J=this.lastByteIndex,ue=this.blockCount,ae=this.s;if(N[J>>2]|=this.padding[J&3],this.lastByteIndex===this.byteCount)for(N[0]=N[ue],J=1;J<ue+1;++J)N[J]=0;for(N[ue-1]|=2147483648,J=0;J<ue;++J)ae[J]^=N[J];Z(ae)}},M.prototype.toString=M.prototype.hex=function(){this.finalize();for(var N=this.blockCount,J=this.s,ue=this.outputBlocks,ae=this.extraBytes,me=0,we=0,Ce="",ce;we<ue;){for(me=0;me<N&&we<ue;++me,++we)ce=J[me],Ce+=c[ce>>4&15]+c[ce&15]+c[ce>>12&15]+c[ce>>8&15]+c[ce>>20&15]+c[ce>>16&15]+c[ce>>28&15]+c[ce>>24&15];we%N===0&&(Z(J),me=0)}return ae&&(ce=J[me],Ce+=c[ce>>4&15]+c[ce&15],ae>1&&(Ce+=c[ce>>12&15]+c[ce>>8&15]),ae>2&&(Ce+=c[ce>>20&15]+c[ce>>16&15])),Ce},M.prototype.arrayBuffer=function(){this.finalize();var N=this.blockCount,J=this.s,ue=this.outputBlocks,ae=this.extraBytes,me=0,we=0,Ce=this.outputBits>>3,ce;ae?ce=new ArrayBuffer(ue+1<<2):ce=new ArrayBuffer(Ce);for(var ye=new Uint32Array(ce);we<ue;){for(me=0;me<N&&we<ue;++me,++we)ye[we]=J[me];we%N===0&&Z(J)}return ae&&(ye[me]=J[me],ce=ce.slice(0,Ce)),ce},M.prototype.buffer=M.prototype.arrayBuffer,M.prototype.digest=M.prototype.array=function(){this.finalize();for(var N=this.blockCount,J=this.s,ue=this.outputBlocks,ae=this.extraBytes,me=0,we=0,Ce=[],ce,ye;we<ue;){for(me=0;me<N&&we<ue;++me,++we)ce=we<<2,ye=J[me],Ce[ce]=ye&255,Ce[ce+1]=ye>>8&255,Ce[ce+2]=ye>>16&255,Ce[ce+3]=ye>>24&255;we%N===0&&Z(J)}return ae&&(ce=we<<2,ye=J[me],Ce[ce]=ye&255,ae>1&&(Ce[ce+1]=ye>>8&255),ae>2&&(Ce[ce+2]=ye>>16&255)),Ce};function W(N,J,ue){M.call(this,N,J,ue)}W.prototype=new M,W.prototype.finalize=function(){return this.encode(this.outputBits,!0),M.prototype.finalize.call(this)};var Z=function(N){var J,ue,ae,me,we,Ce,ce,ye,ve,De,We,$e,je,tt,lt,at,re,Q,xe,Oe,Ne,H,R,I,j,se,K,ne,Me,Pe,Be,Ze,Xe,le,Ae,Ie,ze,it,ft,xt,pn,Bt,pt,sr,Pt,en,Ys,tn,Qt,te,de,Se,ge,Ee,Ke,mt,nt,st,bt,yt,vt,Zt,wn;for(ae=0;ae<48;ae+=2)me=N[0]^N[10]^N[20]^N[30]^N[40],we=N[1]^N[11]^N[21]^N[31]^N[41],Ce=N[2]^N[12]^N[22]^N[32]^N[42],ce=N[3]^N[13]^N[23]^N[33]^N[43],ye=N[4]^N[14]^N[24]^N[34]^N[44],ve=N[5]^N[15]^N[25]^N[35]^N[45],De=N[6]^N[16]^N[26]^N[36]^N[46],We=N[7]^N[17]^N[27]^N[37]^N[47],$e=N[8]^N[18]^N[28]^N[38]^N[48],je=N[9]^N[19]^N[29]^N[39]^N[49],J=$e^(Ce<<1|ce>>>31),ue=je^(ce<<1|Ce>>>31),N[0]^=J,N[1]^=ue,N[10]^=J,N[11]^=ue,N[20]^=J,N[21]^=ue,N[30]^=J,N[31]^=ue,N[40]^=J,N[41]^=ue,J=me^(ye<<1|ve>>>31),ue=we^(ve<<1|ye>>>31),N[2]^=J,N[3]^=ue,N[12]^=J,N[13]^=ue,N[22]^=J,N[23]^=ue,N[32]^=J,N[33]^=ue,N[42]^=J,N[43]^=ue,J=Ce^(De<<1|We>>>31),ue=ce^(We<<1|De>>>31),N[4]^=J,N[5]^=ue,N[14]^=J,N[15]^=ue,N[24]^=J,N[25]^=ue,N[34]^=J,N[35]^=ue,N[44]^=J,N[45]^=ue,J=ye^($e<<1|je>>>31),ue=ve^(je<<1|$e>>>31),N[6]^=J,N[7]^=ue,N[16]^=J,N[17]^=ue,N[26]^=J,N[27]^=ue,N[36]^=J,N[37]^=ue,N[46]^=J,N[47]^=ue,J=De^(me<<1|we>>>31),ue=We^(we<<1|me>>>31),N[8]^=J,N[9]^=ue,N[18]^=J,N[19]^=ue,N[28]^=J,N[29]^=ue,N[38]^=J,N[39]^=ue,N[48]^=J,N[49]^=ue,tt=N[0],lt=N[1],en=N[11]<<4|N[10]>>>28,Ys=N[10]<<4|N[11]>>>28,ne=N[20]<<3|N[21]>>>29,Me=N[21]<<3|N[20]>>>29,yt=N[31]<<9|N[30]>>>23,vt=N[30]<<9|N[31]>>>23,Bt=N[40]<<18|N[41]>>>14,pt=N[41]<<18|N[40]>>>14,le=N[2]<<1|N[3]>>>31,Ae=N[3]<<1|N[2]>>>31,at=N[13]<<12|N[12]>>>20,re=N[12]<<12|N[13]>>>20,tn=N[22]<<10|N[23]>>>22,Qt=N[23]<<10|N[22]>>>22,Pe=N[33]<<13|N[32]>>>19,Be=N[32]<<13|N[33]>>>19,Zt=N[42]<<2|N[43]>>>30,wn=N[43]<<2|N[42]>>>30,Ee=N[5]<<30|N[4]>>>2,Ke=N[4]<<30|N[5]>>>2,Ie=N[14]<<6|N[15]>>>26,ze=N[15]<<6|N[14]>>>26,Q=N[25]<<11|N[24]>>>21,xe=N[24]<<11|N[25]>>>21,te=N[34]<<15|N[35]>>>17,de=N[35]<<15|N[34]>>>17,Ze=N[45]<<29|N[44]>>>3,Xe=N[44]<<29|N[45]>>>3,I=N[6]<<28|N[7]>>>4,j=N[7]<<28|N[6]>>>4,mt=N[17]<<23|N[16]>>>9,nt=N[16]<<23|N[17]>>>9,it=N[26]<<25|N[27]>>>7,ft=N[27]<<25|N[26]>>>7,Oe=N[36]<<21|N[37]>>>11,Ne=N[37]<<21|N[36]>>>11,Se=N[47]<<24|N[46]>>>8,ge=N[46]<<24|N[47]>>>8,sr=N[8]<<27|N[9]>>>5,Pt=N[9]<<27|N[8]>>>5,se=N[18]<<20|N[19]>>>12,K=N[19]<<20|N[18]>>>12,st=N[29]<<7|N[28]>>>25,bt=N[28]<<7|N[29]>>>25,xt=N[38]<<8|N[39]>>>24,pn=N[39]<<8|N[38]>>>24,H=N[48]<<14|N[49]>>>18,R=N[49]<<14|N[48]>>>18,N[0]=tt^~at&Q,N[1]=lt^~re&xe,N[10]=I^~se&ne,N[11]=j^~K&Me,N[20]=le^~Ie&it,N[21]=Ae^~ze&ft,N[30]=sr^~en&tn,N[31]=Pt^~Ys&Qt,N[40]=Ee^~mt&st,N[41]=Ke^~nt&bt,N[2]=at^~Q&Oe,N[3]=re^~xe&Ne,N[12]=se^~ne&Pe,N[13]=K^~Me&Be,N[22]=Ie^~it&xt,N[23]=ze^~ft&pn,N[32]=en^~tn&te,N[33]=Ys^~Qt&de,N[42]=mt^~st&yt,N[43]=nt^~bt&vt,N[4]=Q^~Oe&H,N[5]=xe^~Ne&R,N[14]=ne^~Pe&Ze,N[15]=Me^~Be&Xe,N[24]=it^~xt&Bt,N[25]=ft^~pn&pt,N[34]=tn^~te&Se,N[35]=Qt^~de&ge,N[44]=st^~yt&Zt,N[45]=bt^~vt&wn,N[6]=Oe^~H&tt,N[7]=Ne^~R&lt,N[16]=Pe^~Ze&I,N[17]=Be^~Xe&j,N[26]=xt^~Bt&le,N[27]=pn^~pt&Ae,N[36]=te^~Se&sr,N[37]=de^~ge&Pt,N[46]=yt^~Zt&Ee,N[47]=vt^~wn&Ke,N[8]=H^~tt&at,N[9]=R^~lt&re,N[18]=Ze^~I&se,N[19]=Xe^~j&K,N[28]=Bt^~le&Ie,N[29]=pt^~Ae&ze,N[38]=Se^~sr&en,N[39]=ge^~Pt&Ys,N[48]=Zt^~Ee&mt,N[49]=wn^~Ke&nt,N[0]^=g[ae],N[1]^=g[ae+1]};if(a)n.exports=S;else for(z=0;z<L.length;++z)i[L[z]]=S[L[z]]})()})(hJ);const dJ=iS;function an(n){return"0x"+dJ.keccak_256(Fe(n))}const pJ=Object.freeze(Object.defineProperty({__proto__:null,keccak256:an},Symbol.toStringTag,{value:"Module"})),mJ="rlp/5.7.0",Uo=new fe(mJ);function NT(n){const e=[];for(;n;)e.unshift(n&255),n>>=8;return e}function DT(n,e,t){let r=0;for(let i=0;i<t;i++)r=r*256+n[e+i];return r}function iL(n){if(Array.isArray(n)){let r=[];if(n.forEach(function(s){r=r.concat(iL(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=NT(r.length);return i.unshift(247+i.length),i.concat(r)}Am(n)||Uo.throwArgumentError("RLP object must be BytesLike","object",n);const e=Array.prototype.slice.call(Fe(n));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=NT(e.length);return t.unshift(183+t.length),t.concat(e)}function Du(n){return Ge(iL(n))}function OT(n,e,t,r){const i=[];for(;t<e+1+r;){const s=sL(n,t);i.push(s.result),t+=s.consumed,t>e+1+r&&Uo.throwError("child data too short",fe.errors.BUFFER_OVERRUN,{})}return{consumed:1+r,result:i}}function sL(n,e){if(n.length===0&&Uo.throwError("data too short",fe.errors.BUFFER_OVERRUN,{}),n[e]>=248){const t=n[e]-247;e+1+t>n.length&&Uo.throwError("data short segment too short",fe.errors.BUFFER_OVERRUN,{});const r=DT(n,e+1,t);return e+1+t+r>n.length&&Uo.throwError("data long segment too short",fe.errors.BUFFER_OVERRUN,{}),OT(n,e,e+1+t,t+r)}else if(n[e]>=192){const t=n[e]-192;return e+1+t>n.length&&Uo.throwError("data array too short",fe.errors.BUFFER_OVERRUN,{}),OT(n,e,e+1,t)}else if(n[e]>=184){const t=n[e]-183;e+1+t>n.length&&Uo.throwError("data array too short",fe.errors.BUFFER_OVERRUN,{});const r=DT(n,e+1,t);e+1+t+r>n.length&&Uo.throwError("data array too short",fe.errors.BUFFER_OVERRUN,{});const i=Ge(n.slice(e+1+t,e+1+t+r));return{consumed:1+t+r,result:i}}else if(n[e]>=128){const t=n[e]-128;e+1+t>n.length&&Uo.throwError("data too short",fe.errors.BUFFER_OVERRUN,{});const r=Ge(n.slice(e+1,e+1+t));return{consumed:1+t,result:r}}return{consumed:1,result:Ge(n[e])}}function Mv(n){const e=Fe(n),t=sL(e,0);return t.consumed!==e.length&&Uo.throwArgumentError("invalid rlp data","data",n),t.result}const gJ=Object.freeze(Object.defineProperty({__proto__:null,decode:Mv,encode:Du},Symbol.toStringTag,{value:"Module"})),xJ="address/5.7.0",Dl=new fe(xJ);function BT(n){kt(n,20)||Dl.throwArgumentError("invalid address","address",n),n=n.toLowerCase();const e=n.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const r=Fe(an(t));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const yJ=9007199254740991;function vJ(n){return Math.log10?Math.log10(n):Math.log(n)/Math.LN10}const HE={};for(let n=0;n<10;n++)HE[String(n)]=String(n);for(let n=0;n<26;n++)HE[String.fromCharCode(65+n)]=String(10+n);const FT=Math.floor(vJ(yJ));function oL(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let e=n.split("").map(r=>HE[r]).join("");for(;e.length>=FT;){let r=e.substring(0,FT);e=parseInt(r,10)%97+e.substring(r.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function rn(n){let e=null;if(typeof n!="string"&&Dl.throwArgumentError("invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/))n.substring(0,2)!=="0x"&&(n="0x"+n),e=BT(n),n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==n&&Dl.throwArgumentError("bad address checksum","address",n);else if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(n.substring(2,4)!==oL(n)&&Dl.throwArgumentError("bad icap checksum","address",n),e=ZY(n.substring(4));e.length<40;)e="0"+e;e=BT("0x"+e)}else Dl.throwArgumentError("invalid address","address",n);return e}function _J(n){try{return rn(n),!0}catch{}return!1}function bJ(n){let e=eJ(rn(n).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+oL("XE00"+e)+e}function WE(n){let e=null;try{e=rn(n.from)}catch{Dl.throwArgumentError("missing from address","transaction",n)}const t=Zo(Fe(Ve.from(n.nonce).toHexString()));return rn(er(an(Du([e,t])),12))}function wJ(n,e,t){return sa(e)!==32&&Dl.throwArgumentError("salt must be 32 bytes","salt",e),sa(t)!==32&&Dl.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",t),rn(er(an(yn(["0xff",rn(n),e,t])),12))}const SJ=Object.freeze(Object.defineProperty({__proto__:null,getAddress:rn,getContractAddress:WE,getCreate2Address:wJ,getIcapAddress:bJ,isAddress:_J},Symbol.toStringTag,{value:"Module"}));class MJ extends rl{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=rn(t)}catch(r){this._throwError(r.message,t)}return e.writeValue(t)}decode(e){return rn(dn(e.readValue().toHexString(),20))}}class EJ extends rl{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const ch=new fe(Cm);function aL(n,e,t){let r=null;if(Array.isArray(t))r=t;else if(t&&typeof t=="object"){let l={};r=e.map(c=>{const u=c.localName;return u||ch.throwError("cannot encode object for signature with missing names",fe.errors.INVALID_ARGUMENT,{argument:"values",coder:c,value:t}),l[u]&&ch.throwError("cannot encode object for signature with duplicate names",fe.errors.INVALID_ARGUMENT,{argument:"values",coder:c,value:t}),l[u]=!0,t[u]})}else ch.throwArgumentError("invalid tuple value","tuple",t);e.length!==r.length&&ch.throwArgumentError("types/value length mismatch","tuple",t);let i=new rS(n.wordSize),s=new rS(n.wordSize),o=[];e.forEach((l,c)=>{let u=r[c];if(l.dynamic){let h=s.length;l.encode(s,u);let p=i.writeUpdatableValue();o.push(m=>{p(m+h)})}else l.encode(i,u)}),o.forEach(l=>{l(i.length)});let a=n.appendWriter(i);return a+=n.appendWriter(s),a}function lL(n,e){let t=[],r=n.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=n.readValue(),l=r.subReader(a.toNumber());try{o=s.decode(l)}catch(c){if(c.code===fe.errors.BUFFER_OVERRUN)throw c;o=c,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(n)}catch(a){if(a.code===fe.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&t.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),t[a]!=null))return;const l=t[o];l instanceof Error?Object.defineProperty(t,a,{enumerable:!0,get:()=>{throw l}}):t[a]=l});for(let s=0;s<t.length;s++){const o=t[s];o instanceof Error&&Object.defineProperty(t,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(t)}class AJ extends rl{constructor(e,t,r){const i=e.type+"["+(t>=0?t:"")+"]",s=t===-1||e.dynamic;super("array",i,r,s),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;r===-1&&(r=t.length,e.writeValue(t.length)),ch.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<t.length;s++)i.push(this.coder);return aL(e,i,t)}decode(e){let t=this.length;t===-1&&(t=e.readValue().toNumber(),t*32>e._data.length&&ch.throwError("insufficient data length",fe.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let r=[];for(let i=0;i<t;i++)r.push(new EJ(this.coder));return e.coerce(this.name,lL(e,r))}}class CJ extends rl{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class cL extends rl{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Fe(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class TJ extends cL{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Ge(super.decode(e)))}}class PJ extends rl{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let r=Fe(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,Ge(e.readBytes(this.size)))}}class RJ extends rl{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const IJ="0x0000000000000000000000000000000000000000",kJ=Ve.from(-1),uL=Ve.from(0),LJ=Ve.from(1),NJ=Ve.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),fL="0x0000000000000000000000000000000000000000000000000000000000000000";class DJ extends rl{constructor(e,t,r){const i=(t?"int":"uint")+e*8;super(i,i,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let r=Ve.from(t),i=NJ.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(r.gt(s)||r.lt(s.add(LJ).mul(kJ)))&&this._throwError("value out-of-bounds",t)}else(r.lt(uL)||r.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(this.size*8).mask(this.size*8),this.signed&&(r=r.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let t=e.readValue().mask(this.size*8);return this.signed&&(t=t.fromTwos(this.size*8)),e.coerce(this.name,t)}}const OJ="strings/5.7.0",hL=new fe(OJ);var oa;(function(n){n.current="",n.NFC="NFC",n.NFD="NFD",n.NFKC="NFKC",n.NFKD="NFKD"})(oa||(oa={}));var Li;(function(n){n.UNEXPECTED_CONTINUE="unexpected continuation byte",n.BAD_PREFIX="bad codepoint prefix",n.OVERRUN="string overrun",n.MISSING_CONTINUE="missing continuation byte",n.OUT_OF_RANGE="out of UTF-8 range",n.UTF16_SURROGATE="UTF-16 surrogate",n.OVERLONG="overlong representation"})(Li||(Li={}));function BJ(n,e,t,r,i){return hL.throwArgumentError(`invalid codepoint at offset ${e}; ${n}`,"bytes",t)}function dL(n,e,t,r,i){if(n===Li.BAD_PREFIX||n===Li.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<t.length&&t[o]>>6===2;o++)s++;return s}return n===Li.OVERRUN?t.length-e-1:0}function FJ(n,e,t,r,i){return n===Li.OVERLONG?(r.push(i),0):(r.push(65533),dL(n,e,t))}const pL=Object.freeze({error:BJ,ignore:dL,replace:FJ});function GE(n,e){e==null&&(e=pL.error),n=Fe(n);const t=[];let r=0;for(;r<n.length;){const i=n[r++];if(!(i>>7)){t.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?r+=e(Li.UNEXPECTED_CONTINUE,r-1,n,t):r+=e(Li.BAD_PREFIX,r-1,n,t);continue}if(r-1+s>=n.length){r+=e(Li.OVERRUN,r-1,n,t);continue}let a=i&(1<<8-s-1)-1;for(let l=0;l<s;l++){let c=n[r];if((c&192)!=128){r+=e(Li.MISSING_CONTINUE,r,n,t),a=null;break}a=a<<6|c&63,r++}if(a!==null){if(a>1114111){r+=e(Li.OUT_OF_RANGE,r-1-s,n,t,a);continue}if(a>=55296&&a<=57343){r+=e(Li.UTF16_SURROGATE,r-1-s,n,t,a);continue}if(a<=o){r+=e(Li.OVERLONG,r-1-s,n,t,a);continue}t.push(a)}}return t}function ir(n,e=oa.current){e!=oa.current&&(hL.checkNormalize(),n=n.normalize(e));let t=[];for(let r=0;r<n.length;r++){const i=n.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){r++;const s=n.charCodeAt(r);if(r>=n.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return Fe(t)}function bw(n){const e="0000"+n.toString(16);return"\\u"+e.substring(e.length-4)}function zJ(n,e){return'"'+GE(n,e).map(t=>{if(t<256){switch(t){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(t>=32&&t<127)return String.fromCharCode(t)}return t<=65535?bw(t):(t-=65536,bw((t>>10&1023)+55296)+bw((t&1023)+56320))}).join("")+'"'}function sS(n){return n.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function gc(n,e){return sS(GE(n,e))}function _y(n,e=oa.current){return GE(ir(n,e))}function UJ(n){const e=ir(n);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return Ge(yn([e,fL]).slice(0,32))}function VJ(n){const e=Fe(n);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let t=31;for(;e[t-1]===0;)t--;return gc(e.slice(0,t))}function HJ(n){if(n.length%4!==0)throw new Error("bad data");let e=[];for(let t=0;t<n.length;t+=4)e.push(parseInt(n.substring(t,t+4),16));return e}function jE(n,e){e||(e=function(i){return[parseInt(i,16)]});let t=0,r={};return n.split(",").forEach(i=>{let s=i.split(":");t+=parseInt(s[0],16),r[t]=e(s[1])}),r}function mL(n){let e=0;return n.split(",").map(t=>{let r=t.split("-");r.length===1?r[1]="0":r[1]===""&&(r[1]="1");let i=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:i,h:e}})}function qE(n,e){let t=0;for(let r=0;r<e.length;r++){let i=e[r];if(t+=i.l,n>=t&&n<=t+i.h&&(n-t)%(i.d||1)===0){if(i.e&&i.e.indexOf(n-t)!==-1)continue;return i}}return null}const WJ=mL("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),GJ="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(n=>parseInt(n,16)),jJ=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],qJ=jE("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),XJ=jE("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),KJ=jE("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",HJ),$J=mL("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function YJ(n){return n.reduce((e,t)=>(t.forEach(r=>{e.push(r)}),e),[])}function JJ(n){return!!qE(n,WJ)}function QJ(n){let e=qE(n,jJ);if(e)return[n+e.s];let t=qJ[n];if(t)return t;let r=XJ[n];if(r)return[n+r[0]];let i=KJ[n];return i||null}function ZJ(n){return!!qE(n,$J)}function eQ(n){if(n.match(/^[a-z0-9-]*$/i)&&n.length<=59)return n.toLowerCase();let e=_y(n);e=YJ(e.map(r=>{if(GJ.indexOf(r)>=0)return[];if(r>=65024&&r<=65039)return[];let i=QJ(r);return i||[r]})),e=_y(sS(e),oa.NFKC),e.forEach(r=>{if(ZJ(r))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(r=>{if(JJ(r))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let t=sS(e);if(t.substring(0,1)==="-"||t.substring(2,4)==="--"||t.substring(t.length-1)==="-")throw new Error("invalid hyphen");return t}const tQ=Object.freeze(Object.defineProperty({__proto__:null,get UnicodeNormalizationForm(){return oa},Utf8ErrorFuncs:pL,get Utf8ErrorReason(){return Li},_toEscapedUtf8String:zJ,formatBytes32String:UJ,nameprep:eQ,parseBytes32String:VJ,toUtf8Bytes:ir,toUtf8CodePoints:_y,toUtf8String:gc},Symbol.toStringTag,{value:"Module"}));class nQ extends cL{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,ir(t))}decode(e){return gc(super.decode(e))}}class Nx extends rl{constructor(e,t){let r=!1;const i=[];e.forEach(o=>{o.dynamic&&(r=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,t,r),this.coders=e}defaultValue(){const e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});const t=this.coders.reduce((r,i)=>{const s=i.localName;return s&&(r[s]||(r[s]=0),r[s]++),r},{});return this.coders.forEach((r,i)=>{let s=r.localName;!s||t[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,t){return aL(e,this.coders,t)}decode(e){return e.coerce(this.name,lL(e,this.coders))}}const Dx=new fe(Cm),rQ=new RegExp(/^bytes([0-9]*)$/),iQ=new RegExp(/^(u?int)([0-9]*)$/);class gL{constructor(e){ke(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new MJ(e.name);case"bool":return new CJ(e.name);case"string":return new nQ(e.name);case"bytes":return new TJ(e.name);case"array":return new AJ(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Nx((e.components||[]).map(r=>this._getCoder(r)),e.name);case"":return new RJ(e.name)}let t=e.type.match(iQ);if(t){let r=parseInt(t[2]||"256");return(r===0||r>256||r%8!==0)&&Dx.throwArgumentError("invalid "+t[1]+" bit length","param",e),new DJ(r/8,t[1]==="int",e.name)}if(t=e.type.match(rQ),t){let r=parseInt(t[1]);return(r===0||r>32)&&Dx.throwArgumentError("invalid bytes length","param",e),new PJ(r,e.name)}return Dx.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new vy(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new rS(this._getWordSize())}getDefaultValue(e){const t=e.map(i=>this._getCoder(yr.from(i)));return new Nx(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&Dx.throwError("types/values length mismatch",fe.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const r=e.map(o=>this._getCoder(yr.from(o))),i=new Nx(r,"_"),s=this._getWriter();return i.encode(s,t),s.data}decode(e,t,r){const i=e.map(o=>this._getCoder(yr.from(o)));return new Nx(i,"_").decode(this._getReader(Fe(t),r))}}const xL=new gL;function Ol(n){return an(ir(n))}const yL="hash/5.7.0";function XE(n){n=atob(n);const e=[];for(let t=0;t<n.length;t++)e.push(n.charCodeAt(t));return Fe(e)}function KE(n){n=Fe(n);let e="";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return btoa(e)}const sQ=Object.freeze(Object.defineProperty({__proto__:null,decode:XE,encode:KE},Symbol.toStringTag,{value:"Module"}));function vL(n,e){e==null&&(e=1);const t=[],r=t.forEach,i=function(s,o){r.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):t.push(a)})};return i(n,e),t}function oQ(n){const e={};for(let t=0;t<n.length;t++){const r=n[t];e[r[0]]=r[1]}return e}function aQ(n){let e=0;function t(){return n[e++]<<8|n[e++]}let r=t(),i=1,s=[0,1];for(let T=1;T<r;T++)s.push(i+=t());let o=t(),a=e;e+=o;let l=0,c=0;function u(){return l==0&&(c=c<<8|n[e++],l=8),c>>--l&1}const h=31,p=Math.pow(2,h),m=p>>>1,y=m>>1,g=p-1;let x=0;for(let T=0;T<h;T++)x=x<<1|u();let v=[],b=0,w=p;for(;;){let T=Math.floor(((x-b+1)*i-1)/w),D=0,O=r;for(;O-D>1;){let G=D+O>>>1;T<s[G]?O=G:D=G}if(D==0)break;v.push(D);let C=b+Math.floor(w*s[D]/i),B=b+Math.floor(w*s[D+1]/i)-1;for(;!((C^B)&m);)x=x<<1&g|u(),C=C<<1&g,B=B<<1&g|1;for(;C&~B&y;)x=x&m|x<<1&g>>>1|u(),C=C<<1^m,B=(B^m)<<1|m|1;b=C,w=1+B-C}let A=r-4;return v.map(T=>{switch(T-A){case 3:return A+65792+(n[a++]<<16|n[a++]<<8|n[a++]);case 2:return A+256+(n[a++]<<8|n[a++]);case 1:return A+n[a++];default:return T-1}})}function lQ(n){let e=0;return()=>n[e++]}function cQ(n){return lQ(aQ(n))}function uQ(n){return n&1?~n>>1:n>>1}function fQ(n,e){let t=Array(n);for(let r=0;r<n;r++)t[r]=1+e();return t}function zT(n,e){let t=Array(n);for(let r=0,i=-1;r<n;r++)t[r]=i+=1+e();return t}function hQ(n,e){let t=Array(n);for(let r=0,i=0;r<n;r++)t[r]=i+=uQ(e());return t}function by(n,e){let t=zT(n(),n),r=n(),i=zT(r,n),s=fQ(r,n);for(let o=0;o<r;o++)for(let a=0;a<s[o];a++)t.push(i[o]+a);return e?t.map(o=>e[o]):t}function dQ(n){let e=[];for(;;){let t=n();if(t==0)break;e.push(mQ(t,n))}for(;;){let t=n()-1;if(t<0)break;e.push(gQ(t,n))}return oQ(vL(e))}function pQ(n){let e=[];for(;;){let t=n();if(t==0)break;e.push(t)}return e}function _L(n,e,t){let r=Array(n).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)hQ(n,t).forEach((s,o)=>r[o].push(s));return r}function mQ(n,e){let t=1+e(),r=e(),i=pQ(e),s=_L(i.length,1+n,e);return vL(s.map((o,a)=>{const l=o[0],c=o.slice(1);return Array(i[a]).fill(void 0).map((u,h)=>{let p=h*r;return[l+h*t,c.map(m=>m+p)]})}))}function gQ(n,e){let t=1+e();return _L(t,1+n,e).map(i=>[i[0],i.slice(1)])}function xQ(n){let e=by(n).sort((r,i)=>r-i);return t();function t(){let r=[];for(;;){let c=by(n,e);if(c.length==0)break;r.push({set:new Set(c),node:t()})}r.sort((c,u)=>u.set.size-c.set.size);let i=n(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,l=i==2;return{branches:r,valid:s,fe0f:o,save:a,check:l}}}function yQ(){return cQ(XE("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Ev=yQ(),vQ=new Set(by(Ev)),_Q=new Set(by(Ev)),bQ=dQ(Ev),wQ=xQ(Ev),UT=45,VT=95;function bL(n){return _y(n)}function SQ(n){return n.filter(e=>e!=65039)}function wL(n){for(let e of n.split(".")){let t=bL(e);try{for(let r=t.lastIndexOf(VT)-1;r>=0;r--)if(t[r]!==VT)throw new Error("underscore only allowed at start");if(t.length>=4&&t.every(r=>r<128)&&t[2]===UT&&t[3]===UT)throw new Error("invalid label extension")}catch(r){throw new Error(`Invalid label "${e}": ${r.message}`)}}return n}function MQ(n){return wL(EQ(n,SQ))}function EQ(n,e){let t=bL(n).reverse(),r=[];for(;t.length;){let i=CQ(t);if(i){r.push(...e(i));continue}let s=t.pop();if(vQ.has(s)){r.push(s);continue}if(_Q.has(s))continue;let o=bQ[s];if(o){r.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return wL(AQ(String.fromCodePoint(...r)))}function AQ(n){return n.normalize("NFC")}function CQ(n,e){var t;let r=wQ,i,s,o=[],a=n.length;for(e&&(e.length=0);a;){let l=n[--a];if(r=(t=r.branches.find(c=>c.set.has(l)))===null||t===void 0?void 0:t.node,!r)break;if(r.save)s=l;else if(r.check&&l===s)break;o.push(l),r.fe0f&&(o.push(65039),a>0&&n[a-1]==65039&&a--),r.valid&&(i=o.slice(),r.valid==2&&i.splice(1,1),e&&e.push(...n.slice(a).reverse()),n.length=a)}return i}const TQ=new fe(yL),SL=new Uint8Array(32);SL.fill(0);function HT(n){if(n.length===0)throw new Error("invalid ENS name; empty component");return n}function Av(n){const e=ir(MQ(n)),t=[];if(n.length===0)return t;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(t.push(HT(e.slice(r,i))),r=i+1);if(r>=e.length)throw new Error("invalid ENS name; empty component");return t.push(HT(e.slice(r))),t}function PQ(n){return Av(n).map(e=>gc(e)).join(".")}function RQ(n){try{return Av(n).length!==0}catch{}return!1}function q0(n){typeof n!="string"&&TQ.throwArgumentError("invalid ENS name; not a string","name",n);let e=SL;const t=Av(n);for(;t.length;)e=an(yn([e,an(t.pop())]));return Ge(e)}function ML(n){return Ge(yn(Av(n).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}const EL=`Ethereum Signed Message:
`;function $E(n){return typeof n=="string"&&(n=ir(n)),an(yn([ir(EL),ir(String(n.length)),n]))}var IQ=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const Pn=new fe(yL),AL=new Uint8Array(32);AL.fill(0);const kQ=Ve.from(-1),CL=Ve.from(0),TL=Ve.from(1),LQ=Ve.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function NQ(n){const e=Fe(n),t=e.length%32;return t?_i([e,AL.slice(t)]):Ge(e)}const DQ=dn(TL.toHexString(),32),OQ=dn(CL.toHexString(),32),WT={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},ww=["name","version","chainId","verifyingContract","salt"];function GT(n){return function(e){return typeof e!="string"&&Pn.throwArgumentError(`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}const BQ={name:GT("name"),version:GT("version"),chainId:function(n){try{return Ve.from(n).toString()}catch{}return Pn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",n)},verifyingContract:function(n){try{return rn(n).toLowerCase()}catch{}return Pn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){try{const e=Fe(n);if(e.length!==32)throw new Error("bad length");return Ge(e)}catch{}return Pn.throwArgumentError('invalid domain value "salt"',"domain.salt",n)}};function Sw(n){{const e=n.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",r=parseInt(e[2]||"256");(r%8!==0||r>256||e[2]&&e[2]!==String(r))&&Pn.throwArgumentError("invalid numeric width","type",n);const i=LQ.mask(t?r-1:r),s=t?i.add(TL).mul(kQ):CL;return function(o){const a=Ve.from(o);return(a.lt(s)||a.gt(i))&&Pn.throwArgumentError(`value out-of-bounds for ${n}`,"value",o),dn(a.toTwos(256).toHexString(),32)}}}{const e=n.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&Pn.throwArgumentError("invalid bytes width","type",n),function(r){return Fe(r).length!==t&&Pn.throwArgumentError(`invalid length for ${n}`,"value",r),NQ(r)}}}switch(n){case"address":return function(e){return dn(rn(e),32)};case"bool":return function(e){return e?DQ:OQ};case"bytes":return function(e){return an(e)};case"string":return function(e){return Ol(e)}}return null}function jT(n,e){return`${n}(${e.map(({name:t,type:r})=>r+" "+t).join(",")})`}class Nr{constructor(e){ke(this,"types",Object.freeze(hs(e))),ke(this,"_encoderCache",{}),ke(this,"_types",{});const t={},r={},i={};Object.keys(e).forEach(a=>{t[a]={},r[a]=[],i[a]={}});for(const a in e){const l={};e[a].forEach(c=>{l[c.name]&&Pn.throwArgumentError(`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(a)}`,"types",e),l[c.name]=!0;const u=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&Pn.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!Sw(u)&&(r[u]||Pn.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),r[u].push(a),t[a][u]=!0)})}const s=Object.keys(r).filter(a=>r[a].length===0);s.length===0?Pn.throwArgumentError("missing primary type","types",e):s.length>1&&Pn.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),ke(this,"primaryType",s[0]);function o(a,l){l[a]&&Pn.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),l[a]=!0,Object.keys(t[a]).forEach(c=>{r[c]&&(o(c,l),Object.keys(l).forEach(u=>{i[u][c]=!0}))}),delete l[a]}o(this.primaryType,{});for(const a in i){const l=Object.keys(i[a]);l.sort(),this._types[a]=jT(a,e[a])+l.map(c=>jT(c,e[c])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const i=Sw(e);if(i)return i}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const i=t[1],s=this.getEncoder(i),o=parseInt(t[3]);return a=>{o>=0&&a.length!==o&&Pn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let l=a.map(s);return this._types[i]&&(l=l.map(an)),an(_i(l))}}const r=this.types[e];if(r){const i=Ol(this._types[e]);return s=>{const o=r.map(({name:a,type:l})=>{const c=this.getEncoder(l)(s[a]);return this._types[l]?an(c):c});return o.unshift(i),_i(o)}}return Pn.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||Pn.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return an(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(Sw(e))return r(e,t);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&t.length!==a&&Pn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(l=>this._visit(o,l,r))}const s=this.types[e];return s?s.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,t[a],r),o),{}):Pn.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Nr(e)}static getPrimaryType(e){return Nr.from(e).primaryType}static hashStruct(e,t,r){return Nr.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){const i=WT[r];i||Pn.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:i})}return t.sort((r,i)=>ww.indexOf(r.name)-ww.indexOf(i.name)),Nr.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return _i(["0x1901",Nr.hashDomain(e),Nr.from(t).hash(r)])}static hash(e,t,r){return an(Nr.encode(e,t,r))}static resolveNames(e,t,r,i){return IQ(this,void 0,void 0,function*(){e=bn(e);const s={};e.verifyingContract&&!kt(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Nr.from(t);o.visit(r,(a,l)=>(a==="address"&&!kt(l,20)&&(s[l]="0x"),l));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,l)=>a==="address"&&s[l]?s[l]:l),{domain:e,value:r}})}static getPayload(e,t,r){Nr.hashDomain(e);const i={},s=[];ww.forEach(l=>{const c=e[l];c!=null&&(i[l]=BQ[l](c),s.push({name:l,type:WT[l]}))});const o=Nr.from(t),a=bn(t);return a.EIP712Domain?Pn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return Ge(Fe(c));if(l.match(/^u?int/))return Ve.from(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return typeof c!="string"&&Pn.throwArgumentError("invalid string","value",c),c}return Pn.throwArgumentError("unsupported type","type",l)})}}}const FQ=Object.freeze(Object.defineProperty({__proto__:null,_TypedDataEncoder:Nr,dnsEncode:ML,ensNormalize:PQ,hashMessage:$E,id:Ol,isValidName:RQ,messagePrefix:EL,namehash:q0},Symbol.toStringTag,{value:"Module"})),Tn=new fe(Cm);class PL extends mc{}class RL extends mc{}class zQ extends mc{}class wy extends mc{static isIndexed(e){return!!(e&&e._isIndexed)}}const UQ={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function qT(n,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${n}`);return t.error=e,t}class oS{constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,ke(this,"fragments",t.map(r=>Xo.from(r)).filter(r=>r!=null)),ke(this,"_abiCoder",xo(new.target,"getAbiCoder")()),ke(this,"functions",{}),ke(this,"errors",{}),ke(this,"events",{}),ke(this,"structs",{}),this.fragments.forEach(r=>{let i=null;switch(r.type){case"constructor":if(this.deploy){Tn.warn("duplicate definition - constructor");return}ke(this,"deploy",r);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=r.format();if(i[s]){Tn.warn("duplicate definition - "+s);return}i[s]=r}),this.deploy||ke(this,"deploy",mo.from({payable:!1,type:"constructor"})),ke(this,"_isInterface",!0)}format(e){e||(e=jt.full),e===jt.sighash&&Tn.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map(r=>r.format(e));return e===jt.json?JSON.stringify(t.map(r=>JSON.parse(r))):t}static getAbiCoder(){return xL}static getAddress(e){return rn(e)}static getSighash(e){return er(Ol(e.format()),0,4)}static getEventTopic(e){return Ol(e.format())}getFunction(e){if(kt(e)){for(const r in this.functions)if(e===this.getSighash(r))return this.functions[r];Tn.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const r=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===r);return i.length===0?Tn.throwArgumentError("no matching function","name",r):i.length>1&&Tn.throwArgumentError("multiple matching functions","name",r),this.functions[i[0]]}const t=this.functions[go.fromString(e).format()];return t||Tn.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(kt(e)){const r=e.toLowerCase();for(const i in this.events)if(r===this.getEventTopic(i))return this.events[i];Tn.throwArgumentError("no matching event","topichash",r)}if(e.indexOf("(")===-1){const r=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===r);return i.length===0?Tn.throwArgumentError("no matching event","name",r):i.length>1&&Tn.throwArgumentError("multiple matching events","name",r),this.events[i[0]]}const t=this.events[Go.fromString(e).format()];return t||Tn.throwArgumentError("no matching event","signature",e),t}getError(e){if(kt(e)){const r=xo(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===r(s))return this.errors[i]}Tn.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const r=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===r);return i.length===0?Tn.throwArgumentError("no matching error","name",r):i.length>1&&Tn.throwArgumentError("multiple matching errors","name",r),this.errors[i[0]]}const t=this.errors[go.fromString(e).format()];return t||Tn.throwArgumentError("no matching error","signature",e),t}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch{throw t}}return xo(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),xo(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){typeof e=="string"&&(e=this.getError(e));const r=Fe(t);return Ge(r.slice(0,4))!==this.getSighash(e)&&Tn.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Ge(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,t){return typeof e=="string"&&(e=this.getError(e)),Ge(yn([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){typeof e=="string"&&(e=this.getFunction(e));const r=Fe(t);return Ge(r.slice(0,4))!==this.getSighash(e)&&Tn.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Ge(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){return typeof e=="string"&&(e=this.getFunction(e)),Ge(yn([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){typeof e=="string"&&(e=this.getFunction(e));let r=Fe(t),i=null,s="",o=null,a=null,l=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch{}break;case 4:{const c=Ge(r.slice(0,4)),u=UQ[c];if(u)o=this._abiCoder.decode(u.inputs,r.slice(4)),a=u.name,l=u.signature,u.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const h=this.getError(c);o=this._abiCoder.decode(h.inputs,r.slice(4)),a=h.name,l=h.format()}catch{}break}}return Tn.throwError("call revert exception"+s,fe.errors.CALL_EXCEPTION,{method:e.format(),data:Ge(t),errorArgs:o,errorName:a,errorSignature:l,reason:i})}encodeFunctionResult(e,t){return typeof e=="string"&&(e=this.getFunction(e)),Ge(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){typeof e=="string"&&(e=this.getEvent(e)),t.length>e.inputs.length&&Tn.throwError("too many arguments for "+e.format(),fe.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let r=[];e.anonymous||r.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?Ol(o):s.type==="bytes"?an(Ge(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=Ve.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),dn(Ge(o),32));for(t.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&Tn.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?Tn.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?r.push(s.map(l=>i(a,l))):r.push(i(a,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,t){typeof e=="string"&&(e=this.getEvent(e));const r=[],i=[],s=[];return e.anonymous||r.push(this.getEventTopic(e)),t.length!==e.inputs.length&&Tn.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((o,a)=>{const l=t[a];if(o.indexed)if(o.type==="string")r.push(Ol(l));else if(o.type==="bytes")r.push(an(l));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(this._abiCoder.encode([o.type],[l]))}else i.push(o),s.push(l)}),{data:this._abiCoder.encode(i,s),topics:r}}decodeEventLog(e,t,r){if(typeof e=="string"&&(e=this.getEvent(e)),r!=null&&!e.anonymous){let p=this.getEventTopic(e);(!kt(r[0],32)||r[0].toLowerCase()!==p)&&Tn.throwError("fragment/topic mismatch",fe.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:p,value:r[0]}),r=r.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((p,m)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(i.push(yr.fromObject({type:"bytes32",name:p.name})),o.push(!0)):(i.push(p),o.push(!1)):(s.push(p),o.push(!1))});let a=r!=null?this._abiCoder.decode(i,yn(r)):null,l=this._abiCoder.decode(s,t,!0),c=[],u=0,h=0;e.inputs.forEach((p,m)=>{if(p.indexed)if(a==null)c[m]=new wy({_isIndexed:!0,hash:null});else if(o[m])c[m]=new wy({_isIndexed:!0,hash:a[h++]});else try{c[m]=a[h++]}catch(y){c[m]=y}else try{c[m]=l[u++]}catch(y){c[m]=y}if(p.name&&c[p.name]==null){const y=c[m];y instanceof Error?Object.defineProperty(c,p.name,{enumerable:!0,get:()=>{throw qT(`property ${JSON.stringify(p.name)}`,y)}}):c[p.name]=y}});for(let p=0;p<c.length;p++){const m=c[p];m instanceof Error&&Object.defineProperty(c,p,{enumerable:!0,get:()=>{throw qT(`index ${p}`,m)}})}return Object.freeze(c)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new RL({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:Ve.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new PL({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=Ge(e);let r=this.getError(t.substring(0,10).toLowerCase());return r?new zQ({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const VQ=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:gL,ConstructorFragment:mo,ErrorFragment:Da,EventFragment:Go,FormatTypes:jt,Fragment:Xo,FunctionFragment:go,Indexed:wy,Interface:oS,LogDescription:PL,ParamType:yr,TransactionDescription:RL,checkResultErrors:rL,defaultAbiCoder:xL},Symbol.toStringTag,{value:"Module"})),HQ="abstract-provider/5.7.0";var WQ=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const GQ=new fe(HQ);class jQ extends mc{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class ud{constructor(){GQ.checkAbstract(new.target,ud),ke(this,"_isProvider",!0)}getFeeData(){return WQ(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield Hn({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let r=null,i=null,s=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,s=Ve.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:r,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const qQ="abstract-signer/5.7.0";var so=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const Ps=new fe(qQ),XQ=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],KQ=[fe.errors.INSUFFICIENT_FUNDS,fe.errors.NONCE_EXPIRED,fe.errors.REPLACEMENT_UNDERPRICED];class fd{constructor(){Ps.checkAbstract(new.target,fd),ke(this,"_isSigner",!0)}getBalance(e){return so(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return so(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return so(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield Hn(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return so(this,void 0,void 0,function*(){this._checkProvider("call");const r=yield Hn(this.checkTransaction(e));return yield this.provider.call(r,t)})}sendTransaction(e){return so(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)})}getChainId(){return so(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return so(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return so(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return so(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const r in e)XQ.indexOf(r)===-1&&Ps.throwArgumentError("invalid transaction key: "+r,"transaction",e);const t=bn(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(r=>(r[0].toLowerCase()!==r[1].toLowerCase()&&Ps.throwArgumentError("from address mismatch","transaction",e),r[0])),t}populateTransaction(e){return so(this,void 0,void 0,function*(){const t=yield Hn(this.checkTransaction(e));t.to!=null&&(t.to=Promise.resolve(t.to).then(i=>so(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&Ps.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),t.to.catch(i=>{}));const r=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||r)?Ps.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(t.type===0||t.type===1)&&r&&Ps.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(t.type===2||t.type==null)&&t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)t.type=2;else if(t.type===0||t.type===1)t.gasPrice==null&&(t.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(t.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(t.type=2,t.gasPrice!=null){const s=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=s,t.maxPriorityFeePerGas=s}else t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(r&&Ps.throwError("network does not support EIP-1559",fe.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),t.gasPrice==null&&(t.gasPrice=i.gasPrice),t.type=0):Ps.throwError("failed to get consistent fee data",fe.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else t.type===2&&(t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(i=>{if(KQ.indexOf(i.code)>=0)throw i;return Ps.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",fe.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Ps.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Hn(t)})}_checkProvider(e){this.provider||Ps.throwError("missing provider",fe.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class YE extends fd{constructor(e,t){super(),ke(this,"address",e),ke(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{Ps.throwError(e,fe.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new YE(this.address,e)}}var xi={},Ut={},Tm=IL;function IL(n,e){if(!n)throw new Error(e||"Assertion failed")}IL.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var aS={},XT={get exports(){return aS},set exports(n){aS=n}};typeof Object.create=="function"?XT.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:XT.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var $Q=Tm,YQ=aS;Ut.inherits=YQ;function JQ(n,e){return(n.charCodeAt(e)&64512)!==55296||e<0||e+1>=n.length?!1:(n.charCodeAt(e+1)&64512)===56320}function QQ(n,e){if(Array.isArray(n))return n.slice();if(!n)return[];var t=[];if(typeof n=="string")if(e){if(e==="hex")for(n=n.replace(/[^a-z0-9]+/ig,""),n.length%2!==0&&(n="0"+n),i=0;i<n.length;i+=2)t.push(parseInt(n[i]+n[i+1],16))}else for(var r=0,i=0;i<n.length;i++){var s=n.charCodeAt(i);s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=s&63|128):JQ(n,i)?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=s&63|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=s&63|128)}else for(i=0;i<n.length;i++)t[i]=n[i]|0;return t}Ut.toArray=QQ;function ZQ(n){for(var e="",t=0;t<n.length;t++)e+=LL(n[t].toString(16));return e}Ut.toHex=ZQ;function kL(n){var e=n>>>24|n>>>8&65280|n<<8&16711680|(n&255)<<24;return e>>>0}Ut.htonl=kL;function eZ(n,e){for(var t="",r=0;r<n.length;r++){var i=n[r];e==="little"&&(i=kL(i)),t+=NL(i.toString(16))}return t}Ut.toHex32=eZ;function LL(n){return n.length===1?"0"+n:n}Ut.zero2=LL;function NL(n){return n.length===7?"0"+n:n.length===6?"00"+n:n.length===5?"000"+n:n.length===4?"0000"+n:n.length===3?"00000"+n:n.length===2?"000000"+n:n.length===1?"0000000"+n:n}Ut.zero8=NL;function tZ(n,e,t,r){var i=t-e;$Q(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var l;r==="big"?l=n[a]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3]:l=n[a+3]<<24|n[a+2]<<16|n[a+1]<<8|n[a],s[o]=l>>>0}return s}Ut.join32=tZ;function nZ(n,e){for(var t=new Array(n.length*4),r=0,i=0;r<n.length;r++,i+=4){var s=n[r];e==="big"?(t[i]=s>>>24,t[i+1]=s>>>16&255,t[i+2]=s>>>8&255,t[i+3]=s&255):(t[i+3]=s>>>24,t[i+2]=s>>>16&255,t[i+1]=s>>>8&255,t[i]=s&255)}return t}Ut.split32=nZ;function rZ(n,e){return n>>>e|n<<32-e}Ut.rotr32=rZ;function iZ(n,e){return n<<e|n>>>32-e}Ut.rotl32=iZ;function sZ(n,e){return n+e>>>0}Ut.sum32=sZ;function oZ(n,e,t){return n+e+t>>>0}Ut.sum32_3=oZ;function aZ(n,e,t,r){return n+e+t+r>>>0}Ut.sum32_4=aZ;function lZ(n,e,t,r,i){return n+e+t+r+i>>>0}Ut.sum32_5=lZ;function cZ(n,e,t,r){var i=n[e],s=n[e+1],o=r+s>>>0,a=(o<r?1:0)+t+i;n[e]=a>>>0,n[e+1]=o}Ut.sum64=cZ;function uZ(n,e,t,r){var i=e+r>>>0,s=(i<e?1:0)+n+t;return s>>>0}Ut.sum64_hi=uZ;function fZ(n,e,t,r){var i=e+r;return i>>>0}Ut.sum64_lo=fZ;function hZ(n,e,t,r,i,s,o,a){var l=0,c=e;c=c+r>>>0,l+=c<e?1:0,c=c+s>>>0,l+=c<s?1:0,c=c+a>>>0,l+=c<a?1:0;var u=n+t+i+o+l;return u>>>0}Ut.sum64_4_hi=hZ;function dZ(n,e,t,r,i,s,o,a){var l=e+r+s+a;return l>>>0}Ut.sum64_4_lo=dZ;function pZ(n,e,t,r,i,s,o,a,l,c){var u=0,h=e;h=h+r>>>0,u+=h<e?1:0,h=h+s>>>0,u+=h<s?1:0,h=h+a>>>0,u+=h<a?1:0,h=h+c>>>0,u+=h<c?1:0;var p=n+t+i+o+l+u;return p>>>0}Ut.sum64_5_hi=pZ;function mZ(n,e,t,r,i,s,o,a,l,c){var u=e+r+s+a+c;return u>>>0}Ut.sum64_5_lo=mZ;function gZ(n,e,t){var r=e<<32-t|n>>>t;return r>>>0}Ut.rotr64_hi=gZ;function xZ(n,e,t){var r=n<<32-t|e>>>t;return r>>>0}Ut.rotr64_lo=xZ;function yZ(n,e,t){return n>>>t}Ut.shr64_hi=yZ;function vZ(n,e,t){var r=n<<32-t|e>>>t;return r>>>0}Ut.shr64_lo=vZ;var hd={},KT=Ut,_Z=Tm;function Cv(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}hd.BlockHash=Cv;Cv.prototype.update=function(e,t){if(e=KT.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=KT.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};Cv.prototype.digest=function(e){return this.update(this._pad()),_Z(this.pending===null),this._digest(e)};Cv.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var s=1;s<r;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var dd={},ha={},bZ=Ut,ea=bZ.rotr32;function wZ(n,e,t,r){if(n===0)return DL(e,t,r);if(n===1||n===3)return BL(e,t,r);if(n===2)return OL(e,t,r)}ha.ft_1=wZ;function DL(n,e,t){return n&e^~n&t}ha.ch32=DL;function OL(n,e,t){return n&e^n&t^e&t}ha.maj32=OL;function BL(n,e,t){return n^e^t}ha.p32=BL;function SZ(n){return ea(n,2)^ea(n,13)^ea(n,22)}ha.s0_256=SZ;function MZ(n){return ea(n,6)^ea(n,11)^ea(n,25)}ha.s1_256=MZ;function EZ(n){return ea(n,7)^ea(n,18)^n>>>3}ha.g0_256=EZ;function AZ(n){return ea(n,17)^ea(n,19)^n>>>10}ha.g1_256=AZ;var Xh=Ut,CZ=hd,TZ=ha,Mw=Xh.rotl32,s0=Xh.sum32,PZ=Xh.sum32_5,RZ=TZ.ft_1,FL=CZ.BlockHash,IZ=[1518500249,1859775393,2400959708,3395469782];function aa(){if(!(this instanceof aa))return new aa;FL.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Xh.inherits(aa,FL);var kZ=aa;aa.blockSize=512;aa.outSize=160;aa.hmacStrength=80;aa.padLength=64;aa.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=Mw(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4];for(i=0;i<r.length;i++){var u=~~(i/20),h=PZ(Mw(s,5),RZ(u,o,a,l),c,r[i],IZ[u]);c=l,l=a,a=Mw(o,30),o=s,s=h}this.h[0]=s0(this.h[0],s),this.h[1]=s0(this.h[1],o),this.h[2]=s0(this.h[2],a),this.h[3]=s0(this.h[3],l),this.h[4]=s0(this.h[4],c)};aa.prototype._digest=function(e){return e==="hex"?Xh.toHex32(this.h,"big"):Xh.split32(this.h,"big")};var Kh=Ut,LZ=hd,pd=ha,NZ=Tm,oo=Kh.sum32,DZ=Kh.sum32_4,OZ=Kh.sum32_5,BZ=pd.ch32,FZ=pd.maj32,zZ=pd.s0_256,UZ=pd.s1_256,VZ=pd.g0_256,HZ=pd.g1_256,zL=LZ.BlockHash,WZ=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function la(){if(!(this instanceof la))return new la;zL.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=WZ,this.W=new Array(64)}Kh.inherits(la,zL);var UL=la;la.blockSize=512;la.outSize=256;la.hmacStrength=192;la.padLength=64;la.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=DZ(HZ(r[i-2]),r[i-7],VZ(r[i-15]),r[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4],u=this.h[5],h=this.h[6],p=this.h[7];for(NZ(this.k.length===r.length),i=0;i<r.length;i++){var m=OZ(p,UZ(c),BZ(c,u,h),this.k[i],r[i]),y=oo(zZ(s),FZ(s,o,a));p=h,h=u,u=c,c=oo(l,m),l=a,a=o,o=s,s=oo(m,y)}this.h[0]=oo(this.h[0],s),this.h[1]=oo(this.h[1],o),this.h[2]=oo(this.h[2],a),this.h[3]=oo(this.h[3],l),this.h[4]=oo(this.h[4],c),this.h[5]=oo(this.h[5],u),this.h[6]=oo(this.h[6],h),this.h[7]=oo(this.h[7],p)};la.prototype._digest=function(e){return e==="hex"?Kh.toHex32(this.h,"big"):Kh.split32(this.h,"big")};var lS=Ut,VL=UL;function Qa(){if(!(this instanceof Qa))return new Qa;VL.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}lS.inherits(Qa,VL);var GZ=Qa;Qa.blockSize=512;Qa.outSize=224;Qa.hmacStrength=192;Qa.padLength=64;Qa.prototype._digest=function(e){return e==="hex"?lS.toHex32(this.h.slice(0,7),"big"):lS.split32(this.h.slice(0,7),"big")};var qi=Ut,jZ=hd,qZ=Tm,ta=qi.rotr64_hi,na=qi.rotr64_lo,HL=qi.shr64_hi,WL=qi.shr64_lo,yl=qi.sum64,Ew=qi.sum64_hi,Aw=qi.sum64_lo,XZ=qi.sum64_4_hi,KZ=qi.sum64_4_lo,$Z=qi.sum64_5_hi,YZ=qi.sum64_5_lo,GL=jZ.BlockHash,JZ=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Eo(){if(!(this instanceof Eo))return new Eo;GL.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=JZ,this.W=new Array(160)}qi.inherits(Eo,GL);var jL=Eo;Eo.blockSize=1024;Eo.outSize=512;Eo.hmacStrength=192;Eo.padLength=128;Eo.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var s=lee(r[i-4],r[i-3]),o=cee(r[i-4],r[i-3]),a=r[i-14],l=r[i-13],c=oee(r[i-30],r[i-29]),u=aee(r[i-30],r[i-29]),h=r[i-32],p=r[i-31];r[i]=XZ(s,o,a,l,c,u,h,p),r[i+1]=KZ(s,o,a,l,c,u,h,p)}};Eo.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],l=this.h[4],c=this.h[5],u=this.h[6],h=this.h[7],p=this.h[8],m=this.h[9],y=this.h[10],g=this.h[11],x=this.h[12],v=this.h[13],b=this.h[14],w=this.h[15];qZ(this.k.length===r.length);for(var A=0;A<r.length;A+=2){var T=b,D=w,O=iee(p,m),C=see(p,m),B=QZ(p,m,y,g,x),G=ZZ(p,m,y,g,x,v),Y=this.k[A],oe=this.k[A+1],V=r[A],S=r[A+1],L=$Z(T,D,O,C,B,G,Y,oe,V,S),z=YZ(T,D,O,C,B,G,Y,oe,V,S);T=nee(i,s),D=ree(i,s),O=eee(i,s,o,a,l),C=tee(i,s,o,a,l,c);var q=Ew(T,D,O,C),F=Aw(T,D,O,C);b=x,w=v,x=y,v=g,y=p,g=m,p=Ew(u,h,L,z),m=Aw(h,h,L,z),u=l,h=c,l=o,c=a,o=i,a=s,i=Ew(L,z,q,F),s=Aw(L,z,q,F)}yl(this.h,0,i,s),yl(this.h,2,o,a),yl(this.h,4,l,c),yl(this.h,6,u,h),yl(this.h,8,p,m),yl(this.h,10,y,g),yl(this.h,12,x,v),yl(this.h,14,b,w)};Eo.prototype._digest=function(e){return e==="hex"?qi.toHex32(this.h,"big"):qi.split32(this.h,"big")};function QZ(n,e,t,r,i){var s=n&t^~n&i;return s<0&&(s+=4294967296),s}function ZZ(n,e,t,r,i,s){var o=e&r^~e&s;return o<0&&(o+=4294967296),o}function eee(n,e,t,r,i){var s=n&t^n&i^t&i;return s<0&&(s+=4294967296),s}function tee(n,e,t,r,i,s){var o=e&r^e&s^r&s;return o<0&&(o+=4294967296),o}function nee(n,e){var t=ta(n,e,28),r=ta(e,n,2),i=ta(e,n,7),s=t^r^i;return s<0&&(s+=4294967296),s}function ree(n,e){var t=na(n,e,28),r=na(e,n,2),i=na(e,n,7),s=t^r^i;return s<0&&(s+=4294967296),s}function iee(n,e){var t=ta(n,e,14),r=ta(n,e,18),i=ta(e,n,9),s=t^r^i;return s<0&&(s+=4294967296),s}function see(n,e){var t=na(n,e,14),r=na(n,e,18),i=na(e,n,9),s=t^r^i;return s<0&&(s+=4294967296),s}function oee(n,e){var t=ta(n,e,1),r=ta(n,e,8),i=HL(n,e,7),s=t^r^i;return s<0&&(s+=4294967296),s}function aee(n,e){var t=na(n,e,1),r=na(n,e,8),i=WL(n,e,7),s=t^r^i;return s<0&&(s+=4294967296),s}function lee(n,e){var t=ta(n,e,19),r=ta(e,n,29),i=HL(n,e,6),s=t^r^i;return s<0&&(s+=4294967296),s}function cee(n,e){var t=na(n,e,19),r=na(e,n,29),i=WL(n,e,6),s=t^r^i;return s<0&&(s+=4294967296),s}var cS=Ut,qL=jL;function Za(){if(!(this instanceof Za))return new Za;qL.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}cS.inherits(Za,qL);var uee=Za;Za.blockSize=1024;Za.outSize=384;Za.hmacStrength=192;Za.padLength=128;Za.prototype._digest=function(e){return e==="hex"?cS.toHex32(this.h.slice(0,12),"big"):cS.split32(this.h.slice(0,12),"big")};dd.sha1=kZ;dd.sha224=GZ;dd.sha256=UL;dd.sha384=uee;dd.sha512=jL;var XL={},Ou=Ut,fee=hd,Ox=Ou.rotl32,$T=Ou.sum32,o0=Ou.sum32_3,YT=Ou.sum32_4,KL=fee.BlockHash;function ca(){if(!(this instanceof ca))return new ca;KL.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ou.inherits(ca,KL);XL.ripemd160=ca;ca.blockSize=512;ca.outSize=160;ca.hmacStrength=192;ca.padLength=64;ca.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],l=r,c=i,u=s,h=o,p=a,m=0;m<80;m++){var y=$T(Ox(YT(r,JT(m,i,s,o),e[pee[m]+t],hee(m)),gee[m]),a);r=a,a=o,o=Ox(s,10),s=i,i=y,y=$T(Ox(YT(l,JT(79-m,c,u,h),e[mee[m]+t],dee(m)),xee[m]),p),l=p,p=h,h=Ox(u,10),u=c,c=y}y=o0(this.h[1],s,h),this.h[1]=o0(this.h[2],o,p),this.h[2]=o0(this.h[3],a,l),this.h[3]=o0(this.h[4],r,c),this.h[4]=o0(this.h[0],i,u),this.h[0]=y};ca.prototype._digest=function(e){return e==="hex"?Ou.toHex32(this.h,"little"):Ou.split32(this.h,"little")};function JT(n,e,t,r){return n<=15?e^t^r:n<=31?e&t|~e&r:n<=47?(e|~t)^r:n<=63?e&r|t&~r:e^(t|~r)}function hee(n){return n<=15?0:n<=31?1518500249:n<=47?1859775393:n<=63?2400959708:2840853838}function dee(n){return n<=15?1352829926:n<=31?1548603684:n<=47?1836072691:n<=63?2053994217:0}var pee=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],mee=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],gee=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],xee=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],yee=Ut,vee=Tm;function $h(n,e,t){if(!(this instanceof $h))return new $h(n,e,t);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(yee.toArray(e,t))}var _ee=$h;$h.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),vee(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};$h.prototype.update=function(e,t){return this.inner.update(e,t),this};$h.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(n){var e=n;e.utils=Ut,e.common=hd,e.sha=dd,e.ripemd=XL,e.hmac=_ee,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(xi);function md(n,e,t){return t={path:e,exports:{},require:function(r,i){return bee(r,i??t.path)}},n(t,t.exports),t.exports}function bee(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var JE=$L;function $L(n,e){if(!n)throw new Error(e||"Assertion failed")}$L.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var yo=md(function(n,e){var t=e;function r(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var l=[];if(typeof o!="string"){for(var c=0;c<o.length;c++)l[c]=o[c]|0;return l}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var c=0;c<o.length;c+=2)l.push(parseInt(o[c]+o[c+1],16))}else for(var c=0;c<o.length;c++){var u=o.charCodeAt(c),h=u>>8,p=u&255;h?l.push(h,p):l.push(p)}return l}t.toArray=r;function i(o){return o.length===1?"0"+o:o}t.zero2=i;function s(o){for(var a="",l=0;l<o.length;l++)a+=i(o[l].toString(16));return a}t.toHex=s,t.encode=function(a,l){return l==="hex"?s(a):a}}),ys=md(function(n,e){var t=e;t.assert=JE,t.toArray=yo.toArray,t.zero2=yo.zero2,t.toHex=yo.toHex,t.encode=yo.encode;function r(l,c,u){var h=new Array(Math.max(l.bitLength(),u)+1);h.fill(0);for(var p=1<<c+1,m=l.clone(),y=0;y<h.length;y++){var g,x=m.andln(p-1);m.isOdd()?(x>(p>>1)-1?g=(p>>1)-x:g=x,m.isubn(g)):g=0,h[y]=g,m.iushrn(1)}return h}t.getNAF=r;function i(l,c){var u=[[],[]];l=l.clone(),c=c.clone();for(var h=0,p=0,m;l.cmpn(-h)>0||c.cmpn(-p)>0;){var y=l.andln(3)+h&3,g=c.andln(3)+p&3;y===3&&(y=-1),g===3&&(g=-1);var x;y&1?(m=l.andln(7)+h&7,(m===3||m===5)&&g===2?x=-y:x=y):x=0,u[0].push(x);var v;g&1?(m=c.andln(7)+p&7,(m===3||m===5)&&y===2?v=-g:v=g):v=0,u[1].push(v),2*h===x+1&&(h=1-h),2*p===v+1&&(p=1-p),l.iushrn(1),c.iushrn(1)}return u}t.getJSF=i;function s(l,c,u){var h="_"+c;l.prototype[c]=function(){return this[h]!==void 0?this[h]:this[h]=u.call(this)}}t.cachedProperty=s;function o(l){return typeof l=="string"?t.toArray(l,"hex"):l}t.parseBytes=o;function a(l){return new Ct(l,"hex","le")}t.intFromLE=a}),Sy=ys.getNAF,wee=ys.getJSF,My=ys.assert;function xc(n,e){this.type=n,this.p=new Ct(e.p,16),this.red=e.prime?Ct.red(e.prime):Ct.mont(this.p),this.zero=new Ct(0).toRed(this.red),this.one=new Ct(1).toRed(this.red),this.two=new Ct(2).toRed(this.red),this.n=e.n&&new Ct(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var $u=xc;xc.prototype.point=function(){throw new Error("Not implemented")};xc.prototype.validate=function(){throw new Error("Not implemented")};xc.prototype._fixedNafMul=function(e,t){My(e.precomputed);var r=e._getDoubles(),i=Sy(t,1,this._bitLength),s=(1<<r.step+1)-(r.step%2===0?2:1);s/=3;var o=[],a,l;for(a=0;a<i.length;a+=r.step){l=0;for(var c=a+r.step-1;c>=a;c--)l=(l<<1)+i[c];o.push(l)}for(var u=this.jpoint(null,null,null),h=this.jpoint(null,null,null),p=s;p>0;p--){for(a=0;a<o.length;a++)l=o[a],l===p?h=h.mixedAdd(r.points[a]):l===-p&&(h=h.mixedAdd(r.points[a].neg()));u=u.add(h)}return u.toP()};xc.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var s=i.points,o=Sy(t,r,this._bitLength),a=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var c=0;l>=0&&o[l]===0;l--)c++;if(l>=0&&c++,a=a.dblp(c),l<0)break;var u=o[l];My(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};xc.prototype._wnafMulAdd=function(e,t,r,i,s){var o=this._wnafT1,a=this._wnafT2,l=this._wnafT3,c=0,u,h,p;for(u=0;u<i;u++){p=t[u];var m=p._getNAFPoints(e);o[u]=m.wnd,a[u]=m.points}for(u=i-1;u>=1;u-=2){var y=u-1,g=u;if(o[y]!==1||o[g]!==1){l[y]=Sy(r[y],o[y],this._bitLength),l[g]=Sy(r[g],o[g],this._bitLength),c=Math.max(l[y].length,c),c=Math.max(l[g].length,c);continue}var x=[t[y],null,null,t[g]];t[y].y.cmp(t[g].y)===0?(x[1]=t[y].add(t[g]),x[2]=t[y].toJ().mixedAdd(t[g].neg())):t[y].y.cmp(t[g].y.redNeg())===0?(x[1]=t[y].toJ().mixedAdd(t[g]),x[2]=t[y].add(t[g].neg())):(x[1]=t[y].toJ().mixedAdd(t[g]),x[2]=t[y].toJ().mixedAdd(t[g].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],b=wee(r[y],r[g]);for(c=Math.max(b[0].length,c),l[y]=new Array(c),l[g]=new Array(c),h=0;h<c;h++){var w=b[0][h]|0,A=b[1][h]|0;l[y][h]=v[(w+1)*3+(A+1)],l[g][h]=0,a[y]=x}}var T=this.jpoint(null,null,null),D=this._wnafT4;for(u=c;u>=0;u--){for(var O=0;u>=0;){var C=!0;for(h=0;h<i;h++)D[h]=l[h][u]|0,D[h]!==0&&(C=!1);if(!C)break;O++,u--}if(u>=0&&O++,T=T.dblp(O),u<0)break;for(h=0;h<i;h++){var B=D[h];B!==0&&(B>0?p=a[h][B-1>>1]:B<0&&(p=a[h][-B-1>>1].neg()),p.type==="affine"?T=T.mixedAdd(p):T=T.add(p))}}for(u=0;u<i;u++)a[u]=null;return s?T:T.toP()};function Ks(n,e){this.curve=n,this.type=e,this.precomputed=null}xc.BasePoint=Ks;Ks.prototype.eq=function(){throw new Error("Not implemented")};Ks.prototype.validate=function(){return this.curve.validate(this)};xc.prototype.decodePoint=function(e,t){e=ys.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?My(e[e.length-1]%2===0):e[0]===7&&My(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")};Ks.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Ks.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))};Ks.prototype.encode=function(e,t){return ys.encode(this._encode(t),e)};Ks.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};Ks.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};Ks.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,s=0;s<t;s+=e){for(var o=0;o<e;o++)i=i.dbl();r.push(i)}return{step:e,points:r}};Ks.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),s=1;s<r;s++)t[s]=t[s-1].add(i);return{wnd:e,points:t}};Ks.prototype._getBeta=function(){return null};Ks.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var QE=md(function(n){typeof Object.create=="function"?n.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}}),See=ys.assert;function $s(n){$u.call(this,"short",n),this.a=new Ct(n.a,16).toRed(this.red),this.b=new Ct(n.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(n),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}QE($s,$u);var Mee=$s;$s.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new Ct(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new Ct(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?r=s[0]:(r=s[1],See(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new Ct(a.a,16),b:new Ct(a.b,16)}}):o=this._getEndoBasis(r),{beta:t,lambda:r,basis:o}}};$s.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Ct.mont(e),r=new Ct(2).toRed(t).redInvm(),i=r.redNeg(),s=new Ct(3).toRed(t).redNeg().redSqrt().redMul(r),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};$s.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),s=new Ct(1),o=new Ct(0),a=new Ct(0),l=new Ct(1),c,u,h,p,m,y,g,x=0,v,b;r.cmpn(0)!==0;){var w=i.div(r);v=i.sub(w.mul(r)),b=a.sub(w.mul(s));var A=l.sub(w.mul(o));if(!h&&v.cmp(t)<0)c=g.neg(),u=s,h=v.neg(),p=b;else if(h&&++x===2)break;g=v,i=r,r=v,a=s,s=b,l=o,o=A}m=v.neg(),y=b;var T=h.sqr().add(p.sqr()),D=m.sqr().add(y.sqr());return D.cmp(T)>=0&&(m=c,y=u),h.negative&&(h=h.neg(),p=p.neg()),m.negative&&(m=m.neg(),y=y.neg()),[{a:h,b:p},{a:m,b:y}]};$s.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],s=i.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=s.mul(r.a),l=o.mul(i.a),c=s.mul(r.b),u=o.mul(i.b),h=e.sub(a).sub(l),p=c.add(u).neg();return{k1:h,k2:p}};$s.prototype.pointFromX=function(e,t){e=new Ct(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(t&&!s||!t&&s)&&(i=i.redNeg()),this.point(e,i)};$s.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(s).cmpn(0)===0};$s.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),l=e[o],c=l._getBeta();a.k1.negative&&(a.k1.ineg(),l=l.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),i[o*2]=l,i[o*2+1]=c,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,r),h=0;h<o*2;h++)i[h]=null,s[h]=null;return u};function Rr(n,e,t,r){$u.BasePoint.call(this,n,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ct(e,16),this.y=new Ct(t,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}QE(Rr,$u.BasePoint);$s.prototype.point=function(e,t,r){return new Rr(this,e,t,r)};$s.prototype.pointFromJSON=function(e,t){return Rr.fromJSON(this,e,t)};Rr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(s){return r.point(s.x.redMul(r.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}};Rr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Rr.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function s(a){return e.point(a[0],a[1],r)}var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Rr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Rr.prototype.isInfinity=function(){return this.inf};Rr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)};Rr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),s=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Rr.prototype.getX=function(){return this.x.fromRed()};Rr.prototype.getY=function(){return this.y.fromRed()};Rr.prototype.mul=function(e){return e=new Ct(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Rr.prototype.mulAdd=function(e,t,r){var i=[this,t],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Rr.prototype.jmulAdd=function(e,t,r){var i=[this,t],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Rr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Rr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(s){return s.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t};Rr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Ur(n,e,t,r){$u.BasePoint.call(this,n,"jacobian"),e===null&&t===null&&r===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ct(0)):(this.x=new Ct(e,16),this.y=new Ct(t,16),this.z=new Ct(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}QE(Ur,$u.BasePoint);$s.prototype.jpoint=function(e,t,r){return new Ur(this,e,t,r)};Ur.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)};Ur.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Ur.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),s=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),l=i.redSub(s),c=o.redSub(a);if(l.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=l.redSqr(),h=u.redMul(l),p=i.redMul(u),m=c.redSqr().redIAdd(h).redISub(p).redISub(p),y=c.redMul(p.redISub(m)).redISub(o.redMul(h)),g=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(m,y,g)};Ur.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),s=this.y,o=e.y.redMul(t).redMul(this.z),a=r.redSub(i),l=s.redSub(o);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),h=r.redMul(c),p=l.redSqr().redIAdd(u).redISub(h).redISub(h),m=l.redMul(h.redISub(p)).redISub(s.redMul(u)),y=this.z.redMul(a);return this.curve.jpoint(p,m,y)};Ur.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,l=this.z,c=l.redSqr().redSqr(),u=a.redAdd(a);for(t=0;t<e;t++){var h=o.redSqr(),p=u.redSqr(),m=p.redSqr(),y=h.redAdd(h).redIAdd(h).redIAdd(i.redMul(c)),g=o.redMul(p),x=y.redSqr().redISub(g.redAdd(g)),v=g.redISub(x),b=y.redMul(v);b=b.redIAdd(b).redISub(m);var w=u.redMul(l);t+1<e&&(c=c.redMul(m)),o=x,l=w,u=b}return this.curve.jpoint(o,u.redMul(s),l)};Ur.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Ur.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i),c=l.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=c,t=l.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),p=this.y.redSqr(),m=p.redSqr(),y=this.x.redAdd(p).redSqr().redISub(h).redISub(m);y=y.redIAdd(y);var g=h.redAdd(h).redIAdd(h),x=g.redSqr(),v=m.redIAdd(m);v=v.redIAdd(v),v=v.redIAdd(v),e=x.redISub(y).redISub(y),t=g.redMul(y.redISub(e)).redISub(v),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)};Ur.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=l.redSqr().redISub(a).redISub(a);e=c;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),t=l.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),p=this.y.redSqr(),m=this.x.redMul(p),y=this.x.redSub(h).redMul(this.x.redAdd(h));y=y.redAdd(y).redIAdd(y);var g=m.redIAdd(m);g=g.redIAdd(g);var x=g.redAdd(g);e=y.redSqr().redISub(x),r=this.y.redAdd(this.z).redSqr().redISub(p).redISub(h);var v=p.redSqr();v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v),t=y.redMul(g.redISub(e)).redISub(v)}return this.curve.jpoint(e,t,r)};Ur.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,s=i.redSqr().redSqr(),o=t.redSqr(),a=r.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),c=t.redAdd(t);c=c.redIAdd(c);var u=c.redMul(a),h=l.redSqr().redISub(u.redAdd(u)),p=u.redISub(h),m=a.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var y=l.redMul(p).redISub(m),g=r.redAdd(r).redMul(i);return this.curve.jpoint(h,y,g)};Ur.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var l=a.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=s.redIAdd(a).redSqr().redISub(o).redISub(l).redISub(c),h=t.redMul(u);h=h.redIAdd(h),h=h.redIAdd(h);var p=this.x.redMul(l).redISub(h);p=p.redIAdd(p),p=p.redIAdd(p);var m=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(l)));m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var y=this.z.redAdd(a).redSqr().redISub(r).redISub(l);return this.curve.jpoint(p,m,y)};Ur.prototype.mul=function(e,t){return e=new Ct(e,t),this.curve._wnafMul(this,e)};Ur.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),s=r.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};Ur.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(s),this.x.cmp(r)===0)return!0}};Ur.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Ur.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var v1=md(function(n,e){var t=e;t.base=$u,t.short=Mee,t.mont=null,t.edwards=null}),_1=md(function(n,e){var t=e,r=ys.assert;function i(a){a.type==="short"?this.curve=new v1.short(a):a.type==="edwards"?this.curve=new v1.edwards(a):this.curve=new v1.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,r(this.g.validate(),"Invalid curve"),r(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=i;function s(a,l){Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){var c=new i(l);return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,value:c}),c}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:xi.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:xi.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:xi.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:xi.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:xi.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:xi.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:xi.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:xi.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function sc(n){if(!(this instanceof sc))return new sc(n);this.hash=n.hash,this.predResist=!!n.predResist,this.outLen=this.hash.outSize,this.minEntropy=n.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=yo.toArray(n.entropy,n.entropyEnc||"hex"),t=yo.toArray(n.nonce,n.nonceEnc||"hex"),r=yo.toArray(n.pers,n.persEnc||"hex");JE(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,r)}var YL=sc;sc.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};sc.prototype._hmac=function(){return new xi.hmac(this.hash,this.K)};sc.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};sc.prototype.reseed=function(e,t,r,i){typeof t!="string"&&(i=r,r=t,t=null),e=yo.toArray(e,t),r=yo.toArray(r,i),JE(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1};sc.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=r,r=t,t=null),r&&(r=yo.toArray(r,i||"hex"),this._update(r));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(r),this._reseed++,yo.encode(o,t)};var uS=ys.assert;function ai(n,e){this.ec=n,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var ZE=ai;ai.fromPublic=function(e,t,r){return t instanceof ai?t:new ai(e,{pub:t,pubEnc:r})};ai.fromPrivate=function(e,t,r){return t instanceof ai?t:new ai(e,{priv:t,privEnc:r})};ai.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ai.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};ai.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};ai.prototype._importPrivate=function(e,t){this.priv=new Ct(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};ai.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?uS(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&uS(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};ai.prototype.derive=function(e){return e.validate()||uS(e.validate(),"public point not validated"),e.mul(this.priv).getX()};ai.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)};ai.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};ai.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Eee=ys.assert;function Tv(n,e){if(n instanceof Tv)return n;this._importDER(n,e)||(Eee(n.r&&n.s,"Signature without r or s"),this.r=new Ct(n.r,16),this.s=new Ct(n.s,16),n.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=n.recoveryParam)}var Pv=Tv;function Aee(){this.place=0}function Cw(n,e){var t=n[e.place++];if(!(t&128))return t;var r=t&15;if(r===0||r>4)return!1;for(var i=0,s=0,o=e.place;s<r;s++,o++)i<<=8,i|=n[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function QT(n){for(var e=0,t=n.length-1;!n[e]&&!(n[e+1]&128)&&e<t;)e++;return e===0?n:n.slice(e)}Tv.prototype._importDER=function(e,t){e=ys.toArray(e,t);var r=new Aee;if(e[r.place++]!==48)return!1;var i=Cw(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var s=Cw(e,r);if(s===!1)return!1;var o=e.slice(r.place,s+r.place);if(r.place+=s,e[r.place++]!==2)return!1;var a=Cw(e,r);if(a===!1||e.length!==a+r.place)return!1;var l=e.slice(r.place,a+r.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new Ct(o),this.s=new Ct(l),this.recoveryParam=null,!0};function Tw(n,e){if(e<128){n.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(n.push(t|128);--t;)n.push(e>>>(t<<3)&255);n.push(e)}Tv.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=QT(t),r=QT(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];Tw(i,t.length),i=i.concat(t),i.push(2),Tw(i,r.length);var s=i.concat(r),o=[48];return Tw(o,s.length),o=o.concat(s),ys.encode(o,e)};var Cee=function(){throw new Error("unsupported")},JL=ys.assert;function Xs(n){if(!(this instanceof Xs))return new Xs(n);typeof n=="string"&&(JL(Object.prototype.hasOwnProperty.call(_1,n),"Unknown curve "+n),n=_1[n]),n instanceof _1.PresetCurve&&(n={curve:n}),this.curve=n.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=n.curve.g,this.g.precompute(n.curve.n.bitLength()+1),this.hash=n.hash||n.curve.hash}var Tee=Xs;Xs.prototype.keyPair=function(e){return new ZE(this,e)};Xs.prototype.keyFromPrivate=function(e,t){return ZE.fromPrivate(this,e,t)};Xs.prototype.keyFromPublic=function(e,t){return ZE.fromPublic(this,e,t)};Xs.prototype.genKeyPair=function(e){e||(e={});for(var t=new YL({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Cee(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new Ct(2));;){var s=new Ct(t.generate(r));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Xs.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};Xs.prototype.sign=function(e,t,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new Ct(e,16));for(var s=this.n.byteLength(),o=t.getPrivate().toArray("be",s),a=e.toArray("be",s),l=new YL({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new Ct(1)),u=0;;u++){var h=i.k?i.k(u):new Ct(l.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(c)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var m=p.getX(),y=m.umod(this.n);if(y.cmpn(0)!==0){var g=h.invm(this.n).mul(y.mul(t.getPrivate()).iadd(e));if(g=g.umod(this.n),g.cmpn(0)!==0){var x=(p.getY().isOdd()?1:0)|(m.cmp(y)!==0?2:0);return i.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),x^=1),new Pv({r:y,s:g,recoveryParam:x})}}}}}};Xs.prototype.verify=function(e,t,r,i){e=this._truncateToN(new Ct(e,16)),r=this.keyFromPublic(r,i),t=new Pv(t,"hex");var s=t.r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),l=a.mul(e).umod(this.n),c=a.mul(s).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(l,r.getPublic(),c),u.isInfinity()?!1:u.eqXToP(s)):(u=this.g.mulAdd(l,r.getPublic(),c),u.isInfinity()?!1:u.getX().umod(this.n).cmp(s)===0)};Xs.prototype.recoverPubKey=function(n,e,t,r){JL((3&t)===t,"The recovery param is more than two bits"),e=new Pv(e,r);var i=this.n,s=new Ct(n),o=e.r,a=e.s,l=t&1,c=t>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),l):o=this.curve.pointFromX(o,l);var u=e.r.invm(i),h=i.sub(s).mul(u).umod(i),p=a.mul(u).umod(i);return this.g.mulAdd(h,o,p)};Xs.prototype.getKeyRecoveryParam=function(n,e,t,r){if(e=new Pv(e,r),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(n,e,i)}catch{continue}if(s.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var Pee=md(function(n,e){var t=e;t.version="6.5.4",t.utils=ys,t.rand=function(){throw new Error("unsupported")},t.curve=v1,t.curves=_1,t.ec=Tee,t.eddsa=null}),Ree=Pee.ec;const Iee="signing-key/5.7.0",fS=new fe(Iee);let Pw=null;function Vo(){return Pw||(Pw=new Ree("secp256k1")),Pw}class bu{constructor(e){ke(this,"curve","secp256k1"),ke(this,"privateKey",Ge(e)),sa(this.privateKey)!==32&&fS.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=Vo().keyFromPrivate(Fe(this.privateKey));ke(this,"publicKey","0x"+t.getPublic(!1,"hex")),ke(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),ke(this,"_isSigningKey",!0)}_addPoint(e){const t=Vo().keyFromPublic(Fe(this.publicKey)),r=Vo().keyFromPublic(Fe(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const t=Vo().keyFromPrivate(Fe(this.privateKey)),r=Fe(e);r.length!==32&&fS.throwArgumentError("bad digest length","digest",e);const i=t.sign(r,{canonical:!0});return Ku({recoveryParam:i.recoveryParam,r:dn("0x"+i.r.toString(16),32),s:dn("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const t=Vo().keyFromPrivate(Fe(this.privateKey)),r=Vo().keyFromPublic(Fe(eA(e)));return dn("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function QL(n,e){const t=Ku(e),r={r:Fe(t.r),s:Fe(t.s)};return"0x"+Vo().recoverPubKey(Fe(n),r,t.recoveryParam).encode("hex",!1)}function eA(n,e){const t=Fe(n);if(t.length===32){const r=new bu(t);return e?"0x"+Vo().keyFromPrivate(t).getPublic(!0,"hex"):r.publicKey}else{if(t.length===33)return e?Ge(t):"0x"+Vo().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+Vo().keyFromPublic(t).getPublic(!0,"hex"):Ge(t)}return fS.throwArgumentError("invalid public or private key","key","[REDACTED]")}const kee=Object.freeze(Object.defineProperty({__proto__:null,SigningKey:bu,computePublicKey:eA,recoverPublicKey:QL},Symbol.toStringTag,{value:"Module"})),Lee="transactions/5.7.0",ni=new fe(Lee);var hS;(function(n){n[n.legacy=0]="legacy",n[n.eip2930=1]="eip2930",n[n.eip1559=2]="eip1559"})(hS||(hS={}));function tA(n){return n==="0x"?null:rn(n)}function Zr(n){return n==="0x"?uL:Ve.from(n)}const Nee=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],Dee={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function $l(n){const e=eA(n);return rn(er(an(er(e,1)),12))}function Pm(n,e){return $l(QL(Fe(n),e))}function is(n,e){const t=Zo(Ve.from(n).toHexString());return t.length>32&&ni.throwArgumentError("invalid length for "+e,"transaction:"+e,n),t}function Rw(n,e){return{address:rn(n),storageKeys:(e||[]).map((t,r)=>(sa(t)!==32&&ni.throwArgumentError("invalid access list storageKey",`accessList[${n}:${r}]`,t),t.toLowerCase()))}}function Yu(n){if(Array.isArray(n))return n.map((t,r)=>Array.isArray(t)?(t.length>2&&ni.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${r}]`,t),Rw(t[0],t[1])):Rw(t.address,t.storageKeys));const e=Object.keys(n).map(t=>{const r=n[t].reduce((i,s)=>(i[s]=!0,i),{});return Rw(t,Object.keys(r).sort())});return e.sort((t,r)=>t.address.localeCompare(r.address)),e}function ZL(n){return Yu(n).map(e=>[e.address,e.storageKeys])}function eN(n,e){if(n.gasPrice!=null){const r=Ve.from(n.gasPrice),i=Ve.from(n.maxFeePerGas||0);r.eq(i)||ni.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:i})}const t=[is(n.chainId||0,"chainId"),is(n.nonce||0,"nonce"),is(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),is(n.maxFeePerGas||0,"maxFeePerGas"),is(n.gasLimit||0,"gasLimit"),n.to!=null?rn(n.to):"0x",is(n.value||0,"value"),n.data||"0x",ZL(n.accessList||[])];if(e){const r=Ku(e);t.push(is(r.recoveryParam,"recoveryParam")),t.push(Zo(r.r)),t.push(Zo(r.s))}return _i(["0x02",Du(t)])}function tN(n,e){const t=[is(n.chainId||0,"chainId"),is(n.nonce||0,"nonce"),is(n.gasPrice||0,"gasPrice"),is(n.gasLimit||0,"gasLimit"),n.to!=null?rn(n.to):"0x",is(n.value||0,"value"),n.data||"0x",ZL(n.accessList||[])];if(e){const r=Ku(e);t.push(is(r.recoveryParam,"recoveryParam")),t.push(Zo(r.r)),t.push(Zo(r.s))}return _i(["0x01",Du(t)])}function Oee(n,e){UE(n,Dee);const t=[];Nee.forEach(function(o){let a=n[o.name]||[];const l={};o.numeric&&(l.hexPad="left"),a=Fe(Ge(a,l)),o.length&&a.length!==o.length&&a.length>0&&ni.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a),o.maxLength&&(a=Zo(a),a.length>o.maxLength&&ni.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a)),t.push(Ge(a))});let r=0;if(n.chainId!=null?(r=n.chainId,typeof r!="number"&&ni.throwArgumentError("invalid transaction.chainId","transaction",n)):e&&!Am(e)&&e.v>28&&(r=Math.floor((e.v-35)/2)),r!==0&&(t.push(Ge(r)),t.push("0x"),t.push("0x")),!e)return Du(t);const i=Ku(e);let s=27+i.recoveryParam;return r!==0?(t.pop(),t.pop(),t.pop(),s+=r*2+8,i.v>28&&i.v!==s&&ni.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&ni.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),t.push(Ge(s)),t.push(Zo(Fe(i.r))),t.push(Zo(Fe(i.s))),Du(t)}function dS(n,e){if(n.type==null||n.type===0)return n.accessList!=null&&ni.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",n),Oee(n,e);switch(n.type){case 1:return tN(n,e);case 2:return eN(n,e)}return ni.throwError(`unsupported transaction type: ${n.type}`,fe.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:n.type})}function nN(n,e,t){try{const r=Zr(e[0]).toNumber();if(r!==0&&r!==1)throw new Error("bad recid");n.v=r}catch{ni.throwArgumentError("invalid v for transaction type: 1","v",e[0])}n.r=dn(e[1],32),n.s=dn(e[2],32);try{const r=an(t(n));n.from=Pm(r,{r:n.r,s:n.s,recoveryParam:n.v})}catch{}}function Bee(n){const e=Mv(n.slice(1));e.length!==9&&e.length!==12&&ni.throwArgumentError("invalid component count for transaction type: 2","payload",Ge(n));const t=Zr(e[2]),r=Zr(e[3]),i={type:2,chainId:Zr(e[0]).toNumber(),nonce:Zr(e[1]).toNumber(),maxPriorityFeePerGas:t,maxFeePerGas:r,gasPrice:null,gasLimit:Zr(e[4]),to:tA(e[5]),value:Zr(e[6]),data:e[7],accessList:Yu(e[8])};return e.length===9||(i.hash=an(n),nN(i,e.slice(9),eN)),i}function Fee(n){const e=Mv(n.slice(1));e.length!==8&&e.length!==11&&ni.throwArgumentError("invalid component count for transaction type: 1","payload",Ge(n));const t={type:1,chainId:Zr(e[0]).toNumber(),nonce:Zr(e[1]).toNumber(),gasPrice:Zr(e[2]),gasLimit:Zr(e[3]),to:tA(e[4]),value:Zr(e[5]),data:e[6],accessList:Yu(e[7])};return e.length===8||(t.hash=an(n),nN(t,e.slice(8),tN)),t}function zee(n){const e=Mv(n);e.length!==9&&e.length!==6&&ni.throwArgumentError("invalid raw transaction","rawTransaction",n);const t={nonce:Zr(e[0]).toNumber(),gasPrice:Zr(e[1]),gasLimit:Zr(e[2]),to:tA(e[3]),value:Zr(e[4]),data:e[5],chainId:0};if(e.length===6)return t;try{t.v=Ve.from(e[6]).toNumber()}catch{return t}if(t.r=dn(e[7],32),t.s=dn(e[8],32),Ve.from(t.r).isZero()&&Ve.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);let r=t.v-27;const i=e.slice(0,6);t.chainId!==0&&(i.push(Ge(t.chainId)),i.push("0x"),i.push("0x"),r-=t.chainId*2+8);const s=an(Du(i));try{t.from=Pm(s,{r:Ge(t.r),s:Ge(t.s),recoveryParam:r})}catch{}t.hash=an(n)}return t.type=null,t}function rN(n){const e=Fe(n);if(e[0]>127)return zee(e);switch(e[0]){case 1:return Fee(e);case 2:return Bee(e)}return ni.throwError(`unsupported transaction type: ${e[0]}`,fe.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const Uee=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return hS},accessListify:Yu,computeAddress:$l,parse:rN,recoverAddress:Pm,serialize:dS},Symbol.toStringTag,{value:"Module"})),Vee="contracts/5.7.0";var Bu=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const Yn=new fe(Vee);function Ey(n,e){return Bu(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&Yn.throwArgumentError("invalid address or ENS name","name",t);try{return rn(t)}catch{}n||Yn.throwError("a provider or signer is needed to resolve ENS names",fe.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const r=yield n.resolveName(t);return r==null&&Yn.throwArgumentError("resolver or addr is not configured for ENS name","name",t),r})}function b1(n,e,t){return Bu(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((r,i)=>b1(n,Array.isArray(e)?e[i]:e[r.name],r))):t.type==="address"?yield Ey(n,e):t.type==="tuple"?yield b1(n,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(r=>b1(n,r,t.arrayChildren))):Promise.reject(Yn.makeError("invalid value for array",fe.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Rv(n,e,t){return Bu(this,void 0,void 0,function*(){let r={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(r=bn(t.pop())),Yn.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),n.signer?r.from?r.from=Hn({override:Ey(n.signer,r.from),signer:n.signer.getAddress()}).then(c=>Bu(this,void 0,void 0,function*(){return rn(c.signer)!==c.override&&Yn.throwError("Contract with a Signer cannot override from",fe.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),c.override})):r.from=n.signer.getAddress():r.from&&(r.from=Ey(n.provider,r.from));const i=yield Hn({args:b1(n.signer||n.provider,t,e.inputs),address:n.resolvedAddress,overrides:Hn(r)||{}}),s=n.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=Ve.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=Ve.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=Ve.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=Ve.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=Ve.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=Yu(a.accessList)),o.gasLimit==null&&e.gas!=null){let c=21e3;const u=Fe(s);for(let h=0;h<u.length;h++)c+=4,u[h]&&(c+=64);o.gasLimit=Ve.from(e.gas).add(c)}if(a.value){const c=Ve.from(a.value);!c.isZero()&&!e.payable&&Yn.throwError("non-payable method cannot override value",fe.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),o.value=c}a.customData&&(o.customData=bn(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete r.nonce,delete r.gasLimit,delete r.gasPrice,delete r.from,delete r.value,delete r.type,delete r.accessList,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.customData,delete r.ccipReadEnabled;const l=Object.keys(r).filter(c=>r[c]!=null);return l.length&&Yn.throwError(`cannot override ${l.map(c=>JSON.stringify(c)).join(",")}`,fe.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),o})}function Hee(n,e){return function(...t){return Rv(n,e,t)}}function Wee(n,e){const t=n.signer||n.provider;return function(...r){return Bu(this,void 0,void 0,function*(){t||Yn.throwError("estimate require a provider or signer",fe.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield Rv(n,e,r);return yield t.estimateGas(i)})}}function Gee(n,e){const t=e.wait.bind(e);e.wait=r=>t(r).then(i=>(i.events=i.logs.map(s=>{let o=hs(s),a=null;try{a=n.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(l,c)=>n.interface.decodeEventLog(a.eventFragment,l,c),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>n.provider,o.getBlock=()=>n.provider.getBlock(i.blockHash),o.getTransaction=()=>n.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function iN(n,e,t){const r=n.signer||n.provider;return function(...i){return Bu(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const l=bn(i.pop());l.blockTag!=null&&(s=yield l.blockTag),delete l.blockTag,i.push(l)}n.deployTransaction!=null&&(yield n._deployed(s));const o=yield Rv(n,e,i),a=yield r.call(o,s);try{let l=n.interface.decodeFunctionResult(e,a);return t&&e.outputs.length===1&&(l=l[0]),l}catch(l){throw l.code===fe.errors.CALL_EXCEPTION&&(l.address=n.address,l.args=i,l.transaction=o),l}})}}function jee(n,e){return function(...t){return Bu(this,void 0,void 0,function*(){n.signer||Yn.throwError("sending a transaction requires a signer",fe.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),n.deployTransaction!=null&&(yield n._deployed());const r=yield Rv(n,e,t),i=yield n.signer.sendTransaction(r);return Gee(n,i),i})}}function ZT(n,e,t){return e.constant?iN(n,e,t):jee(n,e)}function sN(n){return n.address&&(n.topics==null||n.topics.length===0)?"*":(n.address||"*")+"@"+(n.topics?n.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class Kp{constructor(e,t){ke(this,"tag",e),ke(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(r=>t||r.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(r=>{const i=e.slice();return setTimeout(()=>{r.listener.apply(this,i)},0),!r.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class qee extends Kp{constructor(){super("error",null)}}class eP extends Kp{constructor(e,t,r,i){const s={address:e};let o=t.getEventTopic(r);i?(o!==i[0]&&Yn.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(sN(s),s),ke(this,"address",e),ke(this,"interface",t),ke(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,r)=>this.interface.decodeEventLog(this.fragment,t,r);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=rL(e.args);if(t.length)throw t[0].error;const r=(e.args||[]).slice();return r.push(e),r}}class tP extends Kp{constructor(e,t){super("*",{address:e}),ke(this,"address",e),ke(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(r,i)=>this.interface.decodeEventLog(t.eventFragment,r,i),e.args=t.args}catch{}}}class Xee{constructor(e,t,r){ke(this,"interface",xo(new.target,"getInterface")(t)),r==null?(ke(this,"provider",null),ke(this,"signer",null)):fd.isSigner(r)?(ke(this,"provider",r.provider||null),ke(this,"signer",r)):ud.isProvider(r)?(ke(this,"provider",r),ke(this,"signer",null)):Yn.throwArgumentError("invalid signer or provider","signerOrProvider",r),ke(this,"callStatic",{}),ke(this,"estimateGas",{}),ke(this,"functions",{}),ke(this,"populateTransaction",{}),ke(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const l=this.interface.events[a];ke(this.filters,a,(...c)=>({address:this.address,topics:this.interface.encodeFilterTopics(l,c)})),o[l.name]||(o[l.name]=[]),o[l.name].push(a)}),Object.keys(o).forEach(a=>{const l=o[a];l.length===1?ke(this.filters,a,this.filters[l[0]]):Yn.warn(`Duplicate definition of ${a} (${l.join(", ")})`)})}if(ke(this,"_runningEvents",{}),ke(this,"_wrappedEmits",{}),e==null&&Yn.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ke(this,"address",e),this.provider)ke(this,"resolvedAddress",Ey(this.provider,e));else try{ke(this,"resolvedAddress",Promise.resolve(rn(e)))}catch{Yn.throwError("provider is required to use ENS name as contract address",fe.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){Yn.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const l=a.name;i[`%${l}`]||(i[`%${l}`]=[]),i[`%${l}`].push(o)}this[o]==null&&ke(this,o,ZT(this,a,!0)),this.functions[o]==null&&ke(this.functions,o,ZT(this,a,!1)),this.callStatic[o]==null&&ke(this.callStatic,o,iN(this,a,!0)),this.populateTransaction[o]==null&&ke(this.populateTransaction,o,Hee(this,a)),this.estimateGas[o]==null&&ke(this.estimateGas,o,Wee(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const l=a[0];try{this[o]==null&&ke(this,o,this[l])}catch{}this.functions[o]==null&&ke(this.functions,o,this.functions[l]),this.callStatic[o]==null&&ke(this.callStatic,o,this.callStatic[l]),this.populateTransaction[o]==null&&ke(this.populateTransaction,o,this.populateTransaction[l]),this.estimateGas[o]==null&&ke(this.estimateGas,o,this.estimateGas[l])})}static getContractAddress(e){return WE(e)}static getInterface(e){return oS.isInterface(e)?e:new oS(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&Yn.throwError("contract not deployed",fe.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||Yn.throwError("sending a transactions require a signer",fe.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=bn(e||{});return["from","to"].forEach(function(r){t[r]!=null&&Yn.throwError("cannot override "+r,fe.errors.UNSUPPORTED_OPERATION,{operation:r})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new YE(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ke(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return wy.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new qee);if(e==="event")return this._normalizeRunningEvent(new Kp("event",null));if(e==="*")return this._normalizeRunningEvent(new tP(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new eP(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const r=e.topics[0];if(typeof r!="string")throw new Error("invalid topic");const i=this.interface.getEvent(r);return this._normalizeRunningEvent(new eP(this.address,this.interface,i,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Kp(sN(t),t))}return this._normalizeRunningEvent(new tP(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,r){const i=hs(t);return i.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(t.blockHash),i.getTransaction=()=>this.provider.getTransaction(t.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(i),i}_addEventListener(e,t,r){if(this.provider||Yn.throwError("events require a provider or a signer with a provider",fe.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,t);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,t,r){const i=this._getRunningEvent(e),s=bn(i.filter);return typeof t=="string"&&kt(t,32)?(r!=null&&Yn.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),s.blockHash=t):(s.fromBlock=t??0,s.toBlock=r??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const r=this._getRunningEvent(e),i=r.run(t)>0;return this._checkRunningEvents(r),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,r)=>t+this._runningEvents[r].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let r in this._runningEvents)this._runningEvents[r].listeners().forEach(i=>{t.push(i)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const r in this._runningEvents){const i=this._runningEvents[r];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}removeListener(e,t){return this.off(e,t)}}class Kee extends Xee{}class nA{constructor(e){ke(this,"alphabet",e),ke(this,"base",e.length),ke(this,"_alphabetMap",{}),ke(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=Fe(e);if(t.length===0)return"";let r=[0];for(let s=0;s<t.length;++s){let o=t[s];for(let a=0;a<r.length;++a)o+=r[a]<<8,r[a]=o%this.base,o=o/this.base|0;for(;o>0;)r.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;t[s]===0&&s<t.length-1;++s)i+=this._leader;for(let s=r.length-1;s>=0;--s)i+=this.alphabet[r[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let i=this._alphabetMap[e[r]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<t.length;++o)s+=t[o]*this.base,t[o]=s&255,s>>=8;for(;s>0;)t.push(s&255),s>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)t.push(0);return Fe(new Uint8Array(t.reverse()))}}const $ee=new nA("abcdefghijklmnopqrstuvwxyz234567"),Yh=new nA("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Yee=Object.freeze(Object.defineProperty({__proto__:null,Base32:$ee,Base58:Yh,BaseX:nA},Symbol.toStringTag,{value:"Module"}));var Jh;(function(n){n.sha256="sha256",n.sha512="sha512"})(Jh||(Jh={}));const Jee="sha2/5.7.0",Qee=new fe(Jee);function oN(n){return"0x"+xi.ripemd160().update(Fe(n)).digest("hex")}function el(n){return"0x"+xi.sha256().update(Fe(n)).digest("hex")}function Zee(n){return"0x"+xi.sha512().update(Fe(n)).digest("hex")}function $p(n,e,t){return Jh[n]||Qee.throwError("unsupported algorithm "+n,fe.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:n}),"0x"+xi.hmac(xi[n],Fe(e)).update(Fe(t)).digest("hex")}const ete=Object.freeze(Object.defineProperty({__proto__:null,get SupportedAlgorithm(){return Jh},computeHmac:$p,ripemd160:oN,sha256:el,sha512:Zee},Symbol.toStringTag,{value:"Module"}));function rA(n,e,t,r,i){n=Fe(n),e=Fe(e);let s,o=1;const a=new Uint8Array(r),l=new Uint8Array(e.length+4);l.set(e);let c,u;for(let h=1;h<=o;h++){l[e.length]=h>>24&255,l[e.length+1]=h>>16&255,l[e.length+2]=h>>8&255,l[e.length+3]=h&255;let p=Fe($p(i,n,l));s||(s=p.length,u=new Uint8Array(s),o=Math.ceil(r/s),c=r-(o-1)*s),u.set(p);for(let g=1;g<t;g++){p=Fe($p(i,n,p));for(let x=0;x<s;x++)u[x]^=p[x]}const m=(h-1)*s,y=h===o?c:s;a.set(Fe(u).slice(0,y),m)}return Ge(a)}const tte="wordlists/5.7.0",nte=new fe(tte);class Rm{constructor(e){nte.checkAbstract(new.target,Rm),ke(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let r=0;r<2048;r++){const i=e.getWord(r);if(r!==e.getWordIndex(i))return"0x";t.push(i)}return Ol(t.join(`
`)+`
`)}static register(e,t){t||(t=e.locale)}}const rte="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let X0=null;function nP(n){if(X0==null&&(X0=rte.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Rm.check(n)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw X0=null,new Error("BIP39 Wordlist for en (English) FAILED")}class ite extends Rm{constructor(){super("en")}getWord(e){return nP(this),X0[e]}getWordIndex(e){return nP(this),X0.indexOf(e)}}const aN=new ite;Rm.register(aN);const rP={en:aN},ste="hdnode/5.7.0",Yp=new fe(ste),ote=Ve.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ate=ir("Bitcoin seed"),Vf=2147483648;function lN(n){return(1<<n)-1<<8-n}function lte(n){return(1<<n)-1}function Bx(n){return dn(Ge(n),32)}function iP(n){return Yh.encode(yn([n,er(el(el(n)),0,4)]))}function iA(n){if(n==null)return rP.en;if(typeof n=="string"){const e=rP[n];return e==null&&Yp.throwArgumentError("unknown locale","wordlist",n),e}return n}const Lf={},Qh="m/44'/60'/0'/0/0";class ss{constructor(e,t,r,i,s,o,a,l){if(e!==Lf)throw new Error("HDNode constructor cannot be called directly");if(t){const c=new bu(t);ke(this,"privateKey",c.privateKey),ke(this,"publicKey",c.compressedPublicKey)}else ke(this,"privateKey",null),ke(this,"publicKey",Ge(r));ke(this,"parentFingerprint",i),ke(this,"fingerprint",er(oN(el(this.publicKey)),0,4)),ke(this,"address",$l(this.publicKey)),ke(this,"chainCode",s),ke(this,"index",o),ke(this,"depth",a),l==null?(ke(this,"mnemonic",null),ke(this,"path",null)):typeof l=="string"?(ke(this,"mnemonic",null),ke(this,"path",l)):(ke(this,"mnemonic",l),ke(this,"path",l.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return iP(yn([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",Ge(this.depth),this.parentFingerprint,dn(Ge(this.index),4),this.chainCode,this.privateKey!=null?yn(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new ss(Lf,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~Vf));const r=new Uint8Array(37);if(e&Vf){if(!this.privateKey)throw new Error("cannot derive child of neutered node");r.set(Fe(this.privateKey),1),t&&(t+="'")}else r.set(Fe(this.publicKey));for(let h=24;h>=0;h-=8)r[33+(h>>3)]=e>>24-h&255;const i=Fe($p(Jh.sha512,this.chainCode,r)),s=i.slice(0,32),o=i.slice(32);let a=null,l=null;this.privateKey?a=Bx(Ve.from(s).add(this.privateKey).mod(ote)):l=new bu(Ge(s))._addPoint(this.publicKey);let c=t;const u=this.mnemonic;return u&&(c=Object.freeze({phrase:u.phrase,path:t,locale:u.locale||"en"})),new ss(Lf,a,l,this.fingerprint,Bx(o),e,this.depth+1,c)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);t[0]==="m"&&t.shift();let r=this;for(let i=0;i<t.length;i++){const s=t[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));if(o>=Vf)throw new Error("invalid path index - "+s);r=r._derive(Vf+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);if(o>=Vf)throw new Error("invalid path index - "+s);r=r._derive(o)}else throw new Error("invalid path component - "+s)}return r}static _fromSeed(e,t){const r=Fe(e);if(r.length<16||r.length>64)throw new Error("invalid seed");const i=Fe($p(Jh.sha512,ate,r));return new ss(Lf,Bx(i.slice(0,32)),null,"0x00000000",Bx(i.slice(32)),0,0,t)}static fromMnemonic(e,t,r){return r=iA(r),e=kv(Iv(e,r),r),ss._fromSeed(cN(e,t),{phrase:e,path:"m",locale:r.locale})}static fromSeed(e){return ss._fromSeed(e,null)}static fromExtendedKey(e){const t=Yh.decode(e);(t.length!==82||iP(t.slice(0,78))!==e)&&Yp.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const r=t[4],i=Ge(t.slice(5,9)),s=parseInt(Ge(t.slice(9,13)).substring(2),16),o=Ge(t.slice(13,45)),a=t.slice(45,78);switch(Ge(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new ss(Lf,null,Ge(a),i,o,s,r,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new ss(Lf,Ge(a.slice(1)),null,i,o,s,r,null)}return Yp.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function cN(n,e){e||(e="");const t=ir("mnemonic"+e,oa.NFKD);return rA(ir(n,oa.NFKD),t,2048,64,"sha512")}function Iv(n,e){e=iA(e),Yp.checkNormalize();const t=e.split(n);if(t.length%3!==0)throw new Error("invalid mnemonic");const r=Fe(new Uint8Array(Math.ceil(11*t.length/8)));let i=0;for(let c=0;c<t.length;c++){let u=e.getWordIndex(t[c].normalize("NFKD"));if(u===-1)throw new Error("invalid mnemonic");for(let h=0;h<11;h++)u&1<<10-h&&(r[i>>3]|=1<<7-i%8),i++}const s=32*t.length/3,o=t.length/3,a=lN(o);if((Fe(el(r.slice(0,s/8)))[0]&a)!==(r[r.length-1]&a))throw new Error("invalid checksum");return Ge(r.slice(0,s/8))}function kv(n,e){if(e=iA(e),n=Fe(n),n.length%4!==0||n.length<16||n.length>32)throw new Error("invalid entropy");const t=[0];let r=11;for(let o=0;o<n.length;o++)r>8?(t[t.length-1]<<=8,t[t.length-1]|=n[o],r-=8):(t[t.length-1]<<=r,t[t.length-1]|=n[o]>>8-r,t.push(n[o]&lte(8-r)),r+=3);const i=n.length/4,s=Fe(el(n))[0]&lN(i);return t[t.length-1]<<=i,t[t.length-1]|=s>>8-i,e.join(t.map(o=>e.getWord(o)))}function cte(n,e){try{return Iv(n,e),!0}catch{}return!1}function ute(n){return(typeof n!="number"||n<0||n>=Vf||n%1)&&Yp.throwArgumentError("invalid account index","index",n),`m/44'/60'/${n}'/0/0`}const fte=Object.freeze(Object.defineProperty({__proto__:null,HDNode:ss,defaultPath:Qh,entropyToMnemonic:kv,getAccountPath:ute,isValidMnemonic:cte,mnemonicToEntropy:Iv,mnemonicToSeed:cN},Symbol.toStringTag,{value:"Module"})),hte="random/5.7.0",pS=new fe(hte);function dte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const sP=dte();let w1=sP.crypto||sP.msCrypto;(!w1||!w1.getRandomValues)&&(pS.warn("WARNING: Missing strong random number source"),w1={getRandomValues:function(n){return pS.throwError("no secure random source avaialble",fe.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function uh(n){(n<=0||n>1024||n%1||n!=n)&&pS.throwArgumentError("invalid length","length",n);const e=new Uint8Array(n);return w1.getRandomValues(e),Fe(e)}function uN(n){n=n.slice();for(let e=n.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1)),r=n[e];n[e]=n[t],n[t]=r}return n}const pte=Object.freeze(Object.defineProperty({__proto__:null,randomBytes:uh,shuffled:uN},Symbol.toStringTag,{value:"Module"}));var mS={},mte={get exports(){return mS},set exports(n){mS=n}};(function(n,e){(function(t){function r(P){return parseInt(P)===P}function i(P){if(!r(P.length))return!1;for(var M=0;M<P.length;M++)if(!r(P[M])||P[M]<0||P[M]>255)return!1;return!0}function s(P,M){if(P.buffer&&ArrayBuffer.isView(P)&&P.name==="Uint8Array")return M&&(P.slice?P=P.slice():P=Array.prototype.slice.call(P)),P;if(Array.isArray(P)){if(!i(P))throw new Error("Array contains invalid value: "+P);return new Uint8Array(P)}if(r(P.length)&&i(P))return new Uint8Array(P);throw new Error("unsupported array-like object")}function o(P){return new Uint8Array(P)}function a(P,M,W,Z,N){(Z!=null||N!=null)&&(P.slice?P=P.slice(Z,N):P=Array.prototype.slice.call(P,Z,N)),M.set(P,W)}var l=function(){function P(W){var Z=[],N=0;for(W=encodeURI(W);N<W.length;){var J=W.charCodeAt(N++);J===37?(Z.push(parseInt(W.substr(N,2),16)),N+=2):Z.push(J)}return s(Z)}function M(W){for(var Z=[],N=0;N<W.length;){var J=W[N];J<128?(Z.push(String.fromCharCode(J)),N++):J>191&&J<224?(Z.push(String.fromCharCode((J&31)<<6|W[N+1]&63)),N+=2):(Z.push(String.fromCharCode((J&15)<<12|(W[N+1]&63)<<6|W[N+2]&63)),N+=3)}return Z.join("")}return{toBytes:P,fromBytes:M}}(),c=function(){function P(Z){for(var N=[],J=0;J<Z.length;J+=2)N.push(parseInt(Z.substr(J,2),16));return N}var M="0123456789abcdef";function W(Z){for(var N=[],J=0;J<Z.length;J++){var ue=Z[J];N.push(M[(ue&240)>>4]+M[ue&15])}return N.join("")}return{toBytes:P,fromBytes:W}}(),u={16:10,24:12,32:14},h=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],p=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],m=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],y=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],g=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],x=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],v=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],b=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],w=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],A=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],T=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],D=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],O=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],C=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],B=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function G(P){for(var M=[],W=0;W<P.length;W+=4)M.push(P[W]<<24|P[W+1]<<16|P[W+2]<<8|P[W+3]);return M}var Y=function(P){if(!(this instanceof Y))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:s(P,!0)}),this._prepare()};Y.prototype._prepare=function(){var P=u[this.key.length];if(P==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var M=0;M<=P;M++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var W=(P+1)*4,Z=this.key.length/4,N=G(this.key),J,M=0;M<Z;M++)J=M>>2,this._Ke[J][M%4]=N[M],this._Kd[P-J][M%4]=N[M];for(var ue=0,ae=Z,me;ae<W;){if(me=N[Z-1],N[0]^=p[me>>16&255]<<24^p[me>>8&255]<<16^p[me&255]<<8^p[me>>24&255]^h[ue]<<24,ue+=1,Z!=8)for(var M=1;M<Z;M++)N[M]^=N[M-1];else{for(var M=1;M<Z/2;M++)N[M]^=N[M-1];me=N[Z/2-1],N[Z/2]^=p[me&255]^p[me>>8&255]<<8^p[me>>16&255]<<16^p[me>>24&255]<<24;for(var M=Z/2+1;M<Z;M++)N[M]^=N[M-1]}for(var M=0,we,Ce;M<Z&&ae<W;)we=ae>>2,Ce=ae%4,this._Ke[we][Ce]=N[M],this._Kd[P-we][Ce]=N[M++],ae++}for(var we=1;we<P;we++)for(var Ce=0;Ce<4;Ce++)me=this._Kd[we][Ce],this._Kd[we][Ce]=D[me>>24&255]^O[me>>16&255]^C[me>>8&255]^B[me&255]},Y.prototype.encrypt=function(P){if(P.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var M=this._Ke.length-1,W=[0,0,0,0],Z=G(P),N=0;N<4;N++)Z[N]^=this._Ke[0][N];for(var J=1;J<M;J++){for(var N=0;N<4;N++)W[N]=y[Z[N]>>24&255]^g[Z[(N+1)%4]>>16&255]^x[Z[(N+2)%4]>>8&255]^v[Z[(N+3)%4]&255]^this._Ke[J][N];Z=W.slice()}for(var ue=o(16),ae,N=0;N<4;N++)ae=this._Ke[M][N],ue[4*N]=(p[Z[N]>>24&255]^ae>>24)&255,ue[4*N+1]=(p[Z[(N+1)%4]>>16&255]^ae>>16)&255,ue[4*N+2]=(p[Z[(N+2)%4]>>8&255]^ae>>8)&255,ue[4*N+3]=(p[Z[(N+3)%4]&255]^ae)&255;return ue},Y.prototype.decrypt=function(P){if(P.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var M=this._Kd.length-1,W=[0,0,0,0],Z=G(P),N=0;N<4;N++)Z[N]^=this._Kd[0][N];for(var J=1;J<M;J++){for(var N=0;N<4;N++)W[N]=b[Z[N]>>24&255]^w[Z[(N+3)%4]>>16&255]^A[Z[(N+2)%4]>>8&255]^T[Z[(N+1)%4]&255]^this._Kd[J][N];Z=W.slice()}for(var ue=o(16),ae,N=0;N<4;N++)ae=this._Kd[M][N],ue[4*N]=(m[Z[N]>>24&255]^ae>>24)&255,ue[4*N+1]=(m[Z[(N+3)%4]>>16&255]^ae>>16)&255,ue[4*N+2]=(m[Z[(N+2)%4]>>8&255]^ae>>8)&255,ue[4*N+3]=(m[Z[(N+1)%4]&255]^ae)&255;return ue};var oe=function(P){if(!(this instanceof oe))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new Y(P)};oe.prototype.encrypt=function(P){if(P=s(P),P.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var M=o(P.length),W=o(16),Z=0;Z<P.length;Z+=16)a(P,W,0,Z,Z+16),W=this._aes.encrypt(W),a(W,M,Z);return M},oe.prototype.decrypt=function(P){if(P=s(P),P.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var M=o(P.length),W=o(16),Z=0;Z<P.length;Z+=16)a(P,W,0,Z,Z+16),W=this._aes.decrypt(W),a(W,M,Z);return M};var V=function(P,M){if(!(this instanceof V))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!M)M=o(16);else if(M.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=s(M,!0),this._aes=new Y(P)};V.prototype.encrypt=function(P){if(P=s(P),P.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var M=o(P.length),W=o(16),Z=0;Z<P.length;Z+=16){a(P,W,0,Z,Z+16);for(var N=0;N<16;N++)W[N]^=this._lastCipherblock[N];this._lastCipherblock=this._aes.encrypt(W),a(this._lastCipherblock,M,Z)}return M},V.prototype.decrypt=function(P){if(P=s(P),P.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var M=o(P.length),W=o(16),Z=0;Z<P.length;Z+=16){a(P,W,0,Z,Z+16),W=this._aes.decrypt(W);for(var N=0;N<16;N++)M[Z+N]=W[N]^this._lastCipherblock[N];a(P,this._lastCipherblock,0,Z,Z+16)}return M};var S=function(P,M,W){if(!(this instanceof S))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!M)M=o(16);else if(M.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");W||(W=1),this.segmentSize=W,this._shiftRegister=s(M,!0),this._aes=new Y(P)};S.prototype.encrypt=function(P){if(P.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var M=s(P,!0),W,Z=0;Z<M.length;Z+=this.segmentSize){W=this._aes.encrypt(this._shiftRegister);for(var N=0;N<this.segmentSize;N++)M[Z+N]^=W[N];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(M,this._shiftRegister,16-this.segmentSize,Z,Z+this.segmentSize)}return M},S.prototype.decrypt=function(P){if(P.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var M=s(P,!0),W,Z=0;Z<M.length;Z+=this.segmentSize){W=this._aes.encrypt(this._shiftRegister);for(var N=0;N<this.segmentSize;N++)M[Z+N]^=W[N];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(P,this._shiftRegister,16-this.segmentSize,Z,Z+this.segmentSize)}return M};var L=function(P,M){if(!(this instanceof L))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!M)M=o(16);else if(M.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=s(M,!0),this._lastPrecipherIndex=16,this._aes=new Y(P)};L.prototype.encrypt=function(P){for(var M=s(P,!0),W=0;W<M.length;W++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),M[W]^=this._lastPrecipher[this._lastPrecipherIndex++];return M},L.prototype.decrypt=L.prototype.encrypt;var z=function(P){if(!(this instanceof z))throw Error("Counter must be instanitated with `new`");P!==0&&!P&&(P=1),typeof P=="number"?(this._counter=o(16),this.setValue(P)):this.setBytes(P)};z.prototype.setValue=function(P){if(typeof P!="number"||parseInt(P)!=P)throw new Error("invalid counter value (must be an integer)");for(var M=15;M>=0;--M)this._counter[M]=P%256,P=P>>8},z.prototype.setBytes=function(P){if(P=s(P,!0),P.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=P},z.prototype.increment=function(){for(var P=15;P>=0;P--)if(this._counter[P]===255)this._counter[P]=0;else{this._counter[P]++;break}};var q=function(P,M){if(!(this instanceof q))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",M instanceof z||(M=new z(M)),this._counter=M,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new Y(P)};q.prototype.encrypt=function(P){for(var M=s(P,!0),W=0;W<M.length;W++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),M[W]^=this._remainingCounter[this._remainingCounterIndex++];return M},q.prototype.decrypt=q.prototype.encrypt;function F(P){P=s(P,!0);var M=16-P.length%16,W=o(P.length+M);a(P,W);for(var Z=P.length;Z<W.length;Z++)W[Z]=M;return W}function X(P){if(P=s(P,!0),P.length<16)throw new Error("PKCS#7 invalid length");var M=P[P.length-1];if(M>16)throw new Error("PKCS#7 padding byte out of range");for(var W=P.length-M,Z=0;Z<M;Z++)if(P[W+Z]!==M)throw new Error("PKCS#7 invalid padding byte");var N=o(W);return a(P,N,0,0,W),N}var $={AES:Y,Counter:z,ModeOfOperation:{ecb:oe,cbc:V,cfb:S,ofb:L,ctr:q},utils:{hex:c,utf8:l},padding:{pkcs7:{pad:F,strip:X}},_arrayTest:{coerceArray:s,createArray:o,copyArray:a}};n.exports=$})()})(mte);const Ko=mS,fN="json-wallets/5.7.0";function wu(n){return typeof n=="string"&&n.substring(0,2)!=="0x"&&(n="0x"+n),Fe(n)}function a0(n,e){for(n=String(n);n.length<e;)n="0"+n;return n}function sA(n){return typeof n=="string"?ir(n,oa.NFKC):Fe(n)}function Jn(n,e){let t=n;const r=e.toLowerCase().split("/");for(let i=0;i<r.length;i++){let s=null;for(const o in t)if(o.toLowerCase()===r[i]){s=t[o];break}if(s===null)return null;t=s}return t}function gte(n){const e=Fe(n);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=Ge(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const xte=new fe(fN);class yte extends mc{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function oA(n,e){const t=JSON.parse(n);e=sA(e);const r=rn(Jn(t,"ethaddr")),i=wu(Jn(t,"encseed"));(!i||i.length%16!==0)&&xte.throwArgumentError("invalid encseed","json",n);const s=Fe(rA(e,e,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),a=i.slice(16),l=new Ko.ModeOfOperation.cbc(s,o),c=Ko.padding.pkcs7.strip(Fe(l.decrypt(a)));let u="";for(let m=0;m<c.length;m++)u+=String.fromCharCode(c[m]);const h=ir(u),p=an(h);return new yte({_isCrowdsaleAccount:!0,address:r,privateKey:p})}function Lv(n){let e=null;try{e=JSON.parse(n)}catch{return!1}return e.encseed&&e.ethaddr}function Nv(n){let e=null;try{e=JSON.parse(n)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function vte(n){if(Lv(n))try{return rn(JSON.parse(n).ethaddr)}catch{return null}if(Nv(n))try{return rn(JSON.parse(n).address)}catch{return null}return null}var gS={},_te={get exports(){return gS},set exports(n){gS=n}};(function(n,e){(function(t){function i(g){const x=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let v=1779033703,b=3144134277,w=1013904242,A=2773480762,T=1359893119,D=2600822924,O=528734635,C=1541459225;const B=new Uint32Array(64);function G(q){let F=0,X=q.length;for(;X>=64;){let $=v,P=b,M=w,W=A,Z=T,N=D,J=O,ue=C,ae,me,we,Ce,ce;for(me=0;me<16;me++)we=F+me*4,B[me]=(q[we]&255)<<24|(q[we+1]&255)<<16|(q[we+2]&255)<<8|q[we+3]&255;for(me=16;me<64;me++)ae=B[me-2],Ce=(ae>>>17|ae<<32-17)^(ae>>>19|ae<<32-19)^ae>>>10,ae=B[me-15],ce=(ae>>>7|ae<<32-7)^(ae>>>18|ae<<32-18)^ae>>>3,B[me]=(Ce+B[me-7]|0)+(ce+B[me-16]|0)|0;for(me=0;me<64;me++)Ce=(((Z>>>6|Z<<32-6)^(Z>>>11|Z<<32-11)^(Z>>>25|Z<<32-25))+(Z&N^~Z&J)|0)+(ue+(x[me]+B[me]|0)|0)|0,ce=(($>>>2|$<<32-2)^($>>>13|$<<32-13)^($>>>22|$<<32-22))+($&P^$&M^P&M)|0,ue=J,J=N,N=Z,Z=W+Ce|0,W=M,M=P,P=$,$=Ce+ce|0;v=v+$|0,b=b+P|0,w=w+M|0,A=A+W|0,T=T+Z|0,D=D+N|0,O=O+J|0,C=C+ue|0,F+=64,X-=64}}G(g);let Y,oe=g.length%64,V=g.length/536870912|0,S=g.length<<3,L=oe<56?56:120,z=g.slice(g.length-oe,g.length);for(z.push(128),Y=oe+1;Y<L;Y++)z.push(0);return z.push(V>>>24&255),z.push(V>>>16&255),z.push(V>>>8&255),z.push(V>>>0&255),z.push(S>>>24&255),z.push(S>>>16&255),z.push(S>>>8&255),z.push(S>>>0&255),G(z),[v>>>24&255,v>>>16&255,v>>>8&255,v>>>0&255,b>>>24&255,b>>>16&255,b>>>8&255,b>>>0&255,w>>>24&255,w>>>16&255,w>>>8&255,w>>>0&255,A>>>24&255,A>>>16&255,A>>>8&255,A>>>0&255,T>>>24&255,T>>>16&255,T>>>8&255,T>>>0&255,D>>>24&255,D>>>16&255,D>>>8&255,D>>>0&255,O>>>24&255,O>>>16&255,O>>>8&255,O>>>0&255,C>>>24&255,C>>>16&255,C>>>8&255,C>>>0&255]}function s(g,x,v){g=g.length<=64?g:i(g);const b=64+x.length+4,w=new Array(b),A=new Array(64);let T,D=[];for(T=0;T<64;T++)w[T]=54;for(T=0;T<g.length;T++)w[T]^=g[T];for(T=0;T<x.length;T++)w[64+T]=x[T];for(T=b-4;T<b;T++)w[T]=0;for(T=0;T<64;T++)A[T]=92;for(T=0;T<g.length;T++)A[T]^=g[T];function O(){for(let C=b-1;C>=b-4;C--){if(w[C]++,w[C]<=255)return;w[C]=0}}for(;v>=32;)O(),D=D.concat(i(A.concat(i(w)))),v-=32;return v>0&&(O(),D=D.concat(i(A.concat(i(w))).slice(0,v))),D}function o(g,x,v,b,w){let A;for(u(g,(2*v-1)*16,w,0,16),A=0;A<2*v;A++)c(g,A*16,w,16),l(w,b),u(w,0,g,x+A*16,16);for(A=0;A<v;A++)u(g,x+A*2*16,g,A*16,16);for(A=0;A<v;A++)u(g,x+(A*2+1)*16,g,(A+v)*16,16)}function a(g,x){return g<<x|g>>>32-x}function l(g,x){u(g,0,x,0,16);for(let v=8;v>0;v-=2)x[4]^=a(x[0]+x[12],7),x[8]^=a(x[4]+x[0],9),x[12]^=a(x[8]+x[4],13),x[0]^=a(x[12]+x[8],18),x[9]^=a(x[5]+x[1],7),x[13]^=a(x[9]+x[5],9),x[1]^=a(x[13]+x[9],13),x[5]^=a(x[1]+x[13],18),x[14]^=a(x[10]+x[6],7),x[2]^=a(x[14]+x[10],9),x[6]^=a(x[2]+x[14],13),x[10]^=a(x[6]+x[2],18),x[3]^=a(x[15]+x[11],7),x[7]^=a(x[3]+x[15],9),x[11]^=a(x[7]+x[3],13),x[15]^=a(x[11]+x[7],18),x[1]^=a(x[0]+x[3],7),x[2]^=a(x[1]+x[0],9),x[3]^=a(x[2]+x[1],13),x[0]^=a(x[3]+x[2],18),x[6]^=a(x[5]+x[4],7),x[7]^=a(x[6]+x[5],9),x[4]^=a(x[7]+x[6],13),x[5]^=a(x[4]+x[7],18),x[11]^=a(x[10]+x[9],7),x[8]^=a(x[11]+x[10],9),x[9]^=a(x[8]+x[11],13),x[10]^=a(x[9]+x[8],18),x[12]^=a(x[15]+x[14],7),x[13]^=a(x[12]+x[15],9),x[14]^=a(x[13]+x[12],13),x[15]^=a(x[14]+x[13],18);for(let v=0;v<16;++v)g[v]+=x[v]}function c(g,x,v,b){for(let w=0;w<b;w++)v[w]^=g[x+w]}function u(g,x,v,b,w){for(;w--;)v[b++]=g[x++]}function h(g){if(!g||typeof g.length!="number")return!1;for(let x=0;x<g.length;x++){const v=g[x];if(typeof v!="number"||v%1||v<0||v>=256)return!1}return!0}function p(g,x){if(typeof g!="number"||g%1)throw new Error("invalid "+x);return g}function m(g,x,v,b,w,A,T){if(v=p(v,"N"),b=p(b,"r"),w=p(w,"p"),A=p(A,"dkLen"),v===0||v&v-1)throw new Error("N must be power of 2");if(v>2147483647/128/b)throw new Error("N too large");if(b>2147483647/128/w)throw new Error("r too large");if(!h(g))throw new Error("password must be an array or buffer");if(g=Array.prototype.slice.call(g),!h(x))throw new Error("salt must be an array or buffer");x=Array.prototype.slice.call(x);let D=s(g,x,w*128*b);const O=new Uint32Array(w*32*b);for(let Z=0;Z<O.length;Z++){const N=Z*4;O[Z]=(D[N+3]&255)<<24|(D[N+2]&255)<<16|(D[N+1]&255)<<8|(D[N+0]&255)<<0}const C=new Uint32Array(64*b),B=new Uint32Array(32*b*v),G=32*b,Y=new Uint32Array(16),oe=new Uint32Array(16),V=w*v*2;let S=0,L=null,z=!1,q=0,F=0,X,$;const P=T?parseInt(1e3/b):4294967295,M=typeof setImmediate<"u"?setImmediate:setTimeout,W=function(){if(z)return T(new Error("cancelled"),S/V);let Z;switch(q){case 0:$=F*32*b,u(O,$,C,0,G),q=1,X=0;case 1:Z=v-X,Z>P&&(Z=P);for(let J=0;J<Z;J++)u(C,0,B,(X+J)*G,G),o(C,G,b,Y,oe);if(X+=Z,S+=Z,T){const J=parseInt(1e3*S/V);if(J!==L){if(z=T(null,S/V),z)break;L=J}}if(X<v)break;X=0,q=2;case 2:Z=v-X,Z>P&&(Z=P);for(let J=0;J<Z;J++){const ue=(2*b-1)*16,ae=C[ue]&v-1;c(B,ae*G,C,G),o(C,G,b,Y,oe)}if(X+=Z,S+=Z,T){const J=parseInt(1e3*S/V);if(J!==L){if(z=T(null,S/V),z)break;L=J}}if(X<v)break;if(u(C,0,O,$,G),F++,F<w){q=0;break}D=[];for(let J=0;J<O.length;J++)D.push(O[J]>>0&255),D.push(O[J]>>8&255),D.push(O[J]>>16&255),D.push(O[J]>>24&255);const N=s(g,D,A);return T&&T(null,1,N),N}T&&M(W)};if(!T)for(;;){const Z=W();if(Z!=null)return Z}W()}const y={scrypt:function(g,x,v,b,w,A,T){return new Promise(function(D,O){let C=0;T&&T(0),m(g,x,v,b,w,A,function(B,G,Y){if(B)O(B);else if(Y)T&&C!==1&&T(1),D(new Uint8Array(Y));else if(T&&G!==C)return C=G,T(G)})})},syncScrypt:function(g,x,v,b,w,A){return new Uint8Array(m(g,x,v,b,w,A))}};n.exports=y})()})(_te);const aA=gS;var bte=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const xS=new fe(fN);function oP(n){return n!=null&&n.mnemonic&&n.mnemonic.phrase}class wte extends mc{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function Ste(n,e,t){if(Jn(n,"crypto/cipher")==="aes-128-ctr"){const i=wu(Jn(n,"crypto/cipherparams/iv")),s=new Ko.Counter(i),o=new Ko.ModeOfOperation.ctr(e,s);return Fe(o.decrypt(t))}return null}function hN(n,e){const t=wu(Jn(n,"crypto/ciphertext"));if(Ge(an(yn([e.slice(16,32),t]))).substring(2)!==Jn(n,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=Ste(n,e.slice(0,16),t);i||xS.throwError("unsupported cipher",fe.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),o=$l(i);if(n.address){let l=n.address.toLowerCase();if(l.substring(0,2)!=="0x"&&(l="0x"+l),rn(l)!==o)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:o,privateKey:Ge(i)};if(Jn(n,"x-ethers/version")==="0.1"){const l=wu(Jn(n,"x-ethers/mnemonicCiphertext")),c=wu(Jn(n,"x-ethers/mnemonicCounter")),u=new Ko.Counter(c),h=new Ko.ModeOfOperation.ctr(s,u),p=Jn(n,"x-ethers/path")||Qh,m=Jn(n,"x-ethers/locale")||"en",y=Fe(h.decrypt(l));try{const g=kv(y,m),x=ss.fromMnemonic(g,null,m).derivePath(p);if(x.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=x.mnemonic}catch(g){if(g.code!==fe.errors.INVALID_ARGUMENT||g.argument!=="wordlist")throw g}}return new wte(a)}function dN(n,e,t,r,i){return Fe(rA(n,e,t,r,i))}function Mte(n,e,t,r,i){return Promise.resolve(dN(n,e,t,r,i))}function pN(n,e,t,r,i){const s=sA(e),o=Jn(n,"crypto/kdf");if(o&&typeof o=="string"){const a=function(l,c){return xS.throwArgumentError("invalid key-derivation function parameters",l,c)};if(o.toLowerCase()==="scrypt"){const l=wu(Jn(n,"crypto/kdfparams/salt")),c=parseInt(Jn(n,"crypto/kdfparams/n")),u=parseInt(Jn(n,"crypto/kdfparams/r")),h=parseInt(Jn(n,"crypto/kdfparams/p"));(!c||!u||!h)&&a("kdf",o),c&c-1&&a("N",c);const p=parseInt(Jn(n,"crypto/kdfparams/dklen"));return p!==32&&a("dklen",p),r(s,l,c,u,h,64,i)}else if(o.toLowerCase()==="pbkdf2"){const l=wu(Jn(n,"crypto/kdfparams/salt"));let c=null;const u=Jn(n,"crypto/kdfparams/prf");u==="hmac-sha256"?c="sha256":u==="hmac-sha512"?c="sha512":a("prf",u);const h=parseInt(Jn(n,"crypto/kdfparams/c")),p=parseInt(Jn(n,"crypto/kdfparams/dklen"));return p!==32&&a("dklen",p),t(s,l,h,p,c)}}return xS.throwArgumentError("unsupported key-derivation function","kdf",o)}function mN(n,e){const t=JSON.parse(n),r=pN(t,e,dN,aA.syncScrypt);return hN(t,r)}function gN(n,e,t){return bte(this,void 0,void 0,function*(){const r=JSON.parse(n),i=yield pN(r,e,Mte,aA.scrypt,t);return hN(r,i)})}function xN(n,e,t,r){try{if(rn(n.address)!==$l(n.privateKey))throw new Error("address/privateKey mismatch");if(oP(n)){const x=n.mnemonic;if(ss.fromMnemonic(x.phrase,null,x.locale).derivePath(x.path||Qh).privateKey!=n.privateKey)throw new Error("mnemonic mismatch")}}catch(x){return Promise.reject(x)}typeof t=="function"&&!r&&(r=t,t={}),t||(t={});const i=Fe(n.privateKey),s=sA(e);let o=null,a=null,l=null;if(oP(n)){const x=n.mnemonic;o=Fe(Iv(x.phrase,x.locale||"en")),a=x.path||Qh,l=x.locale||"en"}let c=t.client;c||(c="ethers.js");let u=null;t.salt?u=Fe(t.salt):u=uh(32);let h=null;if(t.iv){if(h=Fe(t.iv),h.length!==16)throw new Error("invalid iv")}else h=uh(16);let p=null;if(t.uuid){if(p=Fe(t.uuid),p.length!==16)throw new Error("invalid uuid")}else p=uh(16);let m=1<<17,y=8,g=1;return t.scrypt&&(t.scrypt.N&&(m=t.scrypt.N),t.scrypt.r&&(y=t.scrypt.r),t.scrypt.p&&(g=t.scrypt.p)),aA.scrypt(s,u,m,y,g,64,r).then(x=>{x=Fe(x);const v=x.slice(0,16),b=x.slice(16,32),w=x.slice(32,64),A=new Ko.Counter(h),T=new Ko.ModeOfOperation.ctr(v,A),D=Fe(T.encrypt(i)),O=an(yn([b,D])),C={address:n.address.substring(2).toLowerCase(),id:gte(p),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Ge(h).substring(2)},ciphertext:Ge(D).substring(2),kdf:"scrypt",kdfparams:{salt:Ge(u).substring(2),n:m,dklen:32,p:g,r:y},mac:O.substring(2)}};if(o){const B=uh(16),G=new Ko.Counter(B),Y=new Ko.ModeOfOperation.ctr(w,G),oe=Fe(Y.encrypt(o)),V=new Date,S=V.getUTCFullYear()+"-"+a0(V.getUTCMonth()+1,2)+"-"+a0(V.getUTCDate(),2)+"T"+a0(V.getUTCHours(),2)+"-"+a0(V.getUTCMinutes(),2)+"-"+a0(V.getUTCSeconds(),2)+".0Z";C["x-ethers"]={client:c,gethFilename:"UTC--"+S+"--"+C.address,mnemonicCounter:Ge(B).substring(2),mnemonicCiphertext:Ge(oe).substring(2),path:a,locale:l,version:"0.1"}}return JSON.stringify(C)})}function yN(n,e,t){if(Lv(n)){t&&t(0);const r=oA(n,e);return t&&t(1),Promise.resolve(r)}return Nv(n)?gN(n,e,t):Promise.reject(new Error("invalid JSON wallet"))}function vN(n,e){if(Lv(n))return oA(n,e);if(Nv(n))return mN(n,e);throw new Error("invalid JSON wallet")}const Ete=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:oA,decryptJsonWallet:yN,decryptJsonWalletSync:vN,decryptKeystore:gN,decryptKeystoreSync:mN,encryptKeystore:xN,getJsonWalletAddress:vte,isCrowdsaleWallet:Lv,isKeystoreWallet:Nv},Symbol.toStringTag,{value:"Module"})),Ate="wallet/5.7.0";var aP=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const Nf=new fe(Ate);function Cte(n){return n!=null&&kt(n.privateKey,32)&&n.address!=null}function Tte(n){const e=n.mnemonic;return e&&e.phrase}class Jc extends fd{constructor(e,t){if(super(),Cte(e)){const r=new bu(e.privateKey);if(ke(this,"_signingKey",()=>r),ke(this,"address",$l(this.publicKey)),this.address!==rn(e.address)&&Nf.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),Tte(e)){const i=e.mnemonic;ke(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||Qh,locale:i.locale||"en"}));const s=this.mnemonic,o=ss.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);$l(o.privateKey)!==this.address&&Nf.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ke(this,"_mnemonic",()=>null)}else{if(bu.isSigningKey(e))e.curve!=="secp256k1"&&Nf.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ke(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const r=new bu(e);ke(this,"_signingKey",()=>r)}ke(this,"_mnemonic",()=>null),ke(this,"address",$l(this.publicKey))}t&&!ud.isProvider(t)&&Nf.throwArgumentError("invalid provider","provider",t),ke(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new Jc(this,e)}signTransaction(e){return Hn(e).then(t=>{t.from!=null&&(rn(t.from)!==this.address&&Nf.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const r=this._signingKey().signDigest(an(dS(t)));return dS(t,r)})}signMessage(e){return aP(this,void 0,void 0,function*(){return nS(this._signingKey().signDigest($E(e)))})}_signTypedData(e,t,r){return aP(this,void 0,void 0,function*(){const i=yield Nr.resolveNames(e,t,r,s=>(this.provider==null&&Nf.throwError("cannot resolve ENS names without a provider",fe.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return nS(this._signingKey().signDigest(Nr.hash(i.domain,t,i.value)))})}encrypt(e,t,r){if(typeof t=="function"&&!r&&(r=t,t={}),r&&typeof r!="function")throw new Error("invalid callback");return t||(t={}),xN(this,e,t,r)}static createRandom(e){let t=uh(16);e||(e={}),e.extraEntropy&&(t=Fe(er(an(yn([t,e.extraEntropy])),0,16)));const r=kv(t,e.locale);return Jc.fromMnemonic(r,e.path,e.locale)}static fromEncryptedJson(e,t,r){return yN(e,t,r).then(i=>new Jc(i))}static fromEncryptedJsonSync(e,t){return new Jc(vN(e,t))}static fromMnemonic(e,t,r){return t||(t=Qh),new Jc(ss.fromMnemonic(e,null,r).derivePath(t))}}function Pte(n,e){return Pm($E(n),e)}function Rte(n,e,t,r){return Pm(Nr.hash(n,e,t),r)}const Ite=Object.freeze(Object.defineProperty({__proto__:null,Wallet:Jc,verifyMessage:Pte,verifyTypedData:Rte},Symbol.toStringTag,{value:"Module"})),kte="networks/5.7.1",lP=new fe(kte);function Lte(n){return n&&typeof n.renetwork=="function"}function La(n){const e=function(t,r){r==null&&(r={});const i=[];if(t.InfuraProvider&&r.infura!=="-")try{i.push(new t.InfuraProvider(n,r.infura))}catch{}if(t.EtherscanProvider&&r.etherscan!=="-")try{i.push(new t.EtherscanProvider(n,r.etherscan))}catch{}if(t.AlchemyProvider&&r.alchemy!=="-")try{i.push(new t.AlchemyProvider(n,r.alchemy))}catch{}if(t.PocketProvider&&r.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new t.PocketProvider(n,r.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(t.CloudflareProvider&&r.cloudflare!=="-")try{i.push(new t.CloudflareProvider(n))}catch{}if(t.AnkrProvider&&r.ankr!=="-")try{const s=["ropsten"],o=new t.AnkrProvider(n,r.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(i.length===0)return null;if(t.FallbackProvider){let s=1;return r.quorum!=null?s=r.quorum:n==="homestead"&&(s=2),new t.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(t){return La(t)},e}function Ay(n,e){const t=function(r,i){return r.JsonRpcProvider?new r.JsonRpcProvider(n,e):null};return t.renetwork=function(r){return Ay(n,r)},t}const cP={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:La("homestead")},uP={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:La("ropsten")},fP={chainId:63,name:"classicMordor",_defaultProvider:Ay("https://www.ethercluster.com/mordor","classicMordor")},Fx={unspecified:{chainId:0,name:"unspecified"},homestead:cP,mainnet:cP,morden:{chainId:2,name:"morden"},ropsten:uP,testnet:uP,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:La("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:La("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:La("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:La("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:Ay("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:fP,classicTestnet:fP,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Ay("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:La("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:La("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Nte(n){if(n==null)return null;if(typeof n=="number"){for(const r in Fx){const i=Fx[r];if(i.chainId===n)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:n,name:"unknown"}}if(typeof n=="string"){const r=Fx[n];return r==null?null:{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress,_defaultProvider:r._defaultProvider||null}}const e=Fx[n.name];if(!e)return typeof n.chainId!="number"&&lP.throwArgumentError("invalid network chainId","network",n),n;n.chainId!==0&&n.chainId!==e.chainId&&lP.throwArgumentError("network chainId mismatch","network",n);let t=n._defaultProvider||null;return t==null&&e._defaultProvider&&(Lte(e._defaultProvider)?t=e._defaultProvider.renetwork(n):t=e._defaultProvider),{name:n.name,chainId:e.chainId,ensAddress:n.ensAddress||e.ensAddress||null,_defaultProvider:t}}const Dte="web/5.7.1";var Ote=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};function Bte(n,e){return Ote(this,void 0,void 0,function*(){e==null&&(e={});const t={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(t.mode="cors",t.cache="no-cache",t.credentials="same-origin",t.redirect="follow",t.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(t.mode=o.mode),o.cache&&(t.cache=o.cache),o.credentials&&(t.credentials=o.credentials),o.redirect&&(t.redirect=o.redirect),o.referrer&&(t.referrer=o.referrer)}const r=yield fetch(n,t),i=yield r.arrayBuffer(),s={};return r.headers.forEach?r.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):r.headers.keys().forEach(o=>{s[o.toLowerCase()]=r.headers.get(o)}),{headers:s,statusCode:r.status,statusMessage:r.statusText,body:Fe(new Uint8Array(i))}})}var Fte=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const ao=new fe(Dte);function hP(n){return new Promise(e=>{setTimeout(e,n)})}function vl(n,e){if(n==null)return null;if(typeof n=="string")return n;if(Am(n)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return gc(n)}catch{}return Ge(n)}return n}function zte(n){return ir(n.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function _N(n,e,t){const r=typeof n=="object"&&n.throttleLimit!=null?n.throttleLimit:12;ao.assertArgument(r>0&&r%1===0,"invalid connection throttle limit","connection.throttleLimit",r);const i=typeof n=="object"?n.throttleCallback:null,s=typeof n=="object"&&typeof n.throttleSlotInterval=="number"?n.throttleSlotInterval:100;ao.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof n=="object"?!!n.errorPassThrough:!1,a={};let l=null;const c={method:"GET"};let u=!1,h=2*60*1e3;if(typeof n=="string")l=n;else if(typeof n=="object"){if((n==null||n.url==null)&&ao.throwArgumentError("missing URL","connection.url",n),l=n.url,typeof n.timeout=="number"&&n.timeout>0&&(h=n.timeout),n.headers)for(const v in n.headers)a[v.toLowerCase()]={key:v,value:String(n.headers[v])},["if-none-match","if-modified-since"].indexOf(v.toLowerCase())>=0&&(u=!0);if(c.allowGzip=!!n.allowGzip,n.user!=null&&n.password!=null){l.substring(0,6)!=="https:"&&n.allowInsecureAuthentication!==!0&&ao.throwError("basic authentication requires a secure https url",fe.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:n.user,password:"[REDACTED]"});const v=n.user+":"+n.password;a.authorization={key:"Authorization",value:"Basic "+KE(ir(v))}}n.skipFetchSetup!=null&&(c.skipFetchSetup=!!n.skipFetchSetup),n.fetchOptions!=null&&(c.fetchOptions=bn(n.fetchOptions))}const p=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),m=l?l.match(p):null;if(m)try{const v={statusCode:200,statusMessage:"OK",headers:{"content-type":m[1]||"text/plain"},body:m[2]?XE(m[3]):zte(m[3])};let b=v.body;return t&&(b=t(v.body,v)),Promise.resolve(b)}catch(v){ao.throwError("processing response error",fe.errors.SERVER_ERROR,{body:vl(m[1],m[2]),error:v,requestBody:null,requestMethod:"GET",url:l})}e&&(c.method="POST",c.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const y={};Object.keys(a).forEach(v=>{const b=a[v];y[b.key]=b.value}),c.headers=y;const g=function(){let v=null;return{promise:new Promise(function(A,T){h&&(v=setTimeout(()=>{v!=null&&(v=null,T(ao.makeError("timeout",fe.errors.TIMEOUT,{requestBody:vl(c.body,y["content-type"]),requestMethod:c.method,timeout:h,url:l})))},h))}),cancel:function(){v!=null&&(clearTimeout(v),v=null)}}}(),x=function(){return Fte(this,void 0,void 0,function*(){for(let v=0;v<r;v++){let b=null;try{if(b=yield Bte(l,c),v<r){if(b.statusCode===301||b.statusCode===302){const A=b.headers.location||"";if(c.method==="GET"&&A.match(/^https:/)){l=b.headers.location;continue}}else if(b.statusCode===429){let A=!0;if(i&&(A=yield i(v,l)),A){let T=0;const D=b.headers["retry-after"];typeof D=="string"&&D.match(/^[1-9][0-9]*$/)?T=parseInt(D)*1e3:T=s*parseInt(String(Math.random()*Math.pow(2,v))),yield hP(T);continue}}}}catch(A){b=A.response,b==null&&(g.cancel(),ao.throwError("missing response",fe.errors.SERVER_ERROR,{requestBody:vl(c.body,y["content-type"]),requestMethod:c.method,serverError:A,url:l}))}let w=b.body;if(u&&b.statusCode===304?w=null:!o&&(b.statusCode<200||b.statusCode>=300)&&(g.cancel(),ao.throwError("bad response",fe.errors.SERVER_ERROR,{status:b.statusCode,headers:b.headers,body:vl(w,b.headers?b.headers["content-type"]:null),requestBody:vl(c.body,y["content-type"]),requestMethod:c.method,url:l})),t)try{const A=yield t(w,b);return g.cancel(),A}catch(A){if(A.throttleRetry&&v<r){let T=!0;if(i&&(T=yield i(v,l)),T){const D=s*parseInt(String(Math.random()*Math.pow(2,v)));yield hP(D);continue}}g.cancel(),ao.throwError("processing response error",fe.errors.SERVER_ERROR,{body:vl(w,b.headers?b.headers["content-type"]:null),error:A,requestBody:vl(c.body,y["content-type"]),requestMethod:c.method,url:l})}return g.cancel(),w}return ao.throwError("failed response",fe.errors.SERVER_ERROR,{requestBody:vl(c.body,y["content-type"]),requestMethod:c.method,url:l})})}();return Promise.race([g.promise,x])}function Dv(n,e,t){let r=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(gc(s))}catch(l){ao.throwError("invalid JSON",fe.errors.SERVER_ERROR,{body:s,error:l})}return t&&(a=t(a,o)),a},i=null;if(e!=null){i=ir(e);const s=typeof n=="string"?{url:n}:bn(n);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=bn(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},n=s}return _N(n,i,r)}function cu(n,e){return e||(e={}),e=bn(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(t,r){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&r(new Error("timeout"))},e.timeout));const a=e.retryLimit;let l=0;function c(){return n().then(function(u){if(u!==void 0)o()&&t(u);else if(e.oncePoll)e.oncePoll.once("poll",c);else if(e.onceBlock)e.onceBlock.once("block",c);else if(!s){if(l++,l>a){o()&&r(new Error("retry limit reached"));return}let h=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));h<e.floor&&(h=e.floor),h>e.ceiling&&(h=e.ceiling),setTimeout(c,h)}return null},function(u){o()&&r(u)})}c()})}const Ute=Object.freeze(Object.defineProperty({__proto__:null,_fetchData:_N,fetchJson:Dv,poll:cu},Symbol.toStringTag,{value:"Module"}));var Cy="qpzry9x8gf2tvdw0s3jn54khce6mua7l",yS={};for(var zx=0;zx<Cy.length;zx++){var Iw=Cy.charAt(zx);if(yS[Iw]!==void 0)throw new TypeError(Iw+" is ambiguous");yS[Iw]=zx}function Ah(n){var e=n>>25;return(n&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function bN(n){for(var e=1,t=0;t<n.length;++t){var r=n.charCodeAt(t);if(r<33||r>126)return"Invalid prefix ("+n+")";e=Ah(e)^r>>5}for(e=Ah(e),t=0;t<n.length;++t){var i=n.charCodeAt(t);e=Ah(e)^i&31}return e}function Vte(n,e,t){if(t=t||90,n.length+7+e.length>t)throw new TypeError("Exceeds length limit");n=n.toLowerCase();var r=bN(n);if(typeof r=="string")throw new Error(r);for(var i=n+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");r=Ah(r)^o,i+=Cy.charAt(o)}for(s=0;s<6;++s)r=Ah(r);for(r^=1,s=0;s<6;++s){var a=r>>(5-s)*5&31;i+=Cy.charAt(a)}return i}function wN(n,e){if(e=e||90,n.length<8)return n+" too short";if(n.length>e)return"Exceeds length limit";var t=n.toLowerCase(),r=n.toUpperCase();if(n!==t&&n!==r)return"Mixed-case string "+n;n=t;var i=n.lastIndexOf("1");if(i===-1)return"No separator character for "+n;if(i===0)return"Missing prefix for "+n;var s=n.slice(0,i),o=n.slice(i+1);if(o.length<6)return"Data too short";var a=bN(s);if(typeof a=="string")return a;for(var l=[],c=0;c<o.length;++c){var u=o.charAt(c),h=yS[u];if(h===void 0)return"Unknown character "+u;a=Ah(a)^h,!(c+6>=o.length)&&l.push(h)}return a!==1?"Invalid checksum for "+n:{prefix:s,words:l}}function Hte(){var n=wN.apply(null,arguments);if(typeof n=="object")return n}function Wte(n){var e=wN.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function Ov(n,e,t,r){for(var i=0,s=0,o=(1<<t)-1,a=[],l=0;l<n.length;++l)for(i=i<<e|n[l],s+=e;s>=t;)s-=t,a.push(i>>s&o);if(r)s>0&&a.push(i<<t-s&o);else{if(s>=e)return"Excess padding";if(i<<t-s&o)return"Non-zero padding"}return a}function Gte(n){var e=Ov(n,8,5,!0);if(Array.isArray(e))return e}function jte(n){var e=Ov(n,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function qte(n){var e=Ov(n,5,8,!1);if(Array.isArray(e))return e}function Xte(n){var e=Ov(n,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var dP={decodeUnsafe:Hte,decode:Wte,encode:Vte,toWordsUnsafe:Gte,toWords:jte,fromWordsUnsafe:qte,fromWords:Xte};const yc="providers/5.7.2",l0=new fe(yc);class ct{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),r=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),l=this.number.bind(this),c=this.type.bind(this),u=h=>this.data(h,!0);return e.transaction={hash:o,type:c,accessList:ct.allowNull(this.accessList.bind(this),null),blockHash:ct.allowNull(o,null),blockNumber:ct.allowNull(l,null),transactionIndex:ct.allowNull(l,null),confirmations:ct.allowNull(l,null),from:t,gasPrice:ct.allowNull(r),maxPriorityFeePerGas:ct.allowNull(r),maxFeePerGas:ct.allowNull(r),gasLimit:r,to:ct.allowNull(t,null),value:r,nonce:l,data:s,r:ct.allowNull(this.uint256),s:ct.allowNull(this.uint256),v:ct.allowNull(l),creates:ct.allowNull(t,null),raw:ct.allowNull(s)},e.transactionRequest={from:ct.allowNull(t),nonce:ct.allowNull(l),gasLimit:ct.allowNull(r),gasPrice:ct.allowNull(r),maxPriorityFeePerGas:ct.allowNull(r),maxFeePerGas:ct.allowNull(r),to:ct.allowNull(t),value:ct.allowNull(r),data:ct.allowNull(u),type:ct.allowNull(l),accessList:ct.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:o,address:t,topics:ct.arrayOf(o),data:s,logIndex:l,blockHash:o},e.receipt={to:ct.allowNull(this.address,null),from:ct.allowNull(this.address,null),contractAddress:ct.allowNull(t,null),transactionIndex:l,root:ct.allowNull(a),gasUsed:r,logsBloom:ct.allowNull(s),blockHash:o,transactionHash:o,logs:ct.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:ct.allowNull(l,null),cumulativeGasUsed:r,effectiveGasPrice:ct.allowNull(r),status:ct.allowNull(l),type:c},e.block={hash:ct.allowNull(o),parentHash:o,number:l,timestamp:l,nonce:ct.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:ct.allowNull(t),extraData:s,transactions:ct.allowNull(ct.arrayOf(o)),baseFeePerGas:ct.allowNull(r)},e.blockWithTransactions=bn(e.block),e.blockWithTransactions.transactions=ct.allowNull(ct.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:ct.allowNull(i,void 0),toBlock:ct.allowNull(i,void 0),blockHash:ct.allowNull(o,void 0),address:ct.allowNull(t,void 0),topics:ct.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:ct.allowNull(l),blockHash:ct.allowNull(o),transactionIndex:l,removed:ct.allowNull(this.boolean.bind(this)),address:t,data:ct.allowFalsish(s,"0x"),topics:ct.arrayOf(o),transactionHash:o,logIndex:l},e}accessList(e){return Yu(e||[])}number(e){return e==="0x"?0:Ve.from(e).toNumber()}type(e){return e==="0x"||e==null?0:Ve.from(e).toNumber()}bigNumber(e){return Ve.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return typeof e=="string"&&(!t&&e.substring(0,2)!=="0x"&&(e="0x"+e),kt(e))?e.toLowerCase():l0.throwArgumentError("invalid hash","value",e)}data(e,t){const r=this.hex(e,t);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return rn(e)}callAddress(e){if(!kt(e,32))return null;const t=rn(er(e,12));return t===IJ?null:t}contractAddress(e){return WE(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||kt(e))return Sv(e);throw new Error("invalid blockTag")}hash(e,t){const r=this.hex(e,t);return sa(r)!==32?l0.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(e==null)return null;const t=Ve.from(e);try{return t.toNumber()}catch{}return null}uint256(e){if(!kt(e))throw new Error("invalid uint256");return dn(e,32)}_block(e,t){e.author!=null&&e.miner==null&&(e.miner=e.author);const r=e._difficulty!=null?e._difficulty:e.difficulty,i=ct.check(t,e);return i._difficulty=r==null?null:Ve.from(r),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return ct.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&Ve.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const t=ct.check(this.formats.transaction,e);if(e.chainId!=null){let r=e.chainId;kt(r)&&(r=Ve.from(r).toNumber()),t.chainId=r}else{let r=e.networkId;r==null&&t.v==null&&(r=e.chainId),kt(r)&&(r=Ve.from(r).toNumber()),typeof r!="number"&&t.v!=null&&(r=(t.v-35)/2,r<0&&(r=0),r=parseInt(r)),typeof r!="number"&&(r=0),t.chainId=r}return t.blockHash&&t.blockHash.replace(/0/g,"")==="x"&&(t.blockHash=null),t}transaction(e){return rN(e)}receiptLog(e){return ct.check(this.formats.receiptLog,e)}receipt(e){const t=ct.check(this.formats.receipt,e);if(t.root!=null)if(t.root.length<=4){const r=Ve.from(t.root).toNumber();r===0||r===1?(t.status!=null&&t.status!==r&&l0.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=r,delete t.root):l0.throwArgumentError("invalid alt-root-status","value.root",t.root)}else t.root.length!==66&&l0.throwArgumentError("invalid root hash","value.root",t.root);return t.status!=null&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(t=>this.topics(t)):e!=null?this.hash(e,!0):null}filter(e){return ct.check(this.formats.filter,e)}filterLog(e){return ct.check(this.formats.filterLog,e)}static check(e,t){const r={};for(const i in e)try{const s=e[i](t[i]);s!==void 0&&(r[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=t[i],s}return r}static allowNull(e,t){return function(r){return r==null?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const r=[];return t.forEach(function(i){r.push(e(i))}),r}}}function Kte(n){return n&&typeof n.isCommunityResource=="function"}function pP(n){return Kte(n)&&n.isCommunityResource()}var St=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const Ot=new fe(yc),$te=10;function mP(n){return n==null?"null":(sa(n)!==32&&Ot.throwArgumentError("invalid topic","topic",n),n.toLowerCase())}function gP(n){for(n=n.slice();n.length>0&&n[n.length-1]==null;)n.pop();return n.map(e=>{if(Array.isArray(e)){const t={};e.forEach(i=>{t[mP(i)]=!0});const r=Object.keys(t);return r.sort(),r.join("|")}else return mP(e)}).join("&")}function Yte(n){return n===""?[]:n.split(/&/g).map(e=>{if(e==="")return[];const t=e.split("|").map(r=>r==="null"?null:r);return t.length===1?t[0]:t})}function Df(n){if(typeof n=="string"){if(n=n.toLowerCase(),sa(n)===32)return"tx:"+n;if(n.indexOf(":")===-1)return n}else{if(Array.isArray(n))return"filter:*:"+gP(n);if(jQ.isForkEvent(n))throw Ot.warn("not implemented"),new Error("not implemented");if(n&&typeof n=="object")return"filter:"+(n.address||"*")+":"+gP(n.topics||[])}throw new Error("invalid event - "+n)}function c0(){return new Date().getTime()}function xP(n){return new Promise(e=>{setTimeout(e,n)})}const Jte=["block","network","pending","poll"];class Qte{constructor(e,t,r){ke(this,"tag",e),ke(this,"listener",t),ke(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const t=e[1],r=Yte(e[2]),i={};return r.length>0&&(i.topics=r),t&&t!=="*"&&(i.address=t),i}pollable(){return this.tag.indexOf(":")>=0||Jte.indexOf(this.tag)>=0}}const Zte={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function kw(n){return dn(Ve.from(n).toHexString(),32)}function yP(n){return Yh.encode(yn([n,er(el(el(n)),0,4)]))}const SN=new RegExp("^(ipfs)://(.*)$","i"),vP=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),SN,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function S1(n,e){try{return gc(Jp(n,e))}catch{}return null}function Jp(n,e){if(n==="0x")return null;const t=Ve.from(er(n,e,e+32)).toNumber(),r=Ve.from(er(n,t,t+32)).toNumber();return er(n,t+32,t+32+r)}function Lw(n){return n.match(/^ipfs:\/\/ipfs\//i)?n=n.substring(12):n.match(/^ipfs:\/\//i)?n=n.substring(7):Ot.throwArgumentError("unsupported IPFS format","link",n),`https://gateway.ipfs.io/ipfs/${n}`}function _P(n){const e=Fe(n);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function ene(n){if(n.length%32===0)return n;const e=new Uint8Array(Math.ceil(n.length/32)*32);return e.set(n),e}function MN(n){const e=[];let t=0;for(let r=0;r<n.length;r++)e.push(null),t+=32;for(let r=0;r<n.length;r++){const i=Fe(n[r]);e[r]=_P(t),e.push(_P(i.length)),e.push(ene(i)),t+=32+Math.ceil(i.length/32)*32}return _i(e)}class bP{constructor(e,t,r,i){ke(this,"provider",e),ke(this,"name",r),ke(this,"address",e.formatter.address(t)),ke(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>Ve.from(e).eq(1)).catch(e=>{if(e.code===fe.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return St(this,void 0,void 0,function*(){const r={to:this.address,ccipReadEnabled:!0,data:_i([e,q0(this.name),t||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,r.data=_i(["0x9061b923",MN([ML(this.name),r.data])]));try{let s=yield this.provider.call(r);return Fe(s).length%32===4&&Ot.throwError("resolver threw error",fe.errors.CALL_EXCEPTION,{transaction:r,data:s}),i&&(s=Jp(s,0)),s}catch(s){if(s.code===fe.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,t){return St(this,void 0,void 0,function*(){const r=yield this._fetch(e,t);return r!=null?Jp(r,0):null})}_getAddress(e,t){const r=Zte[String(e)];if(r==null&&Ot.throwError(`unsupported coin type: ${e}`,fe.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),r.ilk==="eth")return this.provider.formatter.address(t);const i=Fe(t);if(r.p2pkh!=null){const s=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return yP(yn([[r.p2pkh],"0x"+s[2]]))}}if(r.p2sh!=null){const s=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return yP(yn([[r.p2sh],"0x"+s[2]]))}}if(r.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=dP.toWords(i.slice(2));return a.unshift(o),dP.encode(r.prefix,a)}}return null}getAddress(e){return St(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===fL?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===fe.errors.CALL_EXCEPTION)return null;throw i}const t=yield this._fetchBytes("0xf1cb7e06",kw(e));if(t==null||t==="0x")return null;const r=this._getAddress(e,t);return r==null&&Ot.throwError("invalid or unsupported coin data",fe.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),r})}getAvatar(){return St(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(t==null)return null;for(let r=0;r<vP.length;r++){const i=t.match(vP[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:Lw(t)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:t});const a=this._resolvedAddress||(yield this.getAddress()),l=(i[2]||"").split("/");if(l.length!==2)return null;const c=yield this.provider.formatter.address(l[0]),u=dn(Ve.from(l[1]).toHexString(),32);if(s==="erc721"){const g=this.provider.formatter.callAddress(yield this.provider.call({to:c,data:_i(["0x6352211e",u])}));if(a!==g)return null;e.push({type:"owner",content:g})}else if(s==="erc1155"){const g=Ve.from(yield this.provider.call({to:c,data:_i(["0x00fdd58e",dn(a,32),u])}));if(g.isZero())return null;e.push({type:"balance",content:g.toString()})}const h={to:this.provider.formatter.address(l[0]),data:_i([o,u])};let p=S1(yield this.provider.call(h),0);if(p==null)return null;e.push({type:"metadata-url-base",content:p}),s==="erc1155"&&(p=p.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:p})),p.match(/^ipfs:/i)&&(p=Lw(p)),e.push({type:"metadata-url",content:p});const m=yield Dv(p);if(!m)return null;e.push({type:"metadata",content:JSON.stringify(m)});let y=m.image;if(typeof y!="string")return null;if(!y.match(/^(https:\/\/|data:)/i)){if(y.match(SN)==null)return null;e.push({type:"url-ipfs",content:y}),y=Lw(y)}return e.push({type:"url",content:y}),{linkage:e,url:y}}}}}catch{}return null})}getContentHash(){return St(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const o=parseInt(t[3],16);if(t[4].length===o*2)return"ipfs://"+Yh.encode("0x"+t[1])}const r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipns://"+Yh.encode("0x"+r[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+KE("0x"+s[1]).replace(/[=+\/]/g,l=>o[l])}return Ot.throwError("invalid or unsupported content hash data",fe.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return St(this,void 0,void 0,function*(){let t=ir(e);t=yn([kw(64),kw(t.length),t]),t.length%32!==0&&(t=yn([t,dn("0x",32-e.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",Ge(t));return r==null||r==="0x"?null:gc(r)})}}let Nw=null,tne=1;class EN extends ud{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),ke(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(t=>{}),this._ready().catch(t=>{});else{const t=xo(new.target,"getNetwork")(e);t?(ke(this,"_network",t),this.emit("network",t,null)):Ot.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return St(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Ot.throwError("no network detected",fe.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:ke(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return cu(()=>this._ready().then(e=>e,e=>{if(!(e.code===fe.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return Nw==null&&(Nw=new ct),Nw}static getNetwork(e){return Nte(e??"homestead")}ccipReadFetch(e,t,r){return St(this,void 0,void 0,function*(){if(this.disableCcipRead||r.length===0)return null;const i=e.to.toLowerCase(),s=t.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const l=r[a],c=l.replace("{sender}",i).replace("{data}",s),u=l.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),h=yield Dv({url:c,errorPassThrough:!0},u,(m,y)=>(m.status=y.statusCode,m));if(h.data)return h.data;const p=h.message||"unknown error";if(h.status>=400&&h.status<500)return Ot.throwError(`response not found during CCIP fetch: ${p}`,fe.errors.SERVER_ERROR,{url:l,errorMessage:p});o.push(p)}return Ot.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,fe.errors.SERVER_ERROR,{urls:r,errorMessages:o})})}_getInternalBlockNumber(e){return St(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(c0()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const t=c0(),r=Hn({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),s;const o=c0();return i=Ve.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:t,respTime:o}});return this._internalBlockNumber=r,r.catch(i=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return St(this,void 0,void 0,function*(){const e=tne++,t=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)Ot.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",Ot.makeError("network block skew detected",fe.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let i=this._emitted.block+1;i<=r;i++)this.emit("block",i);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&r-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=r-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});t.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=r-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=r;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(l=>{i._inflight=!1,l.length!==0&&l.forEach(c=>{c.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=c.blockNumber),this._emitted["b:"+c.blockHash]=c.blockNumber,this._emitted["t:"+c.transactionHash]=c.blockNumber,this.emit(s,c)})}).catch(l=>{this.emit("error",l),i._inflight=!1});t.push(a)}break}}}),this._lastBlockNumber=r,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return St(this,void 0,void 0,function*(){return Ot.throwError("provider does not support network detection",fe.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return St(this,void 0,void 0,function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield xP(0),this._network;const r=Ot.makeError("underlying network changed",fe.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=c0();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(t=>((this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=c0(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return St(this,void 0,void 0,function*(){return this._waitForTransaction(e,t??1,r||0,null)})}_waitForTransaction(e,t,r,i){return St(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=t?s:new Promise((o,a)=>{const l=[];let c=!1;const u=function(){return c?!0:(c=!0,l.forEach(p=>{p()}),!1)},h=p=>{p.confirmations<t||u()||o(p)};if(this.on(e,h),l.push(()=>{this.removeListener(e,h)}),i){let p=i.startBlock,m=null;const y=g=>St(this,void 0,void 0,function*(){c||(yield xP(1e3),this.getTransactionCount(i.from).then(x=>St(this,void 0,void 0,function*(){if(!c){if(x<=i.nonce)p=g;else{{const v=yield this.getTransaction(e);if(v&&v.blockNumber!=null)return}for(m==null&&(m=p-3,m<i.startBlock&&(m=i.startBlock));m<=g;){if(c)return;const v=yield this.getBlockWithTransactions(m);for(let b=0;b<v.transactions.length;b++){const w=v.transactions[b];if(w.hash===e)return;if(w.from===i.from&&w.nonce===i.nonce){if(c)return;const A=yield this.waitForTransaction(w.hash,t);if(u())return;let T="replaced";w.data===i.data&&w.to===i.to&&w.value.eq(i.value)?T="repriced":w.data==="0x"&&w.from===w.to&&w.value.isZero()&&(T="cancelled"),a(Ot.makeError("transaction was replaced",fe.errors.TRANSACTION_REPLACED,{cancelled:T==="replaced"||T==="cancelled",reason:T,replacement:this._wrapTransaction(w),hash:e,receipt:A}));return}}m++}}c||this.once("block",y)}}),x=>{c||this.once("block",y)}))});if(c)return;this.once("block",y),l.push(()=>{this.removeListener("block",y)})}if(typeof r=="number"&&r>0){const p=setTimeout(()=>{u()||a(Ot.makeError("timeout exceeded",fe.errors.TIMEOUT,{timeout:r}))},r);p.unref&&p.unref(),l.push(()=>{clearTimeout(p)})}})})}getBlockNumber(){return St(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return St(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return Ve.from(e)}catch(t){return Ot.throwError("bad result from backend",fe.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return St(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Hn({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getBalance",r);try{return Ve.from(i)}catch(s){return Ot.throwError("bad result from backend",fe.errors.SERVER_ERROR,{method:"getBalance",params:r,result:i,error:s})}})}getTransactionCount(e,t){return St(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Hn({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getTransactionCount",r);try{return Ve.from(i).toNumber()}catch(s){return Ot.throwError("bad result from backend",fe.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:i,error:s})}})}getCode(e,t){return St(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Hn({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getCode",r);try{return Ge(i)}catch(s){return Ot.throwError("bad result from backend",fe.errors.SERVER_ERROR,{method:"getCode",params:r,result:i,error:s})}})}getStorageAt(e,t,r){return St(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Hn({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then(o=>Sv(o))}),s=yield this.perform("getStorageAt",i);try{return Ge(s)}catch(o){return Ot.throwError("bad result from backend",fe.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,t,r){if(t!=null&&sa(t)!==32)throw new Error("invalid response - sendTransaction");const i=e;return t!=null&&e.hash!==t&&Ot.throwError("Transaction hash mismatch from Provider.sendTransaction.",fe.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),i.wait=(s,o)=>St(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&r!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});const l=yield this._waitForTransaction(e.hash,s,o,a);return l==null&&s===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&Ot.throwError("transaction failed",fe.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),i}sendTransaction(e){return St(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then(s=>Ge(s)),r=this.formatter.transaction(e);r.confirmations==null&&(r.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,s,i)}catch(s){throw s.transaction=r,s.transactionHash=r.hash,s}})}_getTransactionRequest(e){return St(this,void 0,void 0,function*(){const t=yield e,r={};return["from","to"].forEach(i=>{t[i]!=null&&(r[i]=Promise.resolve(t[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{t[i]!=null&&(r[i]=Promise.resolve(t[i]).then(s=>s?Ve.from(s):null))}),["type"].forEach(i=>{t[i]!=null&&(r[i]=Promise.resolve(t[i]).then(s=>s??null))}),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(i=>{t[i]!=null&&(r[i]=Promise.resolve(t[i]).then(s=>s?Ge(s):null))}),this.formatter.transactionRequest(yield Hn(r))})}_getFilter(e){return St(this,void 0,void 0,function*(){e=yield e;const t={};return e.address!=null&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{e[r]!=null&&(t[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{e[r]!=null&&(t[r]=this._getBlockTag(e[r]))}),this.formatter.filter(yield Hn(t))})}_call(e,t,r){return St(this,void 0,void 0,function*(){r>=$te&&Ot.throwError("CCIP read exceeded maximum redirections",fe.errors.SERVER_ERROR,{redirects:r,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:t});if(r>=0&&t==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&sa(s)%32===4)try{const o=er(s,4),a=er(o,0,32);Ve.from(a).eq(i)||Ot.throwError("CCIP Read sender did not match",fe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const l=[],c=Ve.from(er(o,32,64)).toNumber(),u=Ve.from(er(o,c,c+32)).toNumber(),h=er(o,c+32);for(let v=0;v<u;v++){const b=S1(h,v*32);b==null&&Ot.throwError("CCIP Read contained corrupt URL string",fe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),l.push(b)}const p=Jp(o,64);Ve.from(er(o,100,128)).isZero()||Ot.throwError("CCIP Read callback selector included junk",fe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const m=er(o,96,100),y=Jp(o,128),g=yield this.ccipReadFetch(e,p,l);g==null&&Ot.throwError("CCIP Read disabled or provided no URLs",fe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const x={to:i,data:_i([m,MN([g,y])])};return this._call(x,t,r+1)}catch(o){if(o.code===fe.errors.SERVER_ERROR)throw o}try{return Ge(s)}catch(o){return Ot.throwError("bad result from backend",fe.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:s,error:o})}})}call(e,t){return St(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Hn({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return St(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Hn({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",t);try{return Ve.from(r)}catch(i){return Ot.throwError("bad result from backend",fe.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:i})}})}_getAddress(e){return St(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Ot.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return t==null&&Ot.throwError("ENS name not configured",fe.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return St(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128;const i={includeTransactions:!!t};if(kt(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),kt(i.blockTag)&&(r=parseInt(i.blockTag.substring(2),16))}catch{Ot.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return cu(()=>St(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&r>this._emitted.block?null:void 0;if(t){let o=null;for(let l=0;l<s.transactions.length;l++){const c=s.transactions[l];if(c.blockNumber==null)c.confirmations=0;else if(c.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=o-c.blockNumber+1;u<=0&&(u=1),c.confirmations=u}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(l=>this._wrapTransaction(l)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return St(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return cu(()=>St(this,void 0,void 0,function*(){const r=yield this.perform("getTransaction",t);if(r==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return St(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return cu(()=>St(this,void 0,void 0,function*(){const r=yield this.perform("getTransactionReceipt",t);if(r==null)return this._emitted["t:"+e]==null?null:void 0;if(r.blockHash==null)return;const i=this.formatter.receipt(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return St(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Hn({filter:this._getFilter(e)}),r=yield this.perform("getLogs",t);return r.forEach(i=>{i.removed==null&&(i.removed=!1)}),ct.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return St(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return St(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Ot.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return St(this,void 0,void 0,function*(){let t=e;for(;;){if(t===""||t==="."||e!=="eth"&&t==="eth")return null;const r=yield this._getResolver(t,"getResolver");if(r!=null){const i=new bP(this,r,e);return t!==e&&!(yield i.supportsWildcard())?null:i}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return St(this,void 0,void 0,function*(){t==null&&(t="ENS");const r=yield this.getNetwork();r.ensAddress||Ot.throwError("network does not support ENS",fe.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name});try{const i=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+q0(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return St(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(r){if(kt(e))throw r}typeof e!="string"&&Ot.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return St(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const t=e.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(t,"lookupAddress");if(r==null)return null;const i=S1(yield this.call({to:r,data:"0x691f3431"+q0(t).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return St(this,void 0,void 0,function*(){let t=null;if(kt(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;t=new bP(this,o,s);try{const a=yield t.getAvatar();if(a)return a.url}catch(a){if(a.code!==fe.errors.CALL_EXCEPTION)throw a}try{const a=S1(yield this.call({to:o,data:"0x691f3431"+q0(s).substring(2)}),0);t=yield this.getResolver(a)}catch(a){if(a.code!==fe.errors.CALL_EXCEPTION)throw a;return null}}else if(t=yield this.getResolver(e),!t)return null;const r=yield t.getAvatar();return r==null?null:r.url})}perform(e,t){return Ot.throwError(e+" not implemented",fe.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_addEventListener(e,t,r){const i=new Qte(Df(e),t,r);return this._events.push(i),this._startEvent(i),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let r=!1,i=[],s=Df(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,t)},0),r=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),r}listenerCount(e){if(!e)return this._events.length;let t=Df(e);return this._events.filter(r=>r.tag===t).length}listeners(e){if(e==null)return this._events.map(r=>r.listener);let t=Df(e);return this._events.filter(r=>r.tag===t).map(r=>r.listener)}off(e,t){if(t==null)return this.removeAllListeners(e);const r=[];let i=!1,s=Df(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=t||i?!0:(i=!0,r.push(o),!1)),r.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let t=[];if(e==null)t=this._events,this._events=[];else{const r=Df(e);this._events=this._events.filter(i=>i.tag!==r?!0:(t.push(i),!1))}return t.forEach(r=>{this._stopEvent(r)}),this}}var Ra=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const cr=new fe(yc),nne=["call","estimateGas"];function K0(n,e){if(n==null)return null;if(typeof n.message=="string"&&n.message.match("reverted")){const t=kt(n.data)?n.data:null;if(!e||t)return{message:n.message,data:t}}if(typeof n=="object"){for(const t in n){const r=K0(n[t],e);if(r)return r}return null}if(typeof n=="string")try{return K0(JSON.parse(n),e)}catch{}return null}function AN(n,e,t){const r=t.transaction||t.signedTransaction;if(n==="call"){const s=K0(e,!0);if(s)return s.data;cr.throwError("missing revert data in call exception; Transaction reverted without a reason string",fe.errors.CALL_EXCEPTION,{data:"0x",transaction:r,error:e})}if(n==="estimateGas"){let s=K0(e.body,!1);s==null&&(s=K0(e,!1)),s&&cr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",fe.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:n,transaction:r,error:e})}let i=e.message;throw e.code===fe.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&cr.throwError("insufficient funds for intrinsic transaction cost",fe.errors.INSUFFICIENT_FUNDS,{error:e,method:n,transaction:r}),i.match(/nonce (is )?too low/i)&&cr.throwError("nonce has already been used",fe.errors.NONCE_EXPIRED,{error:e,method:n,transaction:r}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&cr.throwError("replacement fee too low",fe.errors.REPLACEMENT_UNDERPRICED,{error:e,method:n,transaction:r}),i.match(/only replay-protected/i)&&cr.throwError("legacy pre-eip-155 transactions not supported",fe.errors.UNSUPPORTED_OPERATION,{error:e,method:n,transaction:r}),nne.indexOf(n)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&cr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",fe.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:n,transaction:r}),e}function wP(n){return new Promise(function(e){setTimeout(e,n)})}function rne(n){if(n.error){const e=new Error(n.error.message);throw e.code=n.error.code,e.data=n.error.data,e}return n.result}function u0(n){return n&&n.toLowerCase()}const vS={};class CN extends fd{constructor(e,t,r){if(super(),e!==vS)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");ke(this,"provider",t),r==null&&(r=0),typeof r=="string"?(ke(this,"_address",this.provider.formatter.address(r)),ke(this,"_index",null)):typeof r=="number"?(ke(this,"_index",r),ke(this,"_address",null)):cr.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return cr.throwError("cannot alter JSON-RPC Signer connection",fe.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new ine(vS,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&cr.throwError("unknown account #"+this._index,fe.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=bn(e);const t=this.getAddress().then(r=>(r&&(r=r.toLowerCase()),r));if(e.gasLimit==null){const r=bn(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(r=>Ra(this,void 0,void 0,function*(){if(r==null)return null;const i=yield this.provider.resolveName(r);return i==null&&cr.throwArgumentError("provided ENS name resolves to null","tx.to",r),i}))),Hn({tx:Hn(e),sender:t}).then(({tx:r,sender:i})=>{r.from!=null?r.from.toLowerCase()!==i&&cr.throwArgumentError("from address mismatch","transaction",e):r.from=i;const s=this.provider.constructor.hexlifyTransaction(r,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&cr.throwError("user rejected transaction",fe.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:r}),AN("sendTransaction",o,s)))})}signTransaction(e){return cr.throwError("signing transactions is unsupported",fe.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Ra(this,void 0,void 0,function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield cu(()=>Ra(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(r);if(i!==null)return this.provider._wrapTransaction(i,r,t)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=r,i}})}signMessage(e){return Ra(this,void 0,void 0,function*(){const t=typeof e=="string"?ir(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[Ge(t),r.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&cr.throwError("user rejected signing",fe.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),i}})}_legacySignMessage(e){return Ra(this,void 0,void 0,function*(){const t=typeof e=="string"?ir(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),Ge(t)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&cr.throwError("user rejected signing",fe.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),i}})}_signTypedData(e,t,r){return Ra(this,void 0,void 0,function*(){const i=yield Nr.resolveNames(e,t,r,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(Nr.getPayload(i.domain,t,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&cr.throwError("user rejected signing",fe.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:t,value:i.value}}),o}})}unlock(e){return Ra(this,void 0,void 0,function*(){const t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class ine extends CN{sendTransaction(e){return this.sendUncheckedTransaction(e).then(t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:r=>this.provider.waitForTransaction(t,r)}))}}const sne={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Bv extends EN{constructor(e,t){let r=t;r==null&&(r=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(r),e||(e=xo(this.constructor,"defaultUrl")()),typeof e=="string"?ke(this,"connection",Object.freeze({url:e})):ke(this,"connection",Object.freeze(bn(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Ra(this,void 0,void 0,function*(){yield wP(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const t=xo(this.constructor,"getNetwork");try{return t(Ve.from(e).toNumber())}catch(r){return cr.throwError("could not detect network",fe.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:r})}}return cr.throwError("could not detect network",fe.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new CN(vS,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(t=>this.formatter.address(t)))}send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:hs(r),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=Dv(this.connection,JSON.stringify(r),rne).then(o=>(this.emit("debug",{action:"response",request:r,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:r,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[u0(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[u0(t.address),t.blockTag]];case"getCode":return["eth_getCode",[u0(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[u0(t.address),dn(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[xo(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[xo(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&t.filter.address!=null&&(t.filter.address=u0(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return Ra(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=t.transaction;if(i&&i.type!=null&&Ve.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(t=bn(t),t.transaction=bn(i),delete t.transaction.type)}}const r=this.prepareRequest(e,t);r==null&&cr.throwError(e+" not implemented",fe.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(i){return AN(e,i,t)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(r){function i(){e.send("eth_getFilterChanges",[r]).then(function(s){if(e._pendingFilter!=t)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(l){return e.emit("pending",l),null})})}),o.then(function(){return wP(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),r}).catch(r=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const r=bn(sne);if(t)for(const s in t)t[s]&&(r[s]=!0);UE(e,r);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=Sv(Ve.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=Ge(e[s]))}),e.accessList&&(i.accessList=Yu(e.accessList)),i}}let $0=null;try{if($0=WebSocket,$0==null)throw new Error("inject please")}catch{const e=new fe(yc);$0=function(){e.throwError("WebSockets not supported in this environment",fe.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var Dw=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const Ux=new fe(yc);let one=1;class ane extends Bv{constructor(e,t){t==="any"&&Ux.throwError("WebSocketProvider does not support 'any' network yet",fe.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,t):super("_websocket",t),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?ke(this,"_websocket",new $0(this.connection.url)):ke(this,"_websocket",e),ke(this,"_requests",{}),ke(this,"_subs",{}),ke(this,"_subIds",{}),ke(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this.websocket.send(this._requests[i].payload)})},this.websocket.onmessage=i=>{const s=i.data,o=JSON.parse(s);if(o.id!=null){const a=String(o.id),l=this._requests[a];if(delete this._requests[a],o.result!==void 0)l.callback(null,o.result),this.emit("debug",{action:"response",request:JSON.parse(l.payload),response:o.result,provider:this});else{let c=null;o.error?(c=new Error(o.error.message||"unknown error"),ke(c,"code",o.error.code||null),ke(c,"response",s)):c=new Error("unknown error"),l.callback(c,void 0),this.emit("debug",{action:"response",error:c,request:JSON.parse(l.payload),provider:this})}}else if(o.method==="eth_subscription"){const a=this._subs[o.params.subscription];a&&a.processFunc(o.params.result)}else console.warn("this should not happen")};const r=setInterval(()=>{this.emit("poll")},1e3);r.unref&&r.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){Ux.throwError("cannot reset events block on WebSocketProvider",fe.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){Ux.throwError("cannot set polling interval on WebSocketProvider",fe.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return Dw(this,void 0,void 0,function*(){return null})}set polling(e){e&&Ux.throwError("cannot set polling on WebSocketProvider",fe.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const r=one++;return new Promise((i,s)=>{function o(l,c){return l?s(l):i(c)}const a=JSON.stringify({method:e,params:t,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(a),provider:this}),this._requests[String(r)]={callback:o,payload:a},this._wsReady&&this.websocket.send(a)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,r){return Dw(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(t).then(o=>this.send("eth_subscribe",o)),this._subIds[e]=i);const s=yield i;this._subs[s]={tag:e,processFunc:r}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],t=>{const r=Ve.from(t.number).toNumber();this._emitted.block=r,this.emit("block",r)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],t=>{this.emit("pending",t)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{t.removed==null&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":{const t=r=>{const i=r.hash;this.getTransactionReceipt(i).then(s=>{s&&this.emit(i,s)})};t(e),this._subscribe("tx",["newHeads"],r=>{this._events.filter(i=>i.type==="tx").forEach(t)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let t=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;t="tx"}else if(this.listenerCount(e.event))return;const r=this._subIds[t];r&&(delete this._subIds[t],r.then(i=>{this._subs[i]&&(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return Dw(this,void 0,void 0,function*(){this.websocket.readyState===$0.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var lne=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const cne=new fe(yc);class une extends Bv{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return lne(this,void 0,void 0,function*(){let t=this.network;return t==null&&(t=yield e.detectNetwork.call(this),t||cne.throwError("no network detected",fe.errors.UNKNOWN_ERROR,{}),this._network==null&&(ke(this,"_network",t),this.emit("network",t,null))),t})}}var Ty=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const Qc=new fe(yc);function Vx(){return new Date().getTime()}function SP(n){let e=null;for(let t=0;t<n.length;t++){const r=n[t];if(r==null)return null;e?e.name===r.name&&e.chainId===r.chainId&&(e.ensAddress===r.ensAddress||e.ensAddress==null&&r.ensAddress==null)||Qc.throwArgumentError("provider mismatch","networks",n):e=r}return e}function MP(n,e){n=n.slice().sort();const t=Math.floor(n.length/2);if(n.length%2)return n[t];const r=n[t-1],i=n[t];return e!=null&&Math.abs(r-i)>e?null:(r+i)/2}function fh(n){if(n===null)return"null";if(typeof n=="number"||typeof n=="boolean")return JSON.stringify(n);if(typeof n=="string")return n;if(Ve.isBigNumber(n))return n.toString();if(Array.isArray(n))return JSON.stringify(n.map(e=>fh(e)));if(typeof n=="object"){const e=Object.keys(n);return e.sort(),"{"+e.map(t=>{let r=n[t];return typeof r=="function"?r="[function]":r=fh(r),JSON.stringify(t)+":"+r}).join(",")+"}"}throw new Error("unknown value type: "+typeof n)}let fne=1;function EP(n){let e=null,t=null,r=new Promise(o=>{e=function(){t&&(clearTimeout(t),t=null),o()},t=setTimeout(e,n)});const i=o=>(r=r.then(o),r);function s(){return r}return{cancel:e,getPromise:s,wait:i}}const hne=[fe.errors.CALL_EXCEPTION,fe.errors.INSUFFICIENT_FUNDS,fe.errors.NONCE_EXPIRED,fe.errors.REPLACEMENT_UNDERPRICED,fe.errors.UNPREDICTABLE_GAS_LIMIT],dne=["address","args","errorArgs","errorSignature","method","transaction"];function Hx(n,e){const t={weight:n.weight};return Object.defineProperty(t,"provider",{get:()=>n.provider}),n.start&&(t.start=n.start),e&&(t.duration=e-n.start),n.done&&(n.error?t.error=n.error:t.result=n.result||null),t}function pne(n,e){return function(t){const r={};t.forEach(s=>{const o=n(s.result);r[o]||(r[o]={count:0,result:s.result}),r[o].count++});const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]];if(o.count>=e)return o.result}}}function mne(n,e,t){let r=fh;switch(e){case"getBlockNumber":return function(i){const s=i.map(a=>a.result);let o=MP(i.map(a=>a.result),2);if(o!=null)return o=Math.ceil(o),s.indexOf(o+1)>=0&&o++,o>=n._highestBlockNumber&&(n._highestBlockNumber=o),n._highestBlockNumber};case"getGasPrice":return function(i){const s=i.map(o=>o.result);return s.sort(),s[Math.floor(s.length/2)]};case"getEtherPrice":return function(i){return MP(i.map(s=>s.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":r=function(i){return i==null?null:(i=bn(i),i.confirmations=-1,fh(i))};break;case"getBlock":t.includeTransactions?r=function(i){return i==null?null:(i=bn(i),i.transactions=i.transactions.map(s=>(s=bn(s),s.confirmations=-1,s)),fh(i))}:r=function(i){return i==null?null:fh(i)};break;default:throw new Error("unknown method: "+e)}return pne(r,n.quorum)}function f0(n,e){return Ty(this,void 0,void 0,function*(){const t=n.provider;return t.blockNumber!=null&&t.blockNumber>=e||e===-1?t:cu(()=>new Promise((r,i)=>{setTimeout(function(){return t.blockNumber>=e?r(t):n.cancelled?r(null):r(void 0)},0)}),{oncePoll:t})})}function gne(n,e,t,r){return Ty(this,void 0,void 0,function*(){let i=n.provider;switch(t){case"getBlockNumber":case"getGasPrice":return i[t]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return r.blockTag&&kt(r.blockTag)&&(i=yield f0(n,e)),i[t](r.address,r.blockTag||"latest");case"getStorageAt":return r.blockTag&&kt(r.blockTag)&&(i=yield f0(n,e)),i.getStorageAt(r.address,r.position,r.blockTag||"latest");case"getBlock":return r.blockTag&&kt(r.blockTag)&&(i=yield f0(n,e)),i[r.includeTransactions?"getBlockWithTransactions":"getBlock"](r.blockTag||r.blockHash);case"call":case"estimateGas":return r.blockTag&&kt(r.blockTag)&&(i=yield f0(n,e)),t==="call"&&r.blockTag?i[t](r.transaction,r.blockTag):i[t](r.transaction);case"getTransaction":case"getTransactionReceipt":return i[t](r.transactionHash);case"getLogs":{let s=r.filter;return(s.fromBlock&&kt(s.fromBlock)||s.toBlock&&kt(s.toBlock))&&(i=yield f0(n,e)),i.getLogs(s)}}return Qc.throwError("unknown method error",fe.errors.UNKNOWN_ERROR,{method:t,params:r})})}class xne extends EN{constructor(e,t){e.length===0&&Qc.throwArgumentError("missing providers","providers",e);const r=e.map((o,a)=>{if(ud.isProvider(o)){const u=pP(o)?2e3:750;return Object.freeze({provider:o,weight:1,stallTimeout:u,priority:1})}const l=bn(o);l.priority==null&&(l.priority=1),l.stallTimeout==null&&(l.stallTimeout=pP(o)?2e3:750),l.weight==null&&(l.weight=1);const c=l.weight;return(c%1||c>512||c<1)&&Qc.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${a}].weight`,c),Object.freeze(l)}),i=r.reduce((o,a)=>o+a.weight,0);t==null?t=i/2:t>i&&Qc.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let s=SP(r.map(o=>o.provider.network));s==null&&(s=new Promise((o,a)=>{setTimeout(()=>{this.detectNetwork().then(o,a)},0)})),super(s),ke(this,"providerConfigs",Object.freeze(r)),ke(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return Ty(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(t=>t.provider.getNetwork()));return SP(e)})}perform(e,t){return Ty(this,void 0,void 0,function*(){if(e==="sendTransaction"){const l=yield Promise.all(this.providerConfigs.map(c=>c.provider.sendTransaction(t.signedTransaction).then(u=>u.hash,u=>u)));for(let c=0;c<l.length;c++){const u=l[c];if(typeof u=="string")return u}throw l[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const r=mne(this,e,t),i=uN(this.providerConfigs.map(bn));i.sort((l,c)=>l.priority-c.priority);const s=this._highestBlockNumber;let o=0,a=!0;for(;;){const l=Vx();let c=i.filter(m=>m.runner&&l-m.start<m.stallTimeout).reduce((m,y)=>m+y.weight,0);for(;c<this.quorum&&o<i.length;){const m=i[o++],y=fne++;m.start=Vx(),m.staller=EP(m.stallTimeout),m.staller.wait(()=>{m.staller=null}),m.runner=gne(m,s,e,t).then(g=>{m.done=!0,m.result=g,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:y,backend:Hx(m,Vx()),request:{method:e,params:hs(t)},provider:this})},g=>{m.done=!0,m.error=g,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:y,backend:Hx(m,Vx()),request:{method:e,params:hs(t)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:y,backend:Hx(m,null),request:{method:e,params:hs(t)},provider:this}),c+=m.weight}const u=[];i.forEach(m=>{m.done||!m.runner||(u.push(m.runner),m.staller&&u.push(m.staller.getPromise()))}),u.length&&(yield Promise.race(u));const h=i.filter(m=>m.done&&m.error==null);if(h.length>=this.quorum){const m=r(h);if(m!==void 0)return i.forEach(y=>{y.staller&&y.staller.cancel(),y.cancelled=!0}),m;a||(yield EP(100).getPromise()),a=!1}const p=i.reduce((m,y)=>{if(!y.done||y.error==null)return m;const g=y.error.code;return hne.indexOf(g)>=0&&(m[g]||(m[g]={error:y.error,weight:0}),m[g].weight+=y.weight),m},{});if(Object.keys(p).forEach(m=>{const y=p[m];if(y.weight<this.quorum)return;i.forEach(v=>{v.staller&&v.staller.cancel(),v.cancelled=!0});const g=y.error,x={};dne.forEach(v=>{g[v]!=null&&(x[v]=g[v])}),Qc.throwError(g.reason||g.message,m,x)}),i.filter(m=>!m.done).length===0)break}return i.forEach(l=>{l.staller&&l.staller.cancel(),l.cancelled=!0}),Qc.throwError("failed to meet quorum",fe.errors.SERVER_ERROR,{method:e,params:t,results:i.map(l=>Hx(l)),provider:this})})}}const AP=new fe(yc);let yne=1;function CP(n,e){const t="Web3LegacyFetcher";return function(r,i){const s={method:r,params:i,id:yne++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:t,request:hs(s),provider:this}),e(s,(l,c)=>{if(l)return this.emit("debug",{action:"response",fetcher:t,error:l,request:s,provider:this}),a(l);if(this.emit("debug",{action:"response",fetcher:t,request:s,response:c,provider:this}),c.error){const u=new Error(c.error.message);return u.code=c.error.code,u.data=c.error.data,a(u)}o(c.result)})})}}function vne(n){return function(e,t){t==null&&(t=[]);const r={method:e,params:t};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:hs(r),provider:this}),n.request(r).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,error:i,provider:this}),i})}}class Qp extends Bv{constructor(e,t){e==null&&AP.throwArgumentError("missing provider","provider",e);let r=null,i=null,s=null;typeof e=="function"?(r="unknown:",i=e):(r=e.host||e.path||"",!r&&e.isMetaMask&&(r="metamask"),s=e,e.request?(r===""&&(r="eip-1193:"),i=vne(e)):e.sendAsync?i=CP(e,e.sendAsync.bind(e)):e.send?i=CP(e,e.send.bind(e)):AP.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,t),ke(this,"jsonRpcFetchFunc",i),ke(this,"provider",s)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const _ne="solidity/5.7.0",bne=new RegExp("^bytes([0-9]+)$"),wne=new RegExp("^(u?int)([0-9]*)$"),Sne=new RegExp("^(.*)\\[([0-9]*)\\]$"),Mne="0000000000000000000000000000000000000000000000000000000000000000",Hf=new fe(_ne);function TN(n,e,t){switch(n){case"address":return t?W0(e,32):Fe(e);case"string":return ir(e);case"bytes":return Fe(e);case"bool":return e=e?"0x01":"0x00",t?W0(e,32):Fe(e)}let r=n.match(wne);if(r){let i=parseInt(r[2]||"256");return(r[2]&&String(i)!==r[2]||i%8!==0||i===0||i>256)&&Hf.throwArgumentError("invalid number type","type",n),t&&(i=256),e=Ve.from(e).toTwos(i),W0(e,i/8)}if(r=n.match(bne),r){const i=parseInt(r[1]);return(String(i)!==r[1]||i===0||i>32)&&Hf.throwArgumentError("invalid bytes type","type",n),Fe(e).byteLength!==i&&Hf.throwArgumentError(`invalid value for ${n}`,"value",e),t?Fe((e+Mne).substring(0,66)):e}if(r=n.match(Sne),r&&Array.isArray(e)){const i=r[1];parseInt(r[2]||String(e.length))!=e.length&&Hf.throwArgumentError(`invalid array length for ${n}`,"value",e);const o=[];return e.forEach(function(a){o.push(TN(i,a,!0))}),yn(o)}return Hf.throwArgumentError("invalid type","type",n)}function lA(n,e){n.length!=e.length&&Hf.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const t=[];return n.forEach(function(r,i){t.push(TN(r,e[i]))}),Ge(yn(t))}function Ene(n,e){return an(lA(n,e))}function Ane(n,e){return el(lA(n,e))}const Cne=Object.freeze(Object.defineProperty({__proto__:null,keccak256:Ene,pack:lA,sha256:Ane},Symbol.toStringTag,{value:"Module"})),Tne="units/5.7.0",PN=new fe(Tne),RN=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Pne(n){const e=String(n).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||n==="."||n==="-.")&&PN.throwArgumentError("invalid value","value",n);let t=e[0],r="";for(t.substring(0,1)==="-"&&(r="-",t=t.substring(1));t.substring(0,1)==="0";)t=t.substring(1);t===""&&(t="0");let i="";for(e.length===2&&(i="."+(e[1]||"0"));i.length>2&&i[i.length-1]==="0";)i=i.substring(0,i.length-1);const s=[];for(;t.length;)if(t.length<=3){s.unshift(t);break}else{const o=t.length-3;s.unshift(t.substring(o)),t=t.substring(0,o)}return r+s.join(",")+i}function IN(n,e){if(typeof e=="string"){const t=RN.indexOf(e);t!==-1&&(e=3*t)}return x1(n,e??18)}function kN(n,e){if(typeof n!="string"&&PN.throwArgumentError("value must be a string","value",n),typeof e=="string"){const t=RN.indexOf(e);t!==-1&&(e=3*t)}return Bo(n,e??18)}function Rne(n){return IN(n,18)}function Ine(n){return kN(n,18)}const kne=Object.freeze(Object.defineProperty({__proto__:null,commify:Pne,formatEther:Rne,formatUnits:IN,parseEther:Ine,parseUnits:kN},Symbol.toStringTag,{value:"Module"}));var hr={};const Lne=Xn(VQ),Nne=Xn(SJ),Dne=Xn(sQ),One=Xn(Yee),Bne=Xn(JY),Fne=Xn(FQ),zne=Xn(fte),Une=Xn(Ete),Vne=Xn(pJ),Hne=Xn($Y),TP=Xn(ete),Wne=Xn(Cne),Gne=Xn(pte),jne=Xn(oJ),qne=Xn(gJ),Xne=Xn(kee),PP=Xn(tQ),Kne=Xn(Uee),$ne=Xn(kne),Yne=Xn(Ite),Jne=Xn(Ute);(function(n){var e=yi&&yi.__createBinding||(Object.create?function(Y,oe,V,S){S===void 0&&(S=V),Object.defineProperty(Y,S,{enumerable:!0,get:function(){return oe[V]}})}:function(Y,oe,V,S){S===void 0&&(S=V),Y[S]=oe[V]}),t=yi&&yi.__setModuleDefault||(Object.create?function(Y,oe){Object.defineProperty(Y,"default",{enumerable:!0,value:oe})}:function(Y,oe){Y.default=oe}),r=yi&&yi.__importStar||function(Y){if(Y&&Y.__esModule)return Y;var oe={};if(Y!=null)for(var V in Y)V!=="default"&&Object.prototype.hasOwnProperty.call(Y,V)&&e(oe,Y,V);return t(oe,Y),oe};Object.defineProperty(n,"__esModule",{value:!0}),n.formatBytes32String=n.Utf8ErrorFuncs=n.toUtf8String=n.toUtf8CodePoints=n.toUtf8Bytes=n._toEscapedUtf8String=n.nameprep=n.hexDataSlice=n.hexDataLength=n.hexZeroPad=n.hexValue=n.hexStripZeros=n.hexConcat=n.isHexString=n.hexlify=n.base64=n.base58=n.TransactionDescription=n.LogDescription=n.Interface=n.SigningKey=n.HDNode=n.defaultPath=n.isBytesLike=n.isBytes=n.zeroPad=n.stripZeros=n.concat=n.arrayify=n.shallowCopy=n.resolveProperties=n.getStatic=n.defineReadOnly=n.deepCopy=n.checkProperties=n.poll=n.fetchJson=n._fetchData=n.RLP=n.Logger=n.checkResultErrors=n.FormatTypes=n.ParamType=n.FunctionFragment=n.EventFragment=n.ErrorFragment=n.ConstructorFragment=n.Fragment=n.defaultAbiCoder=n.AbiCoder=void 0,n.Indexed=n.Utf8ErrorReason=n.UnicodeNormalizationForm=n.SupportedAlgorithm=n.mnemonicToSeed=n.isValidMnemonic=n.entropyToMnemonic=n.mnemonicToEntropy=n.getAccountPath=n.verifyTypedData=n.verifyMessage=n.recoverPublicKey=n.computePublicKey=n.recoverAddress=n.computeAddress=n.getJsonWalletAddress=n.TransactionTypes=n.serializeTransaction=n.parseTransaction=n.accessListify=n.joinSignature=n.splitSignature=n.soliditySha256=n.solidityKeccak256=n.solidityPack=n.shuffled=n.randomBytes=n.sha512=n.sha256=n.ripemd160=n.keccak256=n.computeHmac=n.commify=n.parseUnits=n.formatUnits=n.parseEther=n.formatEther=n.isAddress=n.getCreate2Address=n.getContractAddress=n.getIcapAddress=n.getAddress=n._TypedDataEncoder=n.id=n.isValidName=n.namehash=n.hashMessage=n.dnsEncode=n.parseBytes32String=void 0;var i=Lne;Object.defineProperty(n,"AbiCoder",{enumerable:!0,get:function(){return i.AbiCoder}}),Object.defineProperty(n,"checkResultErrors",{enumerable:!0,get:function(){return i.checkResultErrors}}),Object.defineProperty(n,"ConstructorFragment",{enumerable:!0,get:function(){return i.ConstructorFragment}}),Object.defineProperty(n,"defaultAbiCoder",{enumerable:!0,get:function(){return i.defaultAbiCoder}}),Object.defineProperty(n,"ErrorFragment",{enumerable:!0,get:function(){return i.ErrorFragment}}),Object.defineProperty(n,"EventFragment",{enumerable:!0,get:function(){return i.EventFragment}}),Object.defineProperty(n,"FormatTypes",{enumerable:!0,get:function(){return i.FormatTypes}}),Object.defineProperty(n,"Fragment",{enumerable:!0,get:function(){return i.Fragment}}),Object.defineProperty(n,"FunctionFragment",{enumerable:!0,get:function(){return i.FunctionFragment}}),Object.defineProperty(n,"Indexed",{enumerable:!0,get:function(){return i.Indexed}}),Object.defineProperty(n,"Interface",{enumerable:!0,get:function(){return i.Interface}}),Object.defineProperty(n,"LogDescription",{enumerable:!0,get:function(){return i.LogDescription}}),Object.defineProperty(n,"ParamType",{enumerable:!0,get:function(){return i.ParamType}}),Object.defineProperty(n,"TransactionDescription",{enumerable:!0,get:function(){return i.TransactionDescription}});var s=Nne;Object.defineProperty(n,"getAddress",{enumerable:!0,get:function(){return s.getAddress}}),Object.defineProperty(n,"getCreate2Address",{enumerable:!0,get:function(){return s.getCreate2Address}}),Object.defineProperty(n,"getContractAddress",{enumerable:!0,get:function(){return s.getContractAddress}}),Object.defineProperty(n,"getIcapAddress",{enumerable:!0,get:function(){return s.getIcapAddress}}),Object.defineProperty(n,"isAddress",{enumerable:!0,get:function(){return s.isAddress}});var o=r(Dne);n.base64=o;var a=One;Object.defineProperty(n,"base58",{enumerable:!0,get:function(){return a.Base58}});var l=Bne;Object.defineProperty(n,"arrayify",{enumerable:!0,get:function(){return l.arrayify}}),Object.defineProperty(n,"concat",{enumerable:!0,get:function(){return l.concat}}),Object.defineProperty(n,"hexConcat",{enumerable:!0,get:function(){return l.hexConcat}}),Object.defineProperty(n,"hexDataSlice",{enumerable:!0,get:function(){return l.hexDataSlice}}),Object.defineProperty(n,"hexDataLength",{enumerable:!0,get:function(){return l.hexDataLength}}),Object.defineProperty(n,"hexlify",{enumerable:!0,get:function(){return l.hexlify}}),Object.defineProperty(n,"hexStripZeros",{enumerable:!0,get:function(){return l.hexStripZeros}}),Object.defineProperty(n,"hexValue",{enumerable:!0,get:function(){return l.hexValue}}),Object.defineProperty(n,"hexZeroPad",{enumerable:!0,get:function(){return l.hexZeroPad}}),Object.defineProperty(n,"isBytes",{enumerable:!0,get:function(){return l.isBytes}}),Object.defineProperty(n,"isBytesLike",{enumerable:!0,get:function(){return l.isBytesLike}}),Object.defineProperty(n,"isHexString",{enumerable:!0,get:function(){return l.isHexString}}),Object.defineProperty(n,"joinSignature",{enumerable:!0,get:function(){return l.joinSignature}}),Object.defineProperty(n,"zeroPad",{enumerable:!0,get:function(){return l.zeroPad}}),Object.defineProperty(n,"splitSignature",{enumerable:!0,get:function(){return l.splitSignature}}),Object.defineProperty(n,"stripZeros",{enumerable:!0,get:function(){return l.stripZeros}});var c=Fne;Object.defineProperty(n,"_TypedDataEncoder",{enumerable:!0,get:function(){return c._TypedDataEncoder}}),Object.defineProperty(n,"dnsEncode",{enumerable:!0,get:function(){return c.dnsEncode}}),Object.defineProperty(n,"hashMessage",{enumerable:!0,get:function(){return c.hashMessage}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return c.id}}),Object.defineProperty(n,"isValidName",{enumerable:!0,get:function(){return c.isValidName}}),Object.defineProperty(n,"namehash",{enumerable:!0,get:function(){return c.namehash}});var u=zne;Object.defineProperty(n,"defaultPath",{enumerable:!0,get:function(){return u.defaultPath}}),Object.defineProperty(n,"entropyToMnemonic",{enumerable:!0,get:function(){return u.entropyToMnemonic}}),Object.defineProperty(n,"getAccountPath",{enumerable:!0,get:function(){return u.getAccountPath}}),Object.defineProperty(n,"HDNode",{enumerable:!0,get:function(){return u.HDNode}}),Object.defineProperty(n,"isValidMnemonic",{enumerable:!0,get:function(){return u.isValidMnemonic}}),Object.defineProperty(n,"mnemonicToEntropy",{enumerable:!0,get:function(){return u.mnemonicToEntropy}}),Object.defineProperty(n,"mnemonicToSeed",{enumerable:!0,get:function(){return u.mnemonicToSeed}});var h=Une;Object.defineProperty(n,"getJsonWalletAddress",{enumerable:!0,get:function(){return h.getJsonWalletAddress}});var p=Vne;Object.defineProperty(n,"keccak256",{enumerable:!0,get:function(){return p.keccak256}});var m=Hne;Object.defineProperty(n,"Logger",{enumerable:!0,get:function(){return m.Logger}});var y=TP;Object.defineProperty(n,"computeHmac",{enumerable:!0,get:function(){return y.computeHmac}}),Object.defineProperty(n,"ripemd160",{enumerable:!0,get:function(){return y.ripemd160}}),Object.defineProperty(n,"sha256",{enumerable:!0,get:function(){return y.sha256}}),Object.defineProperty(n,"sha512",{enumerable:!0,get:function(){return y.sha512}});var g=Wne;Object.defineProperty(n,"solidityKeccak256",{enumerable:!0,get:function(){return g.keccak256}}),Object.defineProperty(n,"solidityPack",{enumerable:!0,get:function(){return g.pack}}),Object.defineProperty(n,"soliditySha256",{enumerable:!0,get:function(){return g.sha256}});var x=Gne;Object.defineProperty(n,"randomBytes",{enumerable:!0,get:function(){return x.randomBytes}}),Object.defineProperty(n,"shuffled",{enumerable:!0,get:function(){return x.shuffled}});var v=jne;Object.defineProperty(n,"checkProperties",{enumerable:!0,get:function(){return v.checkProperties}}),Object.defineProperty(n,"deepCopy",{enumerable:!0,get:function(){return v.deepCopy}}),Object.defineProperty(n,"defineReadOnly",{enumerable:!0,get:function(){return v.defineReadOnly}}),Object.defineProperty(n,"getStatic",{enumerable:!0,get:function(){return v.getStatic}}),Object.defineProperty(n,"resolveProperties",{enumerable:!0,get:function(){return v.resolveProperties}}),Object.defineProperty(n,"shallowCopy",{enumerable:!0,get:function(){return v.shallowCopy}});var b=r(qne);n.RLP=b;var w=Xne;Object.defineProperty(n,"computePublicKey",{enumerable:!0,get:function(){return w.computePublicKey}}),Object.defineProperty(n,"recoverPublicKey",{enumerable:!0,get:function(){return w.recoverPublicKey}}),Object.defineProperty(n,"SigningKey",{enumerable:!0,get:function(){return w.SigningKey}});var A=PP;Object.defineProperty(n,"formatBytes32String",{enumerable:!0,get:function(){return A.formatBytes32String}}),Object.defineProperty(n,"nameprep",{enumerable:!0,get:function(){return A.nameprep}}),Object.defineProperty(n,"parseBytes32String",{enumerable:!0,get:function(){return A.parseBytes32String}}),Object.defineProperty(n,"_toEscapedUtf8String",{enumerable:!0,get:function(){return A._toEscapedUtf8String}}),Object.defineProperty(n,"toUtf8Bytes",{enumerable:!0,get:function(){return A.toUtf8Bytes}}),Object.defineProperty(n,"toUtf8CodePoints",{enumerable:!0,get:function(){return A.toUtf8CodePoints}}),Object.defineProperty(n,"toUtf8String",{enumerable:!0,get:function(){return A.toUtf8String}}),Object.defineProperty(n,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return A.Utf8ErrorFuncs}});var T=Kne;Object.defineProperty(n,"accessListify",{enumerable:!0,get:function(){return T.accessListify}}),Object.defineProperty(n,"computeAddress",{enumerable:!0,get:function(){return T.computeAddress}}),Object.defineProperty(n,"parseTransaction",{enumerable:!0,get:function(){return T.parse}}),Object.defineProperty(n,"recoverAddress",{enumerable:!0,get:function(){return T.recoverAddress}}),Object.defineProperty(n,"serializeTransaction",{enumerable:!0,get:function(){return T.serialize}}),Object.defineProperty(n,"TransactionTypes",{enumerable:!0,get:function(){return T.TransactionTypes}});var D=$ne;Object.defineProperty(n,"commify",{enumerable:!0,get:function(){return D.commify}}),Object.defineProperty(n,"formatEther",{enumerable:!0,get:function(){return D.formatEther}}),Object.defineProperty(n,"parseEther",{enumerable:!0,get:function(){return D.parseEther}}),Object.defineProperty(n,"formatUnits",{enumerable:!0,get:function(){return D.formatUnits}}),Object.defineProperty(n,"parseUnits",{enumerable:!0,get:function(){return D.parseUnits}});var O=Yne;Object.defineProperty(n,"verifyMessage",{enumerable:!0,get:function(){return O.verifyMessage}}),Object.defineProperty(n,"verifyTypedData",{enumerable:!0,get:function(){return O.verifyTypedData}});var C=Jne;Object.defineProperty(n,"_fetchData",{enumerable:!0,get:function(){return C._fetchData}}),Object.defineProperty(n,"fetchJson",{enumerable:!0,get:function(){return C.fetchJson}}),Object.defineProperty(n,"poll",{enumerable:!0,get:function(){return C.poll}});var B=TP;Object.defineProperty(n,"SupportedAlgorithm",{enumerable:!0,get:function(){return B.SupportedAlgorithm}});var G=PP;Object.defineProperty(n,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return G.UnicodeNormalizationForm}}),Object.defineProperty(n,"Utf8ErrorReason",{enumerable:!0,get:function(){return G.Utf8ErrorReason}})})(hr);function Qne(n){var t;if(!n)return"Injected";const e=r=>{if(r.isApexWallet)return"Apex Wallet";if(r.isAvalanche)return"Core Wallet";if(r.isBackpack)return"Backpack";if(r.isBifrost)return"Bifrost Wallet";if(r.isBitKeep)return"BitKeep";if(r.isBitski)return"Bitski";if(r.isBraveWallet)return"Brave Wallet";if(r.isCoinbaseWallet)return"Coinbase Wallet";if(r.isDawn)return"Dawn Wallet";if(r.isExodus)return"Exodus";if(r.isFrame)return"Frame";if(r.isFrontier)return"Frontier Wallet";if(r.isKuCoinWallet)return"KuCoin Wallet";if(r.isMathWallet)return"MathWallet";if(r.isOneInchIOSWallet||r.isOneInchAndroidWallet)return"1inch Wallet";if(r.isOpera)return"Opera";if(r.isPhantom)return"Phantom";if(r.isPortal)return"Ripio Portal";if(r.isRainbow)return"Rainbow";if(r.isStatus)return"Status";if(r.isTally)return"Tally";if(r.isTokenPocket)return"TokenPocket";if(r.isTokenary)return"Tokenary";if(r.isTrust||r.isTrustWallet)return"Trust Wallet";if(r.isHyperPay)return"HyperPay Wallet";if(r.isMetaMask)return"MetaMask";if(r.isXDEFI)return"XDEFI Wallet";if(r.isOkxWallet||r.isOKExWallet)return"OKX Wallet"};if((t=n.providers)!=null&&t.length){const r=new Set;let i=1;for(const o of n.providers){let a=e(o);a||(a=`Unknown Wallet #${i}`,i+=1),r.add(a)}const s=[...r];return s.length?s:s[0]??"Injected"}return e(n)??"Injected"}var M1,LN=class extends FE{constructor({chains:n,options:e}={}){const t={shimDisconnect:!0,getProvider:()=>typeof window<"u"?window.ethereum:void 0,...e};super({chains:n,options:t}),kn(this,"id","injected"),kn(this,"name"),kn(this,"ready"),ki(this,M1,void 0),kn(this,"shimDisconnectKey",`${this.id}.shimDisconnect`),kn(this,"onAccountsChanged",i=>{i.length===0?this.emit("disconnect"):this.emit("change",{account:hr.getAddress(i[0])})}),kn(this,"onChainChanged",i=>{const s=Py(i),o=this.isChainUnsupported(s);this.emit("change",{chain:{id:s,unsupported:o}})}),kn(this,"onDisconnect",async i=>{var s;i.code===1013&&await this.getProvider()&&await this.getAccount()||(this.emit("disconnect"),this.options.shimDisconnect&&((s=ri().storage)==null||s.removeItem(this.shimDisconnectKey)))});const r=t.getProvider();if(typeof t.name=="string")this.name=t.name;else if(r){const i=Qne(r);t.name?this.name=t.name(i):typeof i=="string"?this.name=i:this.name=i[0]}else this.name="Injected";this.ready=!!r}async connect({chainId:n}={}){var e;try{const t=await this.getProvider();if(!t)throw new Xc;t.on&&(t.on("accountsChanged",this.onAccountsChanged),t.on("chainChanged",this.onChainChanged),t.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"});const r=await t.request({method:"eth_requestAccounts"}),i=hr.getAddress(r[0]);let s=await this.getChainId(),o=this.isChainUnsupported(s);return n&&s!==n&&(s=(await this.switchChain(n)).id,o=this.isChainUnsupported(s)),this.options.shimDisconnect&&((e=ri().storage)==null||e.setItem(this.shimDisconnectKey,!0)),{account:i,chain:{id:s,unsupported:o},provider:t}}catch(t){throw this.isUserRejectedRequestError(t)?new Su(t):t.code===-32002?new Rre(t):t}}async disconnect(){var e;const n=await this.getProvider();n!=null&&n.removeListener&&(n.removeListener("accountsChanged",this.onAccountsChanged),n.removeListener("chainChanged",this.onChainChanged),n.removeListener("disconnect",this.onDisconnect),this.options.shimDisconnect&&((e=ri().storage)==null||e.removeItem(this.shimDisconnectKey)))}async getAccount(){const n=await this.getProvider();if(!n)throw new Xc;const e=await n.request({method:"eth_accounts"});return hr.getAddress(e[0])}async getChainId(){const n=await this.getProvider();if(!n)throw new Xc;return n.request({method:"eth_chainId"}).then(Py)}async getProvider(){const n=this.options.getProvider();return n&&wv(this,M1,n),gn(this,M1)}async getSigner({chainId:n}={}){const[e,t]=await Promise.all([this.getProvider(),this.getAccount()]);return new Qp(e,n).getSigner(t)}async isAuthorized(){var n;try{if(this.options.shimDisconnect&&!((n=ri().storage)!=null&&n.getItem(this.shimDisconnectKey)))return!1;if(!await this.getProvider())throw new Xc;return!!await this.getAccount()}catch{return!1}}async switchChain(n){var r,i,s;const e=await this.getProvider();if(!e)throw new Xc;const t=hr.hexValue(n);try{return await Promise.all([e.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]}),new Promise(o=>this.on("change",({chain:a})=>{(a==null?void 0:a.id)===n&&o()}))]),this.chains.find(o=>o.id===n)??{id:n,name:`Chain ${t}`,network:`${t}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}}}catch(o){const a=this.chains.find(l=>l.id===n);if(!a)throw new Cre({chainId:n,connectorId:this.id});if(o.code===4902||((i=(r=o==null?void 0:o.data)==null?void 0:r.originalError)==null?void 0:i.code)===4902)try{if(await e.request({method:"wallet_addEthereumChain",params:[{chainId:t,chainName:a.name,nativeCurrency:a.nativeCurrency,rpcUrls:[((s=a.rpcUrls.public)==null?void 0:s.http[0])??""],blockExplorerUrls:this.getBlockExplorerUrls(a)}]}),await this.getChainId()!==n)throw new cA("User rejected switch after adding network.",{code:4001});return a}catch(l){throw this.isUserRejectedRequestError(l)?new Su(o):new Are}throw this.isUserRejectedRequestError(o)?new Su(o):new Ry(o)}}async watchAsset({address:n,decimals:e=18,image:t,symbol:r}){const i=await this.getProvider();if(!i)throw new Xc;return i.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:n,decimals:e,image:t,symbol:r}}})}isUserRejectedRequestError(n){return n.code===4001}};M1=new WeakMap;const Zne=n=>(e,t,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let c=o;if(a){const u=(l==null?void 0:l.equalityFn)||Object.is;let h=o(r.getState());c=p=>{const m=o(p);if(!u(h,m)){const y=h;a(h=m,y)}},l!=null&&l.fireImmediately&&a(h,h)}return i(c)},n(e,t,r)},ere=Zne;function tre(n){let e;try{e=n()}catch{return}return{getItem:r=>{var i;const s=a=>a===null?null:JSON.parse(a),o=(i=e.getItem(r))!=null?i:null;return o instanceof Promise?o.then(s):s(o)},setItem:(r,i)=>e.setItem(r,JSON.stringify(i)),removeItem:r=>e.removeItem(r)}}const Zp=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return Zp(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return Zp(r)(t)}}}},nre=(n,e)=>(t,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,v)=>({...v,...x}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=s.getStorage()}catch{}if(!c)return n((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...x)},r,i);const u=Zp(s.serialize),h=()=>{const x=s.partialize({...r()});let v;const b=u({state:x,version:s.version}).then(w=>c.setItem(s.name,w)).catch(w=>{v=w});if(v)throw v;return b},p=i.setState;i.setState=(x,v)=>{p(x,v),h()};const m=n((...x)=>{t(...x),h()},r,i);let y;const g=()=>{var x;if(!c)return;o=!1,a.forEach(b=>b(r()));const v=((x=s.onRehydrateStorage)==null?void 0:x.call(s,r()))||void 0;return Zp(c.getItem.bind(c))(s.name).then(b=>{if(b)return s.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate)return s.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var w;return y=s.merge(b,(w=r())!=null?w:m),t(y,!0),h()}).then(()=>{v==null||v(y,void 0),o=!0,l.forEach(b=>b(y))}).catch(b=>{v==null||v(void 0,b)})};return i.persist={setOptions:x=>{s={...s,...x},x.getStorage&&(c=x.getStorage())},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:x=>(a.add(x),()=>{a.delete(x)}),onFinishHydration:x=>(l.add(x),()=>{l.delete(x)})},g(),y||m},rre=(n,e)=>(t,r,i)=>{let s={storage:tre(()=>localStorage),partialize:g=>g,version:0,merge:(g,x)=>({...x,...g}),...e},o=!1;const a=new Set,l=new Set;let c=s.storage;if(!c)return n((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...g)},r,i);const u=()=>{const g=s.partialize({...r()});return c.setItem(s.name,{state:g,version:s.version})},h=i.setState;i.setState=(g,x)=>{h(g,x),u()};const p=n((...g)=>{t(...g),u()},r,i);let m;const y=()=>{var g;if(!c)return;o=!1,a.forEach(v=>v(r()));const x=((g=s.onRehydrateStorage)==null?void 0:g.call(s,r()))||void 0;return Zp(c.getItem.bind(c))(s.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==s.version){if(s.migrate)return s.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var b;return m=s.merge(v,(b=r())!=null?b:p),t(m,!0),u()}).then(()=>{x==null||x(m,void 0),o=!0,l.forEach(v=>v(m))}).catch(v=>{x==null||x(void 0,v)})};return i.persist={setOptions:g=>{s={...s,...g},g.storage&&(c=g.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},y(),m||p},ire=(n,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?(({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),nre(n,e)):rre(n,e),sre=ire,RP=n=>{let e;const t=new Set,r=(l,c)=>{const u=typeof l=="function"?l(e):l;if(!Object.is(u,e)){const h=e;e=c??typeof u!="object"?u:Object.assign({},e,u),t.forEach(p=>p(e,h))}},i=()=>e,a={setState:r,getState:i,subscribe:l=>(t.add(l),()=>t.delete(l)),destroy:()=>{({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}};return e=n(r,i,a),a},ore=n=>n?RP(n):RP;function NN(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;if(n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(const[r,i]of n)if(!Object.is(i,e.get(r)))return!1;return!0}if(n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(const r of n)if(!e.has(r))return!1;return!0}const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}function are(n,e,{minQuorum:t=1,pollingInterval:r=4e3,targetQuorum:i=1,stallTimeout:s}={}){if(!n.length)throw new Error("must have at least one chain");if(i<t)throw new Error("quorum cannot be lower than minQuorum");let o=[];const a={},l={};for(const c of n){let u=!1;for(const h of e){const p=h(c);p&&(u=!0,o.some(({id:m})=>m===c.id)||(o=[...o,p.chain]),a[c.id]=[...a[c.id]||[],p.provider],p.webSocketProvider&&(l[c.id]=[...l[c.id]||[],p.webSocketProvider]))}if(!u)throw new Error([`Could not find valid provider configuration for chain "${c.name}".
`,"You may need to add `jsonRpcProvider` to `configureChains` with the chain's RPC URLs.","Read more: https://wagmi.sh/core/providers/jsonRpc"].join(`
`))}return{chains:o,provider:({chainId:c})=>{const u=o.find(m=>m.id===c)??n[0],h=a[u.id];if(!h||!h[0])throw new Error(`No providers configured for chain "${u.id}"`);let p;return h.length===1?p=h[0]():p=DN(i,t,h,{stallTimeout:s}),u.id===42220&&(p.formatter.formats.block={...p.formatter.formats.block,difficulty:()=>0,gasLimit:()=>0}),Object.assign(p,{chains:o,pollingInterval:r})},webSocketProvider:({chainId:c})=>{var m;const u=o.find(y=>y.id===c)??n[0],h=l[u.id];if(!h)return;const p=(m=h[0])==null?void 0:m.call(h);return p&&u.id===42220&&(p.formatter.formats.block={...p.formatter.formats.block,difficulty:()=>0,gasLimit:()=>0}),Object.assign(p||{},{chains:o})}}}function DN(n,e,t,{stallTimeout:r}){var i;try{return new xne(t.map((s,o)=>{const a=s();return{provider:a,priority:a.priority??o,stallTimeout:a.stallTimeout??r,weight:a.weight}}),n)}catch(s){if((i=s==null?void 0:s.message)!=null&&i.includes("quorum will always fail; larger than total weight")){if(n===e)throw s;return DN(n-1,e,t,{stallTimeout:r})}throw s}}var _S=(n,{find:e,replace:t})=>n&&e(n)?t(n):typeof n!="object"?n:Array.isArray(n)?n.map(r=>_S(r,{find:e,replace:t})):n instanceof Object?Object.entries(n).reduce((r,[i,s])=>({...r,[i]:_S(s,{find:e,replace:t})}),{}):n;function lre(n){const e=JSON.parse(n);return _S(e,{find:r=>r.type==="BigNumber",replace:r=>Ve.from(r.hex)})}function bS({contract:n,functionName:e,args:t=[]}){if(e in n.functions)return e;const r=(t==null?void 0:t.length)??0,i=Object.keys(n.functions).filter(s=>s.startsWith(`${e}(`)).map(s=>({name:s,fragment:hr.FunctionFragment.fromString(s)})).filter(s=>r===s.fragment.inputs.length);for(const s of i)if(t.every((a,l)=>{const c=s.fragment.inputs[l];return wS(a,c)}))return s.name;return e}function wS(n,e){const t=typeof n,r=e.type;switch(r){case"address":return hr.isAddress(n);case"bool":return t==="boolean";case"function":return t==="string";case"string":return t==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>wS(Object.values(n)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?t==="number"||t==="bigint"||Ve.isBigNumber(n):/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?t==="string"||n instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(n)&&n.every(i=>wS(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function hh(n){var e,t,r;(r=(t=(e=ri())==null?void 0:e.config.logger)==null?void 0:t.warn)==null||r.call(t,n)}function Py(n){return typeof n=="string"?Number.parseInt(n,n.trim().substring(0,2)==="0x"?16:10):typeof n=="bigint"?Number(n):n}function IP(n,e){return n.slice(0,e).join(".")||"."}function kP(n,e){const{length:t}=n;for(let r=0;r<t;++r)if(n[r]===e)return r+1;return 0}function cre(n,e){const t=typeof n=="function",r=typeof e=="function",i=[],s=[];return function(a,l){if(typeof l=="object")if(i.length){const c=kP(i,this);c===0?i[i.length]=this:(i.splice(c),s.splice(c)),s[s.length]=a;const u=kP(i,l);if(u!==0)return r?e.call(this,a,l,IP(s,u)):`[ref=${IP(s,u)}]`}else i[0]=l,s[0]=a;return t?n.call(this,a,l):l}}function ure(n,e,t,r){return JSON.stringify(n,cre(e,r),t??void 0)}var ON={getItem:n=>"",setItem:(n,e)=>null,removeItem:n=>null};function BN({deserialize:n=lre,key:e="wagmi",serialize:t=ure,storage:r}){return{...r,getItem:(i,s=null)=>{const o=r.getItem(`${e}.${i}`);try{return o?n(o):s}catch(a){return console.warn(a),s}},setItem:(i,s)=>{if(s===null)r.removeItem(`${e}.${i}`);else try{r.setItem(`${e}.${i}`,t(s))}catch(o){console.error(o)}},removeItem:i=>r.removeItem(`${e}.${i}`)}}var LP="store",Wf,S0,SS,FN,fre=class{constructor({autoConnect:n=!1,connectors:e=[new LN],provider:t,storage:r=BN({storage:typeof window<"u"?window.localStorage:ON}),logger:i={warn:console.warn},webSocketProvider:s}){var l,c;mw(this,SS),this.providers=new Map,this.webSocketProviders=new Map,mw(this,Wf,void 0),mw(this,S0,void 0),this.config={autoConnect:n,connectors:e,logger:i,provider:t,storage:r,webSocketProvider:s};let o="disconnected",a;if(n)try{const u=r.getItem(LP),h=(l=u==null?void 0:u.state)==null?void 0:l.data;o=h!=null&&h.account?"reconnecting":"connecting",a=(c=h==null?void 0:h.chain)==null?void 0:c.id}catch{}this.store=ore(ere(sre(()=>({connectors:typeof e=="function"?e():e,provider:this.getProvider({chainId:a}),status:o,webSocketProvider:this.getWebSocketProvider({chainId:a})}),{name:LP,storage:r,partialize:u=>{var h,p;return{...n&&{data:{account:(h=u==null?void 0:u.data)==null?void 0:h.account,chain:(p=u==null?void 0:u.data)==null?void 0:p.chain}},chains:u==null?void 0:u.chains}},version:2}))),this.storage=r,Ix(this,S0,r==null?void 0:r.getItem("wallet")),Z$(this,SS,FN).call(this),n&&typeof window<"u"&&setTimeout(async()=>await this.autoConnect(),0)}get chains(){return this.store.getState().chains}get connectors(){return this.store.getState().connectors}get connector(){return this.store.getState().connector}get data(){return this.store.getState().data}get error(){return this.store.getState().error}get lastUsedChainId(){var n,e;return(e=(n=this.data)==null?void 0:n.chain)==null?void 0:e.id}get provider(){return this.store.getState().provider}get status(){return this.store.getState().status}get subscribe(){return this.store.subscribe}get webSocketProvider(){return this.store.getState().webSocketProvider}setState(n){const e=typeof n=="function"?n(this.store.getState()):n;this.store.setState(e,!0)}clearState(){this.setState(n=>({...n,chains:void 0,connector:void 0,data:void 0,error:void 0,status:"disconnected"}))}async destroy(){var n,e;this.connector&&await((e=(n=this.connector).disconnect)==null?void 0:e.call(n)),Ix(this,Wf,!1),this.clearState(),this.store.destroy()}async autoConnect(){if(pw(this,Wf))return;Ix(this,Wf,!0),this.setState(t=>{var r;return{...t,status:(r=t.data)!=null&&r.account?"reconnecting":"connecting"}});const n=pw(this,S0)?[...this.connectors].sort(t=>t.id===pw(this,S0)?-1:1):this.connectors;let e=!1;for(const t of n){if(!t.ready||!t.isAuthorized||!await t.isAuthorized())continue;const i=await t.connect();this.setState(s=>({...s,connector:t,chains:t==null?void 0:t.chains,data:i,status:"connected"})),e=!0;break}return e||this.setState(t=>({...t,data:void 0,status:"disconnected"})),Ix(this,Wf,!1),this.data}getProvider({bust:n,chainId:e}={}){let t=this.providers.get(e??-1);if(t&&!n)return t;const{provider:r}=this.config;return t=typeof r=="function"?r({chainId:e}):r,this.providers.set(e??-1,t),t}getWebSocketProvider({bust:n,chainId:e}={}){let t=this.webSocketProviders.get(e??-1);if(t&&!n)return t;const{webSocketProvider:r}=this.config;return t=typeof r=="function"?r({chainId:e}):r,t&&this.webSocketProviders.set(e??-1,t),t}setLastUsedConnector(n=null){var e;(e=this.storage)==null||e.setItem("wallet",n)}};Wf=new WeakMap;S0=new WeakMap;SS=new WeakSet;FN=function(){const n=a=>{this.setState(l=>({...l,data:{...l.data,...a}}))},e=()=>{this.clearState()},t=a=>{this.setState(l=>({...l,error:a}))};this.store.subscribe(({connector:a})=>a,(a,l)=>{var c,u,h,p,m,y;(c=l==null?void 0:l.off)==null||c.call(l,"change",n),(u=l==null?void 0:l.off)==null||u.call(l,"disconnect",e),(h=l==null?void 0:l.off)==null||h.call(l,"error",t),a&&((p=a.on)==null||p.call(a,"change",n),(m=a.on)==null||m.call(a,"disconnect",e),(y=a.on)==null||y.call(a,"error",t))});const{provider:r,webSocketProvider:i}=this.config;(typeof r=="function"||typeof i=="function")&&this.store.subscribe(({data:a})=>{var l;return(l=a==null?void 0:a.chain)==null?void 0:l.id},a=>{this.setState(l=>({...l,provider:this.getProvider({bust:!0,chainId:a}),webSocketProvider:this.getWebSocketProvider({bust:!0,chainId:a})}))})};var MS;function hre(n){const e=new fre(n);return MS=e,e}function ri(){if(!MS)throw new Error("No wagmi client found. Ensure you have set up a client: https://wagmi.sh/react/client");return MS}async function NP({chainId:n,connector:e}){const t=ri(),r=t.connector;if(r&&e.id===r.id)throw new Tre;try{t.setState(s=>({...s,status:"connecting"}));const i=await e.connect({chainId:n});return t.setLastUsedConnector(e.id),t.setState(s=>({...s,connector:e,chains:e==null?void 0:e.chains,data:i,status:"connected"})),t.storage.setItem("connected",!0),{...i,connector:e}}catch(i){throw t.setState(s=>({...s,status:s.connector?"connected":"disconnected"})),i}}async function dre(){const n=ri();n.connector&&await n.connector.disconnect(),n.clearState(),n.storage.removeItem("connected")}var pre=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],mre=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],gre=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}];function E1({address:n,abi:e,signerOrProvider:t}){return new Kee(n,e,t)}function Ju({chainId:n}={}){const e=ri();return n&&e.getProvider({chainId:n})||e.provider}async function xre({allowFailure:n=!0,chainId:e,contracts:t,overrides:r}){var u;const i=Ju({chainId:e});if(!i.chains)throw new DP;const s=i.chains.find(h=>h.id===e)||i.chains[0];if(!s)throw new DP;if(!((u=s==null?void 0:s.contracts)!=null&&u.multicall3))throw new ES({chain:s});if(typeof(r==null?void 0:r.blockTag)=="number"&&(r==null?void 0:r.blockTag)<(s.contracts.multicall3.blockCreated??0))throw new ES({blockNumber:r==null?void 0:r.blockTag,chain:s});const o=E1({address:s.contracts.multicall3.address,abi:gre,signerOrProvider:i}),l=[t.map(({address:h,abi:p,functionName:m,...y})=>{const{args:g}=y||{},x=E1({address:h,abi:p}),v=g??[],b=bS({contract:x,functionName:m,args:g});try{x[b]||hh(`"${b}" is not in the interface for contract "${h}"`);const A=x.interface.encodeFunctionData(b,v);return{target:h,allowFailure:n,callData:A}}catch(w){if(!n)throw w;return{target:h,allowFailure:n,callData:"0x"}}}),...r?[r]:[]];return(await o.aggregate3(...l)).map(({returnData:h,success:p},m)=>{const{address:y,abi:g,functionName:x,...v}=t[m],b=E1({address:y,abi:g}),w=v.args,A=bS({contract:b,functionName:x,args:w});if(!p){let T;try{b.interface.decodeFunctionResult(A,h)}catch(D){if(T=new AS({address:y,args:w,chainId:s.id,functionName:A,errorMessage:D.message}),!n)throw T;hh(T.message)}return null}if(h==="0x"){const T=new HN({address:y,args:w,chainId:s.id,functionName:A});if(!n)throw T;return hh(T.message),null}try{const T=b.interface.decodeFunctionResult(A,h);return Array.isArray(T)&&T.length===1?T[0]:T}catch(T){const D=new uA({address:y,args:w,chainId:s.id,functionName:A,errorMessage:T.message});if(!n)throw D;return hh(D.message),null}})}async function yre({address:n,chainId:e,abi:t,functionName:r,overrides:i,...s}){const o=Ju({chainId:e}),a=E1({address:n,abi:t,signerOrProvider:o}),l=s.args,c=bS({contract:a,functionName:r,args:l}),u=a[c];if(!u)throw new Pre({address:n,functionName:c});const h=[...l??[],...i?[i]:[]];return u==null?void 0:u(...h)}async function vre({allowFailure:n=!0,contracts:e,overrides:t}){try{const r=Ju(),i=e.reduce((l,c,u)=>{const h=c.chainId??r.network.chainId;return{...l,[h]:[...l[h]||[],{contract:c,index:u}]}},{}),s=()=>Object.entries(i).map(([l,c])=>xre({allowFailure:n,chainId:parseInt(l),contracts:c.map(({contract:u})=>u),overrides:t}));let o;n?o=(await Promise.allSettled(s())).map(l=>{if(l.status==="fulfilled")return l.value;if(l.reason instanceof ES)throw hh(l.reason.message),l.reason;return null}).flat():o=(await Promise.all(s())).flat();const a=Object.values(i).map(l=>l.map(({index:c})=>c)).flat();return o.reduce((l,c,u)=>(l&&(l[a[u]]=c),l),[])}catch(r){if(r instanceof uA||r instanceof HN||r instanceof AS)throw r;const i=()=>e.map(s=>yre({...s,overrides:t}));return n?(await Promise.allSettled(i())).map((s,o)=>{if(s.status==="fulfilled")return s.value;const{address:a,args:l,chainId:c,functionName:u}=e[o],h=new AS({address:a,functionName:u,chainId:c??1,args:l,errorMessage:s.reason});return hh(h.message),null}):await Promise.all(i())}}async function _re({address:n,chainId:e}){return await Ju({chainId:e}).getAvatar(n)}async function bre({address:n,chainId:e}){return Ju({chainId:e}).lookupAddress(hr.getAddress(n))}async function wre({address:n,chainId:e,formatUnits:t,token:r}){const i=ri(),s=Ju({chainId:e});if(r){const c=async({abi:u})=>{const h={abi:u,address:r,chainId:e},[p,m,y]=await vre({allowFailure:!1,contracts:[{...h,functionName:"balanceOf",args:[n]},{...h,functionName:"decimals"},{...h,functionName:"symbol"}]});return{decimals:m,formatted:hr.formatUnits(p??"0",t??m),symbol:y,value:p}};try{return await c({abi:pre})}catch(u){if(u instanceof uA){const{symbol:h,...p}=await c({abi:mre});return{symbol:hr.parseBytes32String(h),...p}}throw u}}const o=[...i.provider.chains||[],...i.chains??[]],a=await s.getBalance(n),l=o.find(c=>c.id===s.network.chainId);return{decimals:(l==null?void 0:l.nativeCurrency.decimals)??18,formatted:hr.formatUnits(a??"0",t??"ether"),symbol:(l==null?void 0:l.nativeCurrency.symbol)??"ETH",value:a}}function zN(){const{data:n,connector:e,status:t}=ri();switch(t){case"connected":return{address:n==null?void 0:n.account,connector:e,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:t};case"reconnecting":return{address:n==null?void 0:n.account,connector:e,isConnected:!!(n!=null&&n.account),isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:t};case"connecting":return{address:n==null?void 0:n.account,connector:e,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:t};case"disconnected":return{address:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:t}}}function UN(){var i,s,o;const n=ri(),e=(s=(i=n.data)==null?void 0:i.chain)==null?void 0:s.id,t=n.chains??[],r=[...n.provider.chains||[],...t].find(a=>a.id===e)??{id:e,name:`Chain ${e}`,network:`${e}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}};return{chain:e?{...r,...(o=n.data)==null?void 0:o.chain,id:e}:void 0,chains:t}}async function Sre({chainId:n}){const{connector:e}=ri();if(!e)throw new Xc;if(!e.switchChain)throw new Ire({connector:e});return e.switchChain(n)}function Mre(n,{selector:e=t=>t}={}){const t=ri(),r=()=>n(zN());return t.subscribe(({data:s,connector:o,status:a})=>e({address:s==null?void 0:s.account,connector:o,status:a}),r,{equalityFn:NN})}function Ere(n,{selector:e=t=>t}={}){const t=ri(),r=()=>n(UN());return t.subscribe(({data:s,chains:o})=>{var a;return e({chainId:(a=s==null?void 0:s.chain)==null?void 0:a.id,chains:o})},r,{equalityFn:NN})}var VN=class extends Error{constructor(n,e){const{cause:t,code:r,data:i}=e;if(!Number.isInteger(r))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.cause=t,this.code=r,this.data=i}},cA=class extends VN{constructor(n,e){const{cause:t,code:r,data:i}=e;if(!(Number.isInteger(r)&&r>=1e3&&r<=4999))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(n,{cause:t,code:r,data:i})}},Are=class extends Error{constructor(){super(...arguments),this.name="AddChainError",this.message="Error adding chain"}},ES=class extends Error{constructor({blockNumber:n,chain:e}){super(`Chain "${e.name}" does not support multicall${n?` on block ${n}`:""}.`),this.name="ChainDoesNotSupportMulticall"}},Cre=class extends Error{constructor({chainId:n,connectorId:e}){super(`Chain "${n}" not configured for connector "${e}".`),this.name="ChainNotConfigured"}},Tre=class extends Error{constructor(){super(...arguments),this.name="ConnectorAlreadyConnectedError",this.message="Connector already connected"}},Xc=class extends Error{constructor(){super(...arguments),this.name="ConnectorNotFoundError",this.message="Connector not found"}},Pre=class extends Error{constructor({address:n,chainId:e,functionName:t}){var a;const{chains:r,network:i}=Ju(),s=r==null?void 0:r.find(({id:l})=>l===(e||i.chainId)),o=(a=s==null?void 0:s.blockExplorers)==null?void 0:a.default;super([`Function "${t}" on contract "${n}" does not exist.`,...o?["",`${o==null?void 0:o.name}: ${o==null?void 0:o.url}/address/${n}#readContract`]:[]].join(`
`)),this.name="ContractMethodDoesNotExistError"}},HN=class extends Error{constructor({address:n,args:e,chainId:t,functionName:r}){super(["Contract read returned an empty response. This could be due to any of the following:",`- The contract does not have the function "${r}",`,"- The parameters passed to the contract function may be invalid, or","- The address is not a contract.","","Config:",JSON.stringify({address:n,abi:"...",functionName:r,chainId:t,args:e},null,2)].join(`
`)),this.name="ContractMethodNoResultError"}},AS=class extends Error{constructor({address:n,args:e,chainId:t,functionName:r,errorMessage:i}){super(["Contract method reverted with an error.","","Config:",JSON.stringify({address:n,abi:"...",functionName:r,chainId:t,args:e},null,2),"",`Details: ${i}`].join(`
`)),this.name="ContractMethodRevertedError"}},uA=class extends Error{constructor({address:n,args:e,chainId:t,functionName:r,errorMessage:i}){super(["Failed to decode contract function result.","","Config:",JSON.stringify({address:n,abi:"...",functionName:r,chainId:t,args:e},null,2),"",`Details: ${i}`].join(`
`)),this.name="ContractResultDecodeError"}},DP=class extends Error{constructor(){super(...arguments),this.name="ProviderChainsNotFound",this.message=["No chains were found on the wagmi provider. Some functions that require a chain may not work.","","It is recommended to add a list of chains to the provider in `createClient`.","","Example:","","```","import { getDefaultProvider } from 'ethers'","import { chain, createClient } from 'wagmi'","","createClient({","  provider: Object.assign(getDefaultProvider(), { chains: [chain.mainnet] })","})","```"].join(`
`)}},Rre=class extends VN{constructor(n){super("Resource unavailable",{cause:n,code:-32002}),this.name="ResourceUnavailable"}},Ry=class extends cA{constructor(n){super("Error switching chain",{cause:n,code:4902}),this.name="SwitchChainError"}},Ire=class extends Error{constructor({connector:n}){super(`"${n.name}" does not support programmatic chain switching.`),this.name="SwitchChainNotSupportedError"}},Su=class extends cA{constructor(n){super("User rejected request",{cause:n,code:4001}),this.name="UserRejectedRequestError"}},OP={},kre={get exports(){return OP},set exports(n){OP=n}},WN={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv=_e,Lre=Z3;function Nre(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Dre=typeof Object.is=="function"?Object.is:Nre,Ore=Lre.useSyncExternalStore,Bre=Fv.useRef,Fre=Fv.useEffect,zre=Fv.useMemo,Ure=Fv.useDebugValue;WN.useSyncExternalStoreWithSelector=function(n,e,t,r,i){var s=Bre(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=zre(function(){function l(m){if(!c){if(c=!0,u=m,m=r(m),i!==void 0&&o.hasValue){var y=o.value;if(i(y,m))return h=y}return h=m}if(y=h,Dre(u,m))return y;var g=r(m);return i!==void 0&&i(y,g)?y:(u=m,h=g)}var c=!1,u,h,p=t===void 0?null:t;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,t,r,i]);var a=Ore(n,s[0],s[1]);return Fre(function(){o.hasValue=!0,o.value=a},[a]),Ure(a),a};(function(n){n.exports=WN})(kre);function Vre({queryClient:n=new vY({defaultOptions:{queries:{cacheTime:1e3*60*60*24,networkMode:"offlineFirst",refetchOnWindowFocus:!1,retry:0},mutations:{networkMode:"offlineFirst"}}}),storage:e=BN({storage:typeof window<"u"&&window.localStorage?window.localStorage:ON}),persister:t=typeof window<"u"?eY({key:"cache",storage:e,serialize:i=>i,deserialize:i=>i}):void 0,...r}){const i=hre({...r,storage:e});return t&&HY({queryClient:n,persister:t,dehydrateOptions:{shouldDehydrateQuery:s=>s.cacheTime!==0&&s.queryKey[0].persist!==!1}}),Object.assign(i,{queryClient:n})}var Hre=_e.createContext(void 0),Wre=_e.createContext(void 0);function Gre({children:n,client:e}){return _e.createElement(Hre.Provider,{children:_e.createElement(FY,{children:n,client:e.queryClient,context:Wre}),value:e})}const jre="modulepreload",qre=function(n){return"/"+n},BP={},fA=function(e,t,r){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=qre(s),s in BP)return;BP[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const h=i[u];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":jre,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((u,h)=>{c.addEventListener("load",u),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};var GN="eip155",jN="wagmi.requestedChains",CS="wallet_addEthereumChain",Mn,Y0,A1,TS,hA,qN,C1,PS,RS,XN,Iy,dA,Gf,M0,ky,pA,Ly,mA,Ny,gA,Xre=class extends FE{constructor(n){super({...n,options:{isNewChainsStale:!0,...n.options}}),ki(this,A1),ki(this,hA),ki(this,C1),ki(this,RS),ki(this,Iy),ki(this,Gf),ki(this,ky),ki(this,Ly),ki(this,Ny),kn(this,"id","walletConnect"),kn(this,"name","WalletConnect"),kn(this,"ready",!0),ki(this,Mn,void 0),ki(this,Y0,void 0),kn(this,"onAccountsChanged",e=>{e.length===0?this.emit("disconnect"):this.emit("change",{account:hr.getAddress(e[0])})}),kn(this,"onChainChanged",e=>{const t=Number(e),r=this.isChainUnsupported(t);this.emit("change",{chain:{id:t,unsupported:r}})}),kn(this,"onDisconnect",()=>{mr(this,Gf,M0).call(this,[]),this.emit("disconnect")}),kn(this,"onDisplayUri",e=>{this.emit("message",{type:"display_uri",data:e})}),kn(this,"onConnect",()=>{this.emit("connect",{provider:gn(this,Mn)})}),mr(this,A1,TS).call(this)}async connect({chainId:n,pairingTopic:e}={}){var t;try{let r=n;if(!r){const u=ri().lastUsedChainId;u&&!this.isChainUnsupported(u)?r=u:r=(t=this.chains[0])==null?void 0:t.id}if(!r)throw new Error("No chains found on connector.");const i=await this.getProvider();mr(this,RS,XN).call(this);const s=mr(this,C1,PS).call(this);if(i.session&&s&&await i.disconnect(),!i.session||s){const u=this.chains.filter(h=>h.id!==r).map(h=>h.id);this.emit("message",{type:"connecting"}),await i.connect({pairingTopic:e,chains:[r],optionalChains:u}),mr(this,Gf,M0).call(this,this.chains.map(({id:h})=>h))}const o=await i.enable(),a=hr.getAddress(o[0]),l=await this.getChainId(),c=this.isChainUnsupported(l);return{account:a,chain:{id:l,unsupported:c},provider:new Qp(i)}}catch(r){throw/user rejected/i.test(r==null?void 0:r.message)?new Su(r):r}}async disconnect(){const n=await this.getProvider();try{await n.disconnect()}catch(e){if(!/No matching key/i.test(e.message))throw e}finally{mr(this,Iy,dA).call(this),mr(this,Gf,M0).call(this,[])}}async getAccount(){const{accounts:n}=await this.getProvider();return hr.getAddress(n[0])}async getChainId(){const{chainId:n}=await this.getProvider();return n}async getProvider({chainId:n}={}){return gn(this,Mn)||await mr(this,A1,TS).call(this),n&&await this.switchChain(n),gn(this,Mn)}async getSigner({chainId:n}={}){const[e,t]=await Promise.all([this.getProvider({chainId:n}),this.getAccount()]);return new Qp(e,n).getSigner(t)}async isAuthorized(){try{const[n,e]=await Promise.all([this.getAccount(),this.getProvider()]),t=mr(this,C1,PS).call(this);if(!n)return!1;if(t&&e.session){try{await e.disconnect()}catch{}return!1}return!0}catch{return!1}}async switchChain(n){var t;const e=this.chains.find(r=>r.id===n);if(!e)throw new Ry(new Error("chain not found on connector."));try{const r=await this.getProvider(),i=mr(this,Ly,mA).call(this),s=mr(this,Ny,gA).call(this);if(!i.includes(n)&&s.includes(CS)){await r.request({method:CS,params:[{chainId:hr.hexValue(e.id),blockExplorerUrls:[(t=e.blockExplorers)==null?void 0:t.default],chainName:e.name,nativeCurrency:e.nativeCurrency,rpcUrls:[...e.rpcUrls.default.http]}]});const a=mr(this,ky,pA).call(this);a.push(n),mr(this,Gf,M0).call(this,a)}return await r.request({method:"wallet_switchEthereumChain",params:[{chainId:hr.hexValue(n)}]}),e}catch(r){const i=typeof r=="string"?r:r==null?void 0:r.message;throw/user rejected request/i.test(i)?new Su(r):new Ry(r)}}};Mn=new WeakMap;Y0=new WeakMap;A1=new WeakSet;TS=async function(){return!gn(this,Y0)&&typeof window<"u"&&wv(this,Y0,mr(this,hA,qN).call(this)),gn(this,Y0)};hA=new WeakSet;qN=async function(){const{default:n,OPTIONAL_EVENTS:e,OPTIONAL_METHODS:t}=await fA(()=>import("./index.es-137fd934.js"),["assets/index.es-137fd934.js","assets/http-de2a3e45.js"]),[r,...i]=this.chains.map(({id:s})=>s);if(r){const{projectId:s,showQrModal:o}=this.options;wv(this,Mn,await n.init({showQrModal:o,projectId:s,optionalMethods:t,optionalEvents:e,chains:[r],optionalChains:i,rpcMap:Object.fromEntries(this.chains.map(a=>[a.id,a.rpcUrls.default.http[0]]))}))}};C1=new WeakSet;PS=function(){if(mr(this,Ny,gA).call(this).includes(CS)||!this.options.isNewChainsStale)return!1;const e=mr(this,ky,pA).call(this),t=this.chains.map(({id:i})=>i),r=mr(this,Ly,mA).call(this);return r.length&&!r.some(i=>t.includes(i))?!1:!t.every(i=>e.includes(i))};RS=new WeakSet;XN=function(){gn(this,Mn)&&(mr(this,Iy,dA).call(this),gn(this,Mn).on("accountsChanged",this.onAccountsChanged),gn(this,Mn).on("chainChanged",this.onChainChanged),gn(this,Mn).on("disconnect",this.onDisconnect),gn(this,Mn).on("session_delete",this.onDisconnect),gn(this,Mn).on("display_uri",this.onDisplayUri),gn(this,Mn).on("connect",this.onConnect))};Iy=new WeakSet;dA=function(){gn(this,Mn)&&(gn(this,Mn).removeListener("accountsChanged",this.onAccountsChanged),gn(this,Mn).removeListener("chainChanged",this.onChainChanged),gn(this,Mn).removeListener("disconnect",this.onDisconnect),gn(this,Mn).removeListener("session_delete",this.onDisconnect),gn(this,Mn).removeListener("display_uri",this.onDisplayUri),gn(this,Mn).removeListener("connect",this.onConnect))};Gf=new WeakSet;M0=function(n){localStorage.setItem(jN,JSON.stringify(n))};ky=new WeakSet;pA=function(){const n=localStorage.getItem(jN);return n?JSON.parse(n):[]};Ly=new WeakSet;mA=function(){var e,t,r;return gn(this,Mn)?((r=(t=(e=gn(this,Mn).session)==null?void 0:e.namespaces[GN])==null?void 0:t.chains)==null?void 0:r.map(i=>parseInt(i.split(":")[1]||"")))??[]:[]};Ny=new WeakSet;gA=function(){var e,t;return gn(this,Mn)?((t=(e=gn(this,Mn).session)==null?void 0:e.namespaces[GN])==null?void 0:t.methods)??[]:[]};var Kre=/(imtoken|metamask|rainbow|trust wallet|uniswap wallet|ledger)/i,E0,IS,KN,$re=class extends FE{constructor(n){super(n),ki(this,IS),kn(this,"id","walletConnectLegacy"),kn(this,"name","WalletConnectLegacy"),kn(this,"ready",!0),ki(this,E0,void 0),kn(this,"onAccountsChanged",e=>{e.length===0?this.emit("disconnect"):this.emit("change",{account:hr.getAddress(e[0])})}),kn(this,"onChainChanged",e=>{const t=Py(e),r=this.isChainUnsupported(t);this.emit("change",{chain:{id:t,unsupported:r}})}),kn(this,"onDisconnect",()=>{this.emit("disconnect")})}async connect({chainId:n}={}){var e,t;try{let r=n;if(!r){const u=ri().lastUsedChainId;u&&!this.isChainUnsupported(u)&&(r=u)}const i=await this.getProvider({chainId:r,create:!0});i.on("accountsChanged",this.onAccountsChanged),i.on("chainChanged",this.onChainChanged),i.on("disconnect",this.onDisconnect),setTimeout(()=>this.emit("message",{type:"connecting"}),0);const s=await i.enable(),o=hr.getAddress(s[0]),a=await this.getChainId(),l=this.isChainUnsupported(a),c=((t=(e=i.connector)==null?void 0:e.peerMeta)==null?void 0:t.name)??"";return Kre.test(c)&&(this.switchChain=mr(this,IS,KN)),{account:o,chain:{id:a,unsupported:l},provider:new Qp(i)}}catch(r){throw/user closed modal/i.test(r.message)?new Su(r):r}}async disconnect(){const n=await this.getProvider();await n.disconnect(),n.removeListener("accountsChanged",this.onAccountsChanged),n.removeListener("chainChanged",this.onChainChanged),n.removeListener("disconnect",this.onDisconnect),typeof localStorage<"u"&&localStorage.removeItem("walletconnect")}async getAccount(){const e=(await this.getProvider()).accounts;return hr.getAddress(e[0])}async getChainId(){const n=await this.getProvider();return Py(n.chainId)}async getProvider({chainId:n,create:e}={}){var t,r;if(!gn(this,E0)||n||e){const i=(t=this.options)!=null&&t.infuraId?{}:this.chains.reduce((o,a)=>({...o,[a.id]:a.rpcUrls.default.http[0]}),{}),s=(await fA(()=>import("./index-39642902.js"),["assets/index-39642902.js","assets/http-de2a3e45.js","assets/browser-a1ac24ac.js"])).default;wv(this,E0,new s({...this.options,chainId:n,rpc:{...i,...(r=this.options)==null?void 0:r.rpc}}))}return gn(this,E0)}async getSigner({chainId:n}={}){const[e,t]=await Promise.all([this.getProvider({chainId:n}),this.getAccount()]);return new Qp(e,n).getSigner(t)}async isAuthorized(){try{return!!await this.getAccount()}catch{return!1}}};E0=new WeakMap;IS=new WeakSet;KN=async function(n){const e=await this.getProvider(),t=hr.hexValue(n);try{return await Promise.race([e.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]}),new Promise(r=>this.on("change",({chain:i})=>{(i==null?void 0:i.id)===n&&r(n)}))]),this.chains.find(r=>r.id===n)??{id:n,name:`Chain ${t}`,network:`${t}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}}}catch(r){const i=typeof r=="string"?r:r==null?void 0:r.message;throw/user rejected request/i.test(i)?new Su(r):new Ry(r)}};function Yre({priority:n,rpc:e,stallTimeout:t,static:r=!0,weight:i}){return function(s){const o=e(s);return!o||o.http===""?null:{chain:{...s,rpcUrls:{...s.rpcUrls,default:{http:[o.http]}}},provider:()=>{var c,u;const a=r?une:Bv,l=new a(o.http,{ensAddress:(u=(c=s.contracts)==null?void 0:c.ensRegistry)==null?void 0:u.address,chainId:s.id,name:s.network});return Object.assign(l,{priority:n,stallTimeout:t,weight:i})},...o.webSocket&&{webSocketProvider:()=>new ane(o.webSocket,s.id)}}}}let Jre=class{constructor(e,t){this.wagmi={},this.walletConnectUri="",this.walletConnectVersion=1,this.chains=[],this.namespace="eip155",this.disconnect=dre,this.getAccount=zN,this.watchAccount=Mre,this.fetchBalance=wre,this.getNetwork=UN,this.watchNetwork=Ere,this.switchNetwork=Sre,this.fetchEnsName=bre,this.fetchEnsAvatar=_re,this.wagmi=e,this.chains=t;const{isV2:r}=this.getWalletConnectConnectors();this.walletConnectVersion=r?2:1}getDefaultConnectorChainId(e){return e.chains[0].id}getWalletConnectConnectors(){const e=this.wagmi.connectors.find(i=>i.id==="walletConnect"),t=this.wagmi.connectors.find(i=>i.id==="walletConnectLegacy"),r=e??t;if(!r)throw new Error("WalletConnectConnector or WalletConnectLegacyConnector is required");return{isV2:!!e,connector:r}}async connectWalletConnectV1(e,t){return new Promise((r,i)=>{e.once("message",async({type:s})=>{if(s==="connecting"){const o=(await e.getProvider()).connector;this.walletConnectUri=o.uri,t(o.uri),o.on("disconnect",()=>{i(Error())}),o.on("connect",()=>{r()})}})})}async connectWalletConnectV2(e,t){const r=await e.getProvider();let i="";return new Promise(s=>{r.once("display_uri",o=>{this.walletConnectUri=o,i=o,t(o)}),r.once("connect",()=>{i===this.walletConnectUri&&s()})})}getDefaultChain(){return this.chains.find(t=>t.id===1)??this.chains[0]}getConnectorById(e){const t=this.wagmi.connectors.find(r=>r.id===e);if(!t)throw new Error(`Connector for id ${e} was not found`);return t}getConnectors(){return this.wagmi.connectors.filter(e=>!e.id.includes("walletConnect"))}async connectWalletConnect(e,t){const{connector:r,isV2:i}=this.getWalletConnectConnectors(),s=t??this.getDefaultConnectorChainId(r),o=i?this.connectWalletConnectV2.bind(this):this.connectWalletConnectV1.bind(this),[a]=await Promise.all([NP({connector:r,chainId:s}),o(r,e)]);return a}async connectConnector(e,t){const r=this.getConnectorById(e),i=t??this.getDefaultConnectorChainId(r);return await NP({connector:r,chainId:i})}};const Qre="eip155";function Zre({projectId:n}){return Yre({rpc:e=>{var t;return[1,3,4,5,10,42,56,69,97,100,137,420,42161,42220,43114,80001,421611,421613,1313161554,11297108109].includes(e.id)?{http:`https://rpc.walletconnect.com/v1/?chainId=${Qre}:${e.id}&projectId=${n}`}:{http:e.rpcUrls.default.http[0],webSocket:(t=e.rpcUrls.default.webSocket)==null?void 0:t[0]}}})}function eie({chains:n,version:e,projectId:t}){const r=e===1,i=[new LN({chains:n})];return r?i.unshift(new $re({chains:n,options:{qrcode:!1}})):i.unshift(new Xre({chains:n,options:{projectId:t,showQrModal:!1}})),i}const tie=Symbol(),FP=Object.getPrototypeOf,kS=new WeakMap,nie=n=>n&&(kS.has(n)?kS.get(n):FP(n)===Object.prototype||FP(n)===Array.prototype),rie=n=>nie(n)&&n[tie]||null,zP=(n,e=!0)=>{kS.set(n,e)},Ow=n=>typeof n=="object"&&n!==null,Kc=new WeakMap,Wx=new WeakSet,iie=(n=Object.is,e=(c,u)=>new Proxy(c,u),t=c=>Ow(c)&&!Wx.has(c)&&(Array.isArray(c)||!(Symbol.iterator in c))&&!(c instanceof WeakMap)&&!(c instanceof WeakSet)&&!(c instanceof Error)&&!(c instanceof Number)&&!(c instanceof Date)&&!(c instanceof String)&&!(c instanceof RegExp)&&!(c instanceof ArrayBuffer),r=c=>{switch(c.status){case"fulfilled":return c.value;case"rejected":throw c.reason;default:throw c}},i=new WeakMap,s=(c,u,h=r)=>{const p=i.get(c);if((p==null?void 0:p[0])===u)return p[1];const m=Array.isArray(c)?[]:Object.create(Object.getPrototypeOf(c));return zP(m,!0),i.set(c,[u,m]),Reflect.ownKeys(c).forEach(y=>{if(Object.getOwnPropertyDescriptor(m,y))return;const g=Reflect.get(c,y),x={value:g,enumerable:!0,configurable:!0};if(Wx.has(g))zP(g,!1);else if(g instanceof Promise)delete x.value,x.get=()=>h(g);else if(Kc.has(g)){const[v,b]=Kc.get(g);x.value=s(v,b(),h)}Object.defineProperty(m,y,x)}),m},o=new WeakMap,a=[1,1],l=c=>{if(!Ow(c))throw new Error("object required");const u=o.get(c);if(u)return u;let h=a[0];const p=new Set,m=(B,G=++a[0])=>{h!==G&&(h=G,p.forEach(Y=>Y(B,G)))};let y=a[1];const g=(B=++a[1])=>(y!==B&&!p.size&&(y=B,v.forEach(([G])=>{const Y=G[1](B);Y>h&&(h=Y)})),h),x=B=>(G,Y)=>{const oe=[...G];oe[1]=[B,...oe[1]],m(oe,Y)},v=new Map,b=(B,G)=>{if(({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&v.has(B))throw new Error("prop listener already exists");if(p.size){const Y=G[3](x(B));v.set(B,[G,Y])}else v.set(B,[G])},w=B=>{var G;const Y=v.get(B);Y&&(v.delete(B),(G=Y[1])==null||G.call(Y))},A=B=>(p.add(B),p.size===1&&v.forEach(([Y,oe],V)=>{if(({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&oe)throw new Error("remove already exists");const S=Y[3](x(V));v.set(V,[Y,S])}),()=>{p.delete(B),p.size===0&&v.forEach(([Y,oe],V)=>{oe&&(oe(),v.set(V,[Y]))})}),T=Array.isArray(c)?[]:Object.create(Object.getPrototypeOf(c)),O=e(T,{deleteProperty(B,G){const Y=Reflect.get(B,G);w(G);const oe=Reflect.deleteProperty(B,G);return oe&&m(["delete",[G],Y]),oe},set(B,G,Y,oe){const V=Reflect.has(B,G),S=Reflect.get(B,G,oe);if(V&&(n(S,Y)||o.has(Y)&&n(S,o.get(Y))))return!0;w(G),Ow(Y)&&(Y=rie(Y)||Y);let L=Y;if(Y instanceof Promise)Y.then(z=>{Y.status="fulfilled",Y.value=z,m(["resolve",[G],z])}).catch(z=>{Y.status="rejected",Y.reason=z,m(["reject",[G],z])});else{!Kc.has(Y)&&t(Y)&&(L=l(Y));const z=!Wx.has(L)&&Kc.get(L);z&&b(G,z)}return Reflect.set(B,G,L,oe),m(["set",[G],Y,S]),!0}});o.set(c,O);const C=[T,g,s,A];return Kc.set(O,C),Reflect.ownKeys(c).forEach(B=>{const G=Object.getOwnPropertyDescriptor(c,B);"value"in G&&(O[B]=c[B],delete G.value,delete G.writable),Object.defineProperty(T,B,G)}),O})=>[l,Kc,Wx,n,e,t,r,i,s,o,a],[sie]=iie();function vc(n={}){return sie(n)}function Qu(n,e,t){const r=Kc.get(n);({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&!r&&console.warn("Please use proxy object");let i;const s=[],o=r[3];let a=!1;const c=o(u=>{if(s.push(u),t){e(s.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,c()}}var $N={},zv={};zv.byteLength=lie;zv.toByteArray=uie;zv.fromByteArray=die;var jo=[],ks=[],oie=typeof Uint8Array<"u"?Uint8Array:Array,Bw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Of=0,aie=Bw.length;Of<aie;++Of)jo[Of]=Bw[Of],ks[Bw.charCodeAt(Of)]=Of;ks["-".charCodeAt(0)]=62;ks["_".charCodeAt(0)]=63;function YN(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function lie(n){var e=YN(n),t=e[0],r=e[1];return(t+r)*3/4-r}function cie(n,e,t){return(e+t)*3/4-t}function uie(n){var e,t=YN(n),r=t[0],i=t[1],s=new oie(cie(n,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=ks[n.charCodeAt(l)]<<18|ks[n.charCodeAt(l+1)]<<12|ks[n.charCodeAt(l+2)]<<6|ks[n.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=ks[n.charCodeAt(l)]<<2|ks[n.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=ks[n.charCodeAt(l)]<<10|ks[n.charCodeAt(l+1)]<<4|ks[n.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function fie(n){return jo[n>>18&63]+jo[n>>12&63]+jo[n>>6&63]+jo[n&63]}function hie(n,e,t){for(var r,i=[],s=e;s<t;s+=3)r=(n[s]<<16&16711680)+(n[s+1]<<8&65280)+(n[s+2]&255),i.push(fie(r));return i.join("")}function die(n){for(var e,t=n.length,r=t%3,i=[],s=16383,o=0,a=t-r;o<a;o+=s)i.push(hie(n,o,o+s>a?a:o+s));return r===1?(e=n[t-1],i.push(jo[e>>2]+jo[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],i.push(jo[e>>10]+jo[e>>4&63]+jo[e<<2&63]+"=")),i.join("")}var xA={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */xA.read=function(n,e,t,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,h=t?i-1:0,p=t?-1:1,m=n[e+h];for(h+=p,s=m&(1<<-u)-1,m>>=-u,u+=a;u>0;s=s*256+n[e+h],h+=p,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+n[e+h],h+=p,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(m?-1:1)*o*Math.pow(2,s-r)};xA.write=function(n,e,t,r,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,h=u>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:s-1,y=r?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?e+=p/l:e+=p*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(e*l-1)*Math.pow(2,i),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;n[t+m]=a&255,m+=y,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;n[t+m]=o&255,m+=y,o/=256,c-=8);n[t+m-y]|=g*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=zv,t=xA,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=a,n.SlowBuffer=b,n.INSPECT_MAX_BYTES=50;const i=2147483647;n.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const H=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(H,R),H.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(H){if(H>i)throw new RangeError('The value "'+H+'" is invalid for option "size"');const R=new Uint8Array(H);return Object.setPrototypeOf(R,a.prototype),R}function a(H,R,I){if(typeof H=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(H)}return l(H,R,I)}a.poolSize=8192;function l(H,R,I){if(typeof H=="string")return p(H,R);if(ArrayBuffer.isView(H))return y(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(re(H,ArrayBuffer)||H&&re(H.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(re(H,SharedArrayBuffer)||H&&re(H.buffer,SharedArrayBuffer)))return g(H,R,I);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const j=H.valueOf&&H.valueOf();if(j!=null&&j!==H)return a.from(j,R,I);const se=x(H);if(se)return se;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return a.from(H[Symbol.toPrimitive]("string"),R,I);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}a.from=function(H,R,I){return l(H,R,I)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function u(H,R,I){return c(H),H<=0?o(H):R!==void 0?typeof I=="string"?o(H).fill(R,I):o(H).fill(R):o(H)}a.alloc=function(H,R,I){return u(H,R,I)};function h(H){return c(H),o(H<0?0:v(H)|0)}a.allocUnsafe=function(H){return h(H)},a.allocUnsafeSlow=function(H){return h(H)};function p(H,R){if((typeof R!="string"||R==="")&&(R="utf8"),!a.isEncoding(R))throw new TypeError("Unknown encoding: "+R);const I=w(H,R)|0;let j=o(I);const se=j.write(H,R);return se!==I&&(j=j.slice(0,se)),j}function m(H){const R=H.length<0?0:v(H.length)|0,I=o(R);for(let j=0;j<R;j+=1)I[j]=H[j]&255;return I}function y(H){if(re(H,Uint8Array)){const R=new Uint8Array(H);return g(R.buffer,R.byteOffset,R.byteLength)}return m(H)}function g(H,R,I){if(R<0||H.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<R+(I||0))throw new RangeError('"length" is outside of buffer bounds');let j;return R===void 0&&I===void 0?j=new Uint8Array(H):I===void 0?j=new Uint8Array(H,R):j=new Uint8Array(H,R,I),Object.setPrototypeOf(j,a.prototype),j}function x(H){if(a.isBuffer(H)){const R=v(H.length)|0,I=o(R);return I.length===0||H.copy(I,0,0,R),I}if(H.length!==void 0)return typeof H.length!="number"||Q(H.length)?o(0):m(H);if(H.type==="Buffer"&&Array.isArray(H.data))return m(H.data)}function v(H){if(H>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return H|0}function b(H){return+H!=H&&(H=0),a.alloc(+H)}a.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==a.prototype},a.compare=function(R,I){if(re(R,Uint8Array)&&(R=a.from(R,R.offset,R.byteLength)),re(I,Uint8Array)&&(I=a.from(I,I.offset,I.byteLength)),!a.isBuffer(R)||!a.isBuffer(I))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===I)return 0;let j=R.length,se=I.length;for(let K=0,ne=Math.min(j,se);K<ne;++K)if(R[K]!==I[K]){j=R[K],se=I[K];break}return j<se?-1:se<j?1:0},a.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(R,I){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return a.alloc(0);let j;if(I===void 0)for(I=0,j=0;j<R.length;++j)I+=R[j].length;const se=a.allocUnsafe(I);let K=0;for(j=0;j<R.length;++j){let ne=R[j];if(re(ne,Uint8Array))K+ne.length>se.length?(a.isBuffer(ne)||(ne=a.from(ne)),ne.copy(se,K)):Uint8Array.prototype.set.call(se,ne,K);else if(a.isBuffer(ne))ne.copy(se,K);else throw new TypeError('"list" argument must be an Array of Buffers');K+=ne.length}return se};function w(H,R){if(a.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||re(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);const I=H.length,j=arguments.length>2&&arguments[2]===!0;if(!j&&I===0)return 0;let se=!1;for(;;)switch(R){case"ascii":case"latin1":case"binary":return I;case"utf8":case"utf-8":return $e(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I*2;case"hex":return I>>>1;case"base64":return lt(H).length;default:if(se)return j?-1:$e(H).length;R=(""+R).toLowerCase(),se=!0}}a.byteLength=w;function A(H,R,I){let j=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((I===void 0||I>this.length)&&(I=this.length),I<=0)||(I>>>=0,R>>>=0,I<=R))return"";for(H||(H="utf8");;)switch(H){case"hex":return X(this,R,I);case"utf8":case"utf-8":return S(this,R,I);case"ascii":return q(this,R,I);case"latin1":case"binary":return F(this,R,I);case"base64":return V(this,R,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,R,I);default:if(j)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),j=!0}}a.prototype._isBuffer=!0;function T(H,R,I){const j=H[R];H[R]=H[I],H[I]=j}a.prototype.swap16=function(){const R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let I=0;I<R;I+=2)T(this,I,I+1);return this},a.prototype.swap32=function(){const R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let I=0;I<R;I+=4)T(this,I,I+3),T(this,I+1,I+2);return this},a.prototype.swap64=function(){const R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let I=0;I<R;I+=8)T(this,I,I+7),T(this,I+1,I+6),T(this,I+2,I+5),T(this,I+3,I+4);return this},a.prototype.toString=function(){const R=this.length;return R===0?"":arguments.length===0?S(this,0,R):A.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(R){if(!a.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:a.compare(this,R)===0},a.prototype.inspect=function(){let R="";const I=n.INSPECT_MAX_BYTES;return R=this.toString("hex",0,I).replace(/(.{2})/g,"$1 ").trim(),this.length>I&&(R+=" ... "),"<Buffer "+R+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(R,I,j,se,K){if(re(R,Uint8Array)&&(R=a.from(R,R.offset,R.byteLength)),!a.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(I===void 0&&(I=0),j===void 0&&(j=R?R.length:0),se===void 0&&(se=0),K===void 0&&(K=this.length),I<0||j>R.length||se<0||K>this.length)throw new RangeError("out of range index");if(se>=K&&I>=j)return 0;if(se>=K)return-1;if(I>=j)return 1;if(I>>>=0,j>>>=0,se>>>=0,K>>>=0,this===R)return 0;let ne=K-se,Me=j-I;const Pe=Math.min(ne,Me),Be=this.slice(se,K),Ze=R.slice(I,j);for(let Xe=0;Xe<Pe;++Xe)if(Be[Xe]!==Ze[Xe]){ne=Be[Xe],Me=Ze[Xe];break}return ne<Me?-1:Me<ne?1:0};function D(H,R,I,j,se){if(H.length===0)return-1;if(typeof I=="string"?(j=I,I=0):I>2147483647?I=2147483647:I<-2147483648&&(I=-2147483648),I=+I,Q(I)&&(I=se?0:H.length-1),I<0&&(I=H.length+I),I>=H.length){if(se)return-1;I=H.length-1}else if(I<0)if(se)I=0;else return-1;if(typeof R=="string"&&(R=a.from(R,j)),a.isBuffer(R))return R.length===0?-1:O(H,R,I,j,se);if(typeof R=="number")return R=R&255,typeof Uint8Array.prototype.indexOf=="function"?se?Uint8Array.prototype.indexOf.call(H,R,I):Uint8Array.prototype.lastIndexOf.call(H,R,I):O(H,[R],I,j,se);throw new TypeError("val must be string, number or Buffer")}function O(H,R,I,j,se){let K=1,ne=H.length,Me=R.length;if(j!==void 0&&(j=String(j).toLowerCase(),j==="ucs2"||j==="ucs-2"||j==="utf16le"||j==="utf-16le")){if(H.length<2||R.length<2)return-1;K=2,ne/=2,Me/=2,I/=2}function Pe(Ze,Xe){return K===1?Ze[Xe]:Ze.readUInt16BE(Xe*K)}let Be;if(se){let Ze=-1;for(Be=I;Be<ne;Be++)if(Pe(H,Be)===Pe(R,Ze===-1?0:Be-Ze)){if(Ze===-1&&(Ze=Be),Be-Ze+1===Me)return Ze*K}else Ze!==-1&&(Be-=Be-Ze),Ze=-1}else for(I+Me>ne&&(I=ne-Me),Be=I;Be>=0;Be--){let Ze=!0;for(let Xe=0;Xe<Me;Xe++)if(Pe(H,Be+Xe)!==Pe(R,Xe)){Ze=!1;break}if(Ze)return Be}return-1}a.prototype.includes=function(R,I,j){return this.indexOf(R,I,j)!==-1},a.prototype.indexOf=function(R,I,j){return D(this,R,I,j,!0)},a.prototype.lastIndexOf=function(R,I,j){return D(this,R,I,j,!1)};function C(H,R,I,j){I=Number(I)||0;const se=H.length-I;j?(j=Number(j),j>se&&(j=se)):j=se;const K=R.length;j>K/2&&(j=K/2);let ne;for(ne=0;ne<j;++ne){const Me=parseInt(R.substr(ne*2,2),16);if(Q(Me))return ne;H[I+ne]=Me}return ne}function B(H,R,I,j){return at($e(R,H.length-I),H,I,j)}function G(H,R,I,j){return at(je(R),H,I,j)}function Y(H,R,I,j){return at(lt(R),H,I,j)}function oe(H,R,I,j){return at(tt(R,H.length-I),H,I,j)}a.prototype.write=function(R,I,j,se){if(I===void 0)se="utf8",j=this.length,I=0;else if(j===void 0&&typeof I=="string")se=I,j=this.length,I=0;else if(isFinite(I))I=I>>>0,isFinite(j)?(j=j>>>0,se===void 0&&(se="utf8")):(se=j,j=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const K=this.length-I;if((j===void 0||j>K)&&(j=K),R.length>0&&(j<0||I<0)||I>this.length)throw new RangeError("Attempt to write outside buffer bounds");se||(se="utf8");let ne=!1;for(;;)switch(se){case"hex":return C(this,R,I,j);case"utf8":case"utf-8":return B(this,R,I,j);case"ascii":case"latin1":case"binary":return G(this,R,I,j);case"base64":return Y(this,R,I,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,R,I,j);default:if(ne)throw new TypeError("Unknown encoding: "+se);se=(""+se).toLowerCase(),ne=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function V(H,R,I){return R===0&&I===H.length?e.fromByteArray(H):e.fromByteArray(H.slice(R,I))}function S(H,R,I){I=Math.min(H.length,I);const j=[];let se=R;for(;se<I;){const K=H[se];let ne=null,Me=K>239?4:K>223?3:K>191?2:1;if(se+Me<=I){let Pe,Be,Ze,Xe;switch(Me){case 1:K<128&&(ne=K);break;case 2:Pe=H[se+1],(Pe&192)===128&&(Xe=(K&31)<<6|Pe&63,Xe>127&&(ne=Xe));break;case 3:Pe=H[se+1],Be=H[se+2],(Pe&192)===128&&(Be&192)===128&&(Xe=(K&15)<<12|(Pe&63)<<6|Be&63,Xe>2047&&(Xe<55296||Xe>57343)&&(ne=Xe));break;case 4:Pe=H[se+1],Be=H[se+2],Ze=H[se+3],(Pe&192)===128&&(Be&192)===128&&(Ze&192)===128&&(Xe=(K&15)<<18|(Pe&63)<<12|(Be&63)<<6|Ze&63,Xe>65535&&Xe<1114112&&(ne=Xe))}}ne===null?(ne=65533,Me=1):ne>65535&&(ne-=65536,j.push(ne>>>10&1023|55296),ne=56320|ne&1023),j.push(ne),se+=Me}return z(j)}const L=4096;function z(H){const R=H.length;if(R<=L)return String.fromCharCode.apply(String,H);let I="",j=0;for(;j<R;)I+=String.fromCharCode.apply(String,H.slice(j,j+=L));return I}function q(H,R,I){let j="";I=Math.min(H.length,I);for(let se=R;se<I;++se)j+=String.fromCharCode(H[se]&127);return j}function F(H,R,I){let j="";I=Math.min(H.length,I);for(let se=R;se<I;++se)j+=String.fromCharCode(H[se]);return j}function X(H,R,I){const j=H.length;(!R||R<0)&&(R=0),(!I||I<0||I>j)&&(I=j);let se="";for(let K=R;K<I;++K)se+=xe[H[K]];return se}function $(H,R,I){const j=H.slice(R,I);let se="";for(let K=0;K<j.length-1;K+=2)se+=String.fromCharCode(j[K]+j[K+1]*256);return se}a.prototype.slice=function(R,I){const j=this.length;R=~~R,I=I===void 0?j:~~I,R<0?(R+=j,R<0&&(R=0)):R>j&&(R=j),I<0?(I+=j,I<0&&(I=0)):I>j&&(I=j),I<R&&(I=R);const se=this.subarray(R,I);return Object.setPrototypeOf(se,a.prototype),se};function P(H,R,I){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+R>I)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(R,I,j){R=R>>>0,I=I>>>0,j||P(R,I,this.length);let se=this[R],K=1,ne=0;for(;++ne<I&&(K*=256);)se+=this[R+ne]*K;return se},a.prototype.readUintBE=a.prototype.readUIntBE=function(R,I,j){R=R>>>0,I=I>>>0,j||P(R,I,this.length);let se=this[R+--I],K=1;for(;I>0&&(K*=256);)se+=this[R+--I]*K;return se},a.prototype.readUint8=a.prototype.readUInt8=function(R,I){return R=R>>>0,I||P(R,1,this.length),this[R]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(R,I){return R=R>>>0,I||P(R,2,this.length),this[R]|this[R+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(R,I){return R=R>>>0,I||P(R,2,this.length),this[R]<<8|this[R+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(R,I){return R=R>>>0,I||P(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(R,I){return R=R>>>0,I||P(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},a.prototype.readBigUInt64LE=Oe(function(R){R=R>>>0,ye(R,"offset");const I=this[R],j=this[R+7];(I===void 0||j===void 0)&&ve(R,this.length-8);const se=I+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24,K=this[++R]+this[++R]*2**8+this[++R]*2**16+j*2**24;return BigInt(se)+(BigInt(K)<<BigInt(32))}),a.prototype.readBigUInt64BE=Oe(function(R){R=R>>>0,ye(R,"offset");const I=this[R],j=this[R+7];(I===void 0||j===void 0)&&ve(R,this.length-8);const se=I*2**24+this[++R]*2**16+this[++R]*2**8+this[++R],K=this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+j;return(BigInt(se)<<BigInt(32))+BigInt(K)}),a.prototype.readIntLE=function(R,I,j){R=R>>>0,I=I>>>0,j||P(R,I,this.length);let se=this[R],K=1,ne=0;for(;++ne<I&&(K*=256);)se+=this[R+ne]*K;return K*=128,se>=K&&(se-=Math.pow(2,8*I)),se},a.prototype.readIntBE=function(R,I,j){R=R>>>0,I=I>>>0,j||P(R,I,this.length);let se=I,K=1,ne=this[R+--se];for(;se>0&&(K*=256);)ne+=this[R+--se]*K;return K*=128,ne>=K&&(ne-=Math.pow(2,8*I)),ne},a.prototype.readInt8=function(R,I){return R=R>>>0,I||P(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},a.prototype.readInt16LE=function(R,I){R=R>>>0,I||P(R,2,this.length);const j=this[R]|this[R+1]<<8;return j&32768?j|4294901760:j},a.prototype.readInt16BE=function(R,I){R=R>>>0,I||P(R,2,this.length);const j=this[R+1]|this[R]<<8;return j&32768?j|4294901760:j},a.prototype.readInt32LE=function(R,I){return R=R>>>0,I||P(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},a.prototype.readInt32BE=function(R,I){return R=R>>>0,I||P(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},a.prototype.readBigInt64LE=Oe(function(R){R=R>>>0,ye(R,"offset");const I=this[R],j=this[R+7];(I===void 0||j===void 0)&&ve(R,this.length-8);const se=this[R+4]+this[R+5]*2**8+this[R+6]*2**16+(j<<24);return(BigInt(se)<<BigInt(32))+BigInt(I+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24)}),a.prototype.readBigInt64BE=Oe(function(R){R=R>>>0,ye(R,"offset");const I=this[R],j=this[R+7];(I===void 0||j===void 0)&&ve(R,this.length-8);const se=(I<<24)+this[++R]*2**16+this[++R]*2**8+this[++R];return(BigInt(se)<<BigInt(32))+BigInt(this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+j)}),a.prototype.readFloatLE=function(R,I){return R=R>>>0,I||P(R,4,this.length),t.read(this,R,!0,23,4)},a.prototype.readFloatBE=function(R,I){return R=R>>>0,I||P(R,4,this.length),t.read(this,R,!1,23,4)},a.prototype.readDoubleLE=function(R,I){return R=R>>>0,I||P(R,8,this.length),t.read(this,R,!0,52,8)},a.prototype.readDoubleBE=function(R,I){return R=R>>>0,I||P(R,8,this.length),t.read(this,R,!1,52,8)};function M(H,R,I,j,se,K){if(!a.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>se||R<K)throw new RangeError('"value" argument is out of bounds');if(I+j>H.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(R,I,j,se){if(R=+R,I=I>>>0,j=j>>>0,!se){const Me=Math.pow(2,8*j)-1;M(this,R,I,j,Me,0)}let K=1,ne=0;for(this[I]=R&255;++ne<j&&(K*=256);)this[I+ne]=R/K&255;return I+j},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(R,I,j,se){if(R=+R,I=I>>>0,j=j>>>0,!se){const Me=Math.pow(2,8*j)-1;M(this,R,I,j,Me,0)}let K=j-1,ne=1;for(this[I+K]=R&255;--K>=0&&(ne*=256);)this[I+K]=R/ne&255;return I+j},a.prototype.writeUint8=a.prototype.writeUInt8=function(R,I,j){return R=+R,I=I>>>0,j||M(this,R,I,1,255,0),this[I]=R&255,I+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(R,I,j){return R=+R,I=I>>>0,j||M(this,R,I,2,65535,0),this[I]=R&255,this[I+1]=R>>>8,I+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(R,I,j){return R=+R,I=I>>>0,j||M(this,R,I,2,65535,0),this[I]=R>>>8,this[I+1]=R&255,I+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(R,I,j){return R=+R,I=I>>>0,j||M(this,R,I,4,4294967295,0),this[I+3]=R>>>24,this[I+2]=R>>>16,this[I+1]=R>>>8,this[I]=R&255,I+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(R,I,j){return R=+R,I=I>>>0,j||M(this,R,I,4,4294967295,0),this[I]=R>>>24,this[I+1]=R>>>16,this[I+2]=R>>>8,this[I+3]=R&255,I+4};function W(H,R,I,j,se){ce(R,j,se,H,I,7);let K=Number(R&BigInt(4294967295));H[I++]=K,K=K>>8,H[I++]=K,K=K>>8,H[I++]=K,K=K>>8,H[I++]=K;let ne=Number(R>>BigInt(32)&BigInt(4294967295));return H[I++]=ne,ne=ne>>8,H[I++]=ne,ne=ne>>8,H[I++]=ne,ne=ne>>8,H[I++]=ne,I}function Z(H,R,I,j,se){ce(R,j,se,H,I,7);let K=Number(R&BigInt(4294967295));H[I+7]=K,K=K>>8,H[I+6]=K,K=K>>8,H[I+5]=K,K=K>>8,H[I+4]=K;let ne=Number(R>>BigInt(32)&BigInt(4294967295));return H[I+3]=ne,ne=ne>>8,H[I+2]=ne,ne=ne>>8,H[I+1]=ne,ne=ne>>8,H[I]=ne,I+8}a.prototype.writeBigUInt64LE=Oe(function(R,I=0){return W(this,R,I,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Oe(function(R,I=0){return Z(this,R,I,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(R,I,j,se){if(R=+R,I=I>>>0,!se){const Pe=Math.pow(2,8*j-1);M(this,R,I,j,Pe-1,-Pe)}let K=0,ne=1,Me=0;for(this[I]=R&255;++K<j&&(ne*=256);)R<0&&Me===0&&this[I+K-1]!==0&&(Me=1),this[I+K]=(R/ne>>0)-Me&255;return I+j},a.prototype.writeIntBE=function(R,I,j,se){if(R=+R,I=I>>>0,!se){const Pe=Math.pow(2,8*j-1);M(this,R,I,j,Pe-1,-Pe)}let K=j-1,ne=1,Me=0;for(this[I+K]=R&255;--K>=0&&(ne*=256);)R<0&&Me===0&&this[I+K+1]!==0&&(Me=1),this[I+K]=(R/ne>>0)-Me&255;return I+j},a.prototype.writeInt8=function(R,I,j){return R=+R,I=I>>>0,j||M(this,R,I,1,127,-128),R<0&&(R=255+R+1),this[I]=R&255,I+1},a.prototype.writeInt16LE=function(R,I,j){return R=+R,I=I>>>0,j||M(this,R,I,2,32767,-32768),this[I]=R&255,this[I+1]=R>>>8,I+2},a.prototype.writeInt16BE=function(R,I,j){return R=+R,I=I>>>0,j||M(this,R,I,2,32767,-32768),this[I]=R>>>8,this[I+1]=R&255,I+2},a.prototype.writeInt32LE=function(R,I,j){return R=+R,I=I>>>0,j||M(this,R,I,4,2147483647,-2147483648),this[I]=R&255,this[I+1]=R>>>8,this[I+2]=R>>>16,this[I+3]=R>>>24,I+4},a.prototype.writeInt32BE=function(R,I,j){return R=+R,I=I>>>0,j||M(this,R,I,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[I]=R>>>24,this[I+1]=R>>>16,this[I+2]=R>>>8,this[I+3]=R&255,I+4},a.prototype.writeBigInt64LE=Oe(function(R,I=0){return W(this,R,I,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Oe(function(R,I=0){return Z(this,R,I,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function N(H,R,I,j,se,K){if(I+j>H.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("Index out of range")}function J(H,R,I,j,se){return R=+R,I=I>>>0,se||N(H,R,I,4),t.write(H,R,I,j,23,4),I+4}a.prototype.writeFloatLE=function(R,I,j){return J(this,R,I,!0,j)},a.prototype.writeFloatBE=function(R,I,j){return J(this,R,I,!1,j)};function ue(H,R,I,j,se){return R=+R,I=I>>>0,se||N(H,R,I,8),t.write(H,R,I,j,52,8),I+8}a.prototype.writeDoubleLE=function(R,I,j){return ue(this,R,I,!0,j)},a.prototype.writeDoubleBE=function(R,I,j){return ue(this,R,I,!1,j)},a.prototype.copy=function(R,I,j,se){if(!a.isBuffer(R))throw new TypeError("argument should be a Buffer");if(j||(j=0),!se&&se!==0&&(se=this.length),I>=R.length&&(I=R.length),I||(I=0),se>0&&se<j&&(se=j),se===j||R.length===0||this.length===0)return 0;if(I<0)throw new RangeError("targetStart out of bounds");if(j<0||j>=this.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("sourceEnd out of bounds");se>this.length&&(se=this.length),R.length-I<se-j&&(se=R.length-I+j);const K=se-j;return this===R&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(I,j,se):Uint8Array.prototype.set.call(R,this.subarray(j,se),I),K},a.prototype.fill=function(R,I,j,se){if(typeof R=="string"){if(typeof I=="string"?(se=I,I=0,j=this.length):typeof j=="string"&&(se=j,j=this.length),se!==void 0&&typeof se!="string")throw new TypeError("encoding must be a string");if(typeof se=="string"&&!a.isEncoding(se))throw new TypeError("Unknown encoding: "+se);if(R.length===1){const ne=R.charCodeAt(0);(se==="utf8"&&ne<128||se==="latin1")&&(R=ne)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if(I<0||this.length<I||this.length<j)throw new RangeError("Out of range index");if(j<=I)return this;I=I>>>0,j=j===void 0?this.length:j>>>0,R||(R=0);let K;if(typeof R=="number")for(K=I;K<j;++K)this[K]=R;else{const ne=a.isBuffer(R)?R:a.from(R,se),Me=ne.length;if(Me===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(K=0;K<j-I;++K)this[K+I]=ne[K%Me]}return this};const ae={};function me(H,R,I){ae[H]=class extends I{constructor(){super(),Object.defineProperty(this,"message",{value:R.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${H}]`,this.stack,delete this.name}get code(){return H}set code(se){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:se,writable:!0})}toString(){return`${this.name} [${H}]: ${this.message}`}}}me("ERR_BUFFER_OUT_OF_BOUNDS",function(H){return H?`${H} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),me("ERR_INVALID_ARG_TYPE",function(H,R){return`The "${H}" argument must be of type number. Received type ${typeof R}`},TypeError),me("ERR_OUT_OF_RANGE",function(H,R,I){let j=`The value of "${H}" is out of range.`,se=I;return Number.isInteger(I)&&Math.abs(I)>2**32?se=we(String(I)):typeof I=="bigint"&&(se=String(I),(I>BigInt(2)**BigInt(32)||I<-(BigInt(2)**BigInt(32)))&&(se=we(se)),se+="n"),j+=` It must be ${R}. Received ${se}`,j},RangeError);function we(H){let R="",I=H.length;const j=H[0]==="-"?1:0;for(;I>=j+4;I-=3)R=`_${H.slice(I-3,I)}${R}`;return`${H.slice(0,I)}${R}`}function Ce(H,R,I){ye(R,"offset"),(H[R]===void 0||H[R+I]===void 0)&&ve(R,H.length-(I+1))}function ce(H,R,I,j,se,K){if(H>I||H<R){const ne=typeof R=="bigint"?"n":"";let Me;throw K>3?R===0||R===BigInt(0)?Me=`>= 0${ne} and < 2${ne} ** ${(K+1)*8}${ne}`:Me=`>= -(2${ne} ** ${(K+1)*8-1}${ne}) and < 2 ** ${(K+1)*8-1}${ne}`:Me=`>= ${R}${ne} and <= ${I}${ne}`,new ae.ERR_OUT_OF_RANGE("value",Me,H)}Ce(j,se,K)}function ye(H,R){if(typeof H!="number")throw new ae.ERR_INVALID_ARG_TYPE(R,"number",H)}function ve(H,R,I){throw Math.floor(H)!==H?(ye(H,I),new ae.ERR_OUT_OF_RANGE(I||"offset","an integer",H)):R<0?new ae.ERR_BUFFER_OUT_OF_BOUNDS:new ae.ERR_OUT_OF_RANGE(I||"offset",`>= ${I?1:0} and <= ${R}`,H)}const De=/[^+/0-9A-Za-z-_]/g;function We(H){if(H=H.split("=")[0],H=H.trim().replace(De,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function $e(H,R){R=R||1/0;let I;const j=H.length;let se=null;const K=[];for(let ne=0;ne<j;++ne){if(I=H.charCodeAt(ne),I>55295&&I<57344){if(!se){if(I>56319){(R-=3)>-1&&K.push(239,191,189);continue}else if(ne+1===j){(R-=3)>-1&&K.push(239,191,189);continue}se=I;continue}if(I<56320){(R-=3)>-1&&K.push(239,191,189),se=I;continue}I=(se-55296<<10|I-56320)+65536}else se&&(R-=3)>-1&&K.push(239,191,189);if(se=null,I<128){if((R-=1)<0)break;K.push(I)}else if(I<2048){if((R-=2)<0)break;K.push(I>>6|192,I&63|128)}else if(I<65536){if((R-=3)<0)break;K.push(I>>12|224,I>>6&63|128,I&63|128)}else if(I<1114112){if((R-=4)<0)break;K.push(I>>18|240,I>>12&63|128,I>>6&63|128,I&63|128)}else throw new Error("Invalid code point")}return K}function je(H){const R=[];for(let I=0;I<H.length;++I)R.push(H.charCodeAt(I)&255);return R}function tt(H,R){let I,j,se;const K=[];for(let ne=0;ne<H.length&&!((R-=2)<0);++ne)I=H.charCodeAt(ne),j=I>>8,se=I%256,K.push(se),K.push(j);return K}function lt(H){return e.toByteArray(We(H))}function at(H,R,I,j){let se;for(se=0;se<j&&!(se+I>=R.length||se>=H.length);++se)R[se+I]=H[se];return se}function re(H,R){return H instanceof R||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===R.name}function Q(H){return H!==H}const xe=function(){const H="0123456789abcdef",R=new Array(256);for(let I=0;I<16;++I){const j=I*16;for(let se=0;se<16;++se)R[j+se]=H[I]+H[se]}return R}();function Oe(H){return typeof BigInt>"u"?Ne:H}function Ne(){throw new Error("BigInt not supported")}})($N);let Fw;const Oa={ethereumClient:void 0,setEthereumClient(n){Fw=n},client(){if(Fw)return Fw;throw new Error("ClientCtrl has no client set")}},zn=vc({address:void 0,profileName:void 0,profileAvatar:void 0,profileLoading:!1,balanceLoading:!1,balance:void 0,isConnected:!1}),pie={state:zn,subscribe(n){return Qu(zn,()=>n(zn))},getAccount(){const n=Oa.client().getAccount();zn.address=n.address,zn.isConnected=n.isConnected},async fetchProfile(n,e){try{zn.profileLoading=!0;const t=e??zn.address,{id:r}=Oa.client().getDefaultChain();if(t&&r===1){const[i,s]=await Promise.all([Oa.client().fetchEnsName({address:t,chainId:1}),Oa.client().fetchEnsAvatar({address:t,chainId:1})]);s&&await n(s),zn.profileName=i,zn.profileAvatar=s}}finally{zn.profileLoading=!1}},async fetchBalance(n){try{zn.balanceLoading=!0;const e=n??zn.address;if(e){const t=await Oa.client().fetchBalance({address:e});zn.balance={amount:t.formatted,symbol:t.symbol}}}finally{zn.balanceLoading=!1}},setAddress(n){zn.address=n},setIsConnected(n){zn.isConnected=n},resetBalance(){zn.balance=void 0},resetAccount(){zn.address=void 0,zn.isConnected=!1,zn.profileName=void 0,zn.profileAvatar=void 0,zn.balance=void 0}},_l={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",W3M_VERSION:"W3M_VERSION",isMobile(){return typeof window<"u"?!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return _l.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isEmptyObject(n){return Object.getPrototypeOf(n)===Object.prototype&&Object.getOwnPropertyNames(n).length===0&&Object.getOwnPropertySymbols(n).length===0},isHttpUrl(n){return n.startsWith("http://")||n.startsWith("https://")},formatNativeUrl(n,e,t){if(_l.isHttpUrl(n))return this.formatUniversalUrl(n,e,t);let r=n;r.includes("://")||(r=n.replaceAll("/","").replaceAll(":",""),r=`${r}://`),this.setWalletConnectDeepLink(r,t);const i=encodeURIComponent(e);return`${r}wc?uri=${i}`},formatUniversalUrl(n,e,t){if(!_l.isHttpUrl(n))return this.formatNativeUrl(n,e,t);let r=n;n.endsWith("/")&&(r=n.slice(0,-1)),this.setWalletConnectDeepLink(r,t);const i=encodeURIComponent(e);return`${r}/wc?uri=${i}`},async wait(n){return new Promise(e=>{setTimeout(e,n)})},openHref(n,e){window.open(n,e,"noreferrer noopener")},setWalletConnectDeepLink(n,e){localStorage.setItem(_l.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:n,name:e}))},setWalletConnectAndroidDeepLink(n){const[e]=n.split("?");localStorage.setItem(_l.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:"Android"}))},removeWalletConnectDeepLink(){localStorage.removeItem(_l.WALLETCONNECT_DEEPLINK_CHOICE)},isNull(n){return n===null},setWeb3ModalVersionInStorage(){typeof localStorage<"u"&&localStorage.setItem(_l.W3M_VERSION,"2.2.2")}},di=vc({selectedChain:void 0,chains:void 0,standaloneChains:void 0,standaloneUri:void 0,isStandalone:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1,walletConnectVersion:1}),gi={state:di,subscribe(n){return Qu(di,()=>n(di))},setChains(n){di.chains=n},setStandaloneChains(n){di.standaloneChains=n},setStandaloneUri(n){di.standaloneUri=n},getSelectedChain(){const n=Oa.client().getNetwork().chain;return n&&(di.selectedChain=n),di.selectedChain},setSelectedChain(n){di.selectedChain=n},setIsStandalone(n){di.isStandalone=n},setIsCustomDesktop(n){di.isCustomDesktop=n},setIsCustomMobile(n){di.isCustomMobile=n},setIsDataLoaded(n){di.isDataLoaded=n},setIsUiLoaded(n){di.isUiLoaded=n},setWalletConnectVersion(n){di.walletConnectVersion=n}},Gx=vc({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chainImages:void 0,tokenImages:void 0,standaloneChains:void 0,enableStandaloneMode:!1,enableNetworkView:!1,enableAccountView:!0,enableExplorer:!0,defaultChain:void 0,explorerAllowList:void 0,explorerDenyList:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),yA={state:Gx,subscribe(n){return Qu(Gx,()=>n(Gx))},setConfig(n){var e,t,r,i;if(gi.setStandaloneChains(n.standaloneChains),gi.setIsStandalone(!!((e=n.standaloneChains)!=null&&e.length)||!!n.enableStandaloneMode),gi.setIsCustomMobile(!!((t=n.mobileWallets)!=null&&t.length)),gi.setIsCustomDesktop(!!((r=n.desktopWallets)!=null&&r.length)),gi.setWalletConnectVersion((i=n.walletConnectVersion)!=null?i:1),!gi.state.isStandalone){const s=Oa.client().getDefaultChain();gi.setSelectedChain(s),gi.setChains(Oa.client().chains)}n.defaultChain&&gi.setSelectedChain(n.defaultChain),_l.setWeb3ModalVersionInStorage(),Object.assign(Gx,n)}},UP="https://explorer-api.walletconnect.com";function mie(n){const e=Object.fromEntries(Object.entries(n).filter(([t,r])=>typeof r<"u"&&r!==null&&r!=="").map(([t,r])=>[t,r.toString()]));return new URLSearchParams(e).toString()}const jx={async fetchWallets(n,e){const t=mie(e),r=`${UP}/v3/wallets?projectId=${n}&${t}`;return(await fetch(r)).json()},formatImageUrl(n,e){return`${UP}/v3/logo/lg/${e}?projectId=${n}`}},zc=vc({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},previewWallets:[],recomendedWallets:[]});function qx(){const{projectId:n}=yA.state;if(!n)throw new Error("projectId is required to work with explorer api");return n}const ese={state:zc,async getPreviewWallets(n){const{listings:e}=await jx.fetchWallets(qx(),n);return zc.previewWallets=Object.values(e),zc.previewWallets},async getRecomendedWallets(){const{listings:n}=await jx.fetchWallets(qx(),{page:1,entries:6});zc.recomendedWallets=Object.values(n)},async getPaginatedWallets(n){const{page:e,search:t}=n,{listings:r,total:i}=await jx.fetchWallets(qx(),n),s=Object.values(r),o=t?"search":"wallets";return zc[o]={listings:[...zc[o].listings,...s],total:i,page:e??1},{listings:s,total:i}},getImageUrl(n){return jx.formatImageUrl(qx(),n)},resetSearch(){zc.search={listings:[],total:0,page:1}}},ts=vc({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),h0={state:ts,subscribe(n){return Qu(ts,()=>n(ts))},push(n,e){n!==ts.view&&(ts.view=n,e&&(ts.data=e),ts.history.push(n))},replace(n){ts.view=n,ts.history=[n]},goBack(){if(ts.history.length>1){ts.history.pop();const[n]=ts.history.slice(-1);ts.view=n}}},Bf=vc({open:!1}),tse={state:Bf,subscribe(n){return Qu(Bf,()=>n(Bf))},async open(n){return new Promise(e=>{const{isStandalone:t,isUiLoaded:r,isDataLoaded:i}=gi.state,{isConnected:s}=pie.state,{enableNetworkView:o}=yA.state;if(t?(gi.setStandaloneUri(n==null?void 0:n.uri),gi.setStandaloneChains(n==null?void 0:n.standaloneChains),h0.replace("ConnectWallet")):n!=null&&n.route?h0.replace(n.route):s?h0.replace("Account"):o?h0.replace("SelectNetwork"):h0.replace("ConnectWallet"),r&&i)Bf.open=!0,e();else{const a=setInterval(()=>{gi.state.isUiLoaded&&gi.state.isDataLoaded&&(clearInterval(a),Bf.open=!0,e())},200)}})},close(){Bf.open=!1}};var gie=Object.defineProperty,VP=Object.getOwnPropertySymbols,xie=Object.prototype.hasOwnProperty,yie=Object.prototype.propertyIsEnumerable,HP=(n,e,t)=>e in n?gie(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,vie=(n,e)=>{for(var t in e||(e={}))xie.call(e,t)&&HP(n,t,e[t]);if(VP)for(var t of VP(e))yie.call(e,t)&&HP(n,t,e[t]);return n};function _ie(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}const d0=vc({themeMode:_ie()?"dark":"light"}),bie={state:d0,subscribe(n){return Qu(d0,()=>n(d0))},setThemeConfig(n){const{themeMode:e,themeVariables:t}=n;e&&(d0.themeMode=e),t&&(d0.themeVariables=vie({},t))}},Uc=vc({open:!1,message:"",variant:"success"}),nse={state:Uc,subscribe(n){return Qu(Uc,()=>n(Uc))},openToast(n,e){Uc.open=!0,Uc.message=n,Uc.variant=e},closeToast(){Uc.open=!1}};typeof window<"u"&&(window.Buffer||(window.Buffer=$N.Buffer),window.global||(window.global=window),window.process||(window.process={env:{}}));var wie=Object.defineProperty,WP=Object.getOwnPropertySymbols,Sie=Object.prototype.hasOwnProperty,Mie=Object.prototype.propertyIsEnumerable,GP=(n,e,t)=>e in n?wie(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Eie=(n,e)=>{for(var t in e||(e={}))Sie.call(e,t)&&GP(n,t,e[t]);if(WP)for(var t of WP(e))Mie.call(e,t)&&GP(n,t,e[t]);return n};function Aie(n){return ra.createElement("w3m-core-button",Eie({},n))}var Cie=Object.defineProperty,jP=Object.getOwnPropertySymbols,Tie=Object.prototype.hasOwnProperty,Pie=Object.prototype.propertyIsEnumerable,qP=(n,e,t)=>e in n?Cie(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Rie=(n,e)=>{for(var t in e||(e={}))Tie.call(e,t)&&qP(n,t,e[t]);if(jP)for(var t of jP(e))Pie.call(e,t)&&qP(n,t,e[t]);return n};function Iie(n){return ra.createElement("w3m-modal",Rie({},n))}var kie=Object.defineProperty,Lie=Object.defineProperties,Nie=Object.getOwnPropertyDescriptors,Dy=Object.getOwnPropertySymbols,JN=Object.prototype.hasOwnProperty,QN=Object.prototype.propertyIsEnumerable,XP=(n,e,t)=>e in n?kie(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Die=(n,e)=>{for(var t in e||(e={}))JN.call(e,t)&&XP(n,t,e[t]);if(Dy)for(var t of Dy(e))QN.call(e,t)&&XP(n,t,e[t]);return n},Oie=(n,e)=>Lie(n,Nie(e)),Bie=(n,e)=>{var t={};for(var r in n)JN.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Dy)for(var r of Dy(n))e.indexOf(r)<0&&QN.call(n,r)&&(t[r]=n[r]);return t};function Fie(n){var e=n,{ethereumClient:t}=e,r=Bie(e,["ethereumClient"]);const i=_e.useCallback(async()=>{bie.setThemeConfig(r),t&&Oa.setEthereumClient(t),yA.setConfig(Oie(Die({},r),{walletConnectVersion:t==null?void 0:t.walletConnectVersion})),await fA(()=>import("./index-d38a8f6b.js"),["assets/index-d38a8f6b.js","assets/browser-a1ac24ac.js"]),gi.setIsUiLoaded(!0)},[t,r]);return _e.useEffect(()=>{i()},[i]),ra.createElement(Iie,null)}const zie=_e.memo(Fie);var Uie=Object.defineProperty,KP=Object.getOwnPropertySymbols,Vie=Object.prototype.hasOwnProperty,Hie=Object.prototype.propertyIsEnumerable,$P=(n,e,t)=>e in n?Uie(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Wie=(n,e)=>{for(var t in e||(e={}))Vie.call(e,t)&&$P(n,t,e[t]);if(KP)for(var t of KP(e))Hie.call(e,t)&&$P(n,t,e[t]);return n};function Gie(n){return ra.createElement("w3m-network-switch",Wie({},n))}function YP({wagmiClient:n,projectId:e,ethereumClient:t}){return Un(BS,{children:[Un(Gre,{client:n,children:[qe(Aie,{style:{marginRight:"15px"}}),qe("br",{}),qe(Gie,{}),qe("br",{})]}),qe(zie,{projectId:e,ethereumClient:t}),qe("br",{})]})}function jie(){const n=_e.useRef();_e.useState(200);function e({children:t,orbitRef:r}){const i=Ck();return qe("group",{onClick:s=>{s.stopPropagation(),s.delta<=2},onPointerOver:s=>{document.body.style.cursor="pointer"},onPointerOut:s=>{document.body.style.cursor="default"},onPointerMissed:s=>{s.button===0&&i.refresh().fit()},children:ra.Children.map(t,s=>ra.cloneElement(s,{orbitRef:r}))})}return Un(BS,{children:[qe("hemisphereLight",{color:"white",groundColor:"#ff0f00",position:[-7,25,13],intensity:1}),qe(Ak,{fit:!0,clip:!0,observe:!0,margin:1.2,children:qe(e,{orbitRef:n,children:qe(X3,{type:"planet",position:[0,0,0],orbitRef:n,glowColor:"white"},"planet")})}),qe("ambientLight",{}),qe("pointLight",{position:[10,10,10]}),qe(Mk,{ref:n,makeDefault:!0,autoRotate:!0,autoRotateSpeed:.15,minPolarAngle:0,maxPolarAngle:Math.PI/2,enablePan:!1,enableDamping:!0})]})}const qie=({ethereumClient:n,wagmiClient:e,projectId:t})=>qe("div",{className:"min-h-screen flex flex-col items-center justify-center",children:Un("main",{className:"flex-grow",children:[Un("section",{className:"container mx-auto py-12  mb-6",children:[qe("br",{}),qe("h2",{className:"text-3xl font-bold mb-6",children:"Welcome to Planetarium"}),qe(rw,{style:{height:"80vh"},orthographic:!0,camera:{zoom:50,position:[0,0,100]},children:qe(iT,{})}),qe("br",{})]}),Un("section",{className:"container mx-auto py-12",children:[qe("h2",{className:"text-3xl font-bold mb-6",children:"Mint Your Own NFT"}),qe("br",{}),qe("p",{className:"text-lg mb-6",children:"Minting your own NFT is an exciting and easy process. Choose to mint either a Universe or a Planet, each with its own unique properties and characteristics. Universes are priced at 0.1 ETH, while Planets are priced at 0.05 ETH. Once you've minted your NFT, it will be added to your collection, and you can proudly display it to the world."}),Un("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Un("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{width:"50%",float:"left"},children:[qe("h3",{className:"text-2xl font-bold mb-4",children:"Universe"})," ",qe("br",{}),qe("p",{className:"text-lg mb-4",children:"Mint a unique Universe, which will serve as the foundation for your Planets. Each Universe has its own distinct features and characteristics, making them truly one-of-a-kind."}),qe("br",{}),qe(rw,{style:{height:"450px"},className:"w-full h-80",orthographic:!0,camera:{zoom:50,position:[0,0,100]},children:qe(iT,{})})]}),Un("div",{className:"bg-white p-6 rounded-lg shadow-md",style:{width:"50%",float:"right"},children:[qe("h3",{className:"text-2xl font-bold mb-4",children:"Planet"})," ",qe("br",{}),qe("p",{className:"text-lg mb-4",children:"Mint a unique Planet within a Universe. Planets have their own distinct features and characteristics, adding diversity and depth to the Universe they inhabit. "}),qe("br",{}),qe(rw,{style:{height:"450px"},className:"w-full h-80",orthographic:!0,camera:{zoom:50,position:[0,0,100]},children:qe(jie,{})})]})]})]}),qe("section",{className:"bg-gray-100 py-12",children:Un("div",{className:"container mx-auto",children:[qe("h2",{className:"text-3xl font-bold mb-6",children:"How it works"}),qe("br",{}),qe("p",{className:"text-lg mb-6",children:"Discover the vast universe of 3D planets and mint your own unique planet on your favorite EVM-compatible blockchain. Participate in the governance of the project and shape the future of our digital galaxy."}),qe("p",{className:"text-lg",children:"Join the Planetarium community, explore new worlds, and become a part of the revolution in digital collectibles."}),Un("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[Un("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[qe("h3",{className:"text-2xl font-bold mb-4",children:"Mint"}),qe("p",{className:"text-lg",children:"Choose from a variety of EVM-compatible blockchains and mint your unique 3D planet as an NFT."})]}),Un("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[qe("h3",{className:"text-2xl font-bold mb-4",children:"Trade"}),qe("p",{className:"text-lg",children:"Buy, sell, or trade your 3D planet NFTs on our platform or any other compatible marketplace."})]}),Un("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[qe("h3",{className:"text-2xl font-bold mb-4",children:"Govern"}),qe("p",{className:"text-lg",children:"Hold our governance token and participate in the decision-making process to shape the future of Planetarium."})]})]})]})}),Un("section",{className:"container mx-auto py-12",children:[qe("h2",{className:"text-3xl font-bold mb-6",children:"Explore the Universe"}),qe("p",{className:"text-lg mb-6",children:"Dive into our immersive 3D universe and witness the stunning visuals of unique planets created by users like you. Travel through the digital cosmos and interact with other explorers in this ever-expanding universe."}),qe("p",{className:"text-lg",children:"Mint your collectibles now and begin your journey to uncover the hidden treasures of our virtual metaverse."})]})]})}),J0="ae06a449373e26f69b4b28517bc4c896",vA=[G$,j$,X$,K$,Y$,z9,J$,Q$,q$],{provider:Xie}=are(vA,[Zre({projectId:J0})]),T1=Vre({autoConnect:!0,connectors:eie({version:1,chains:vA,projectId:J0}),provider:Xie}),zw=new Jre(T1,vA);function Kie(){const[n,e]=_e.useState(!1);return _e.useEffect(()=>{window.addEventListener("resize",()=>window.innerWidth>=768&&e(!1))},[]),Un(W$,{children:[Un("nav",{className:"bg-white border-b border-gray-200 px-4 py-2.5 flex items-center justify-between",children:[Un("div",{className:"flex items-center mr-8",children:[qe("img",{className:"h-3 mr-2 logo-img-svg",src:"icon.svg",alt:"PLANETARIUM Logo"}),qe("span",{className:"text-base font-semibold",children:"PLANETARIUM"})]}),qe("div",{className:"hidden md:flex md:space-x-4 right-aligned items-center",onClick:()=>e(!1),children:qe("ul",{className:"flex space-x-4 text-sm hide-on-mobile",style:{alignItems:"center"},children:qe("li",{style:{width:"100%",display:"flex",alignItems:"center"},children:qe(YP,{ethereumClient:zw,wagmiClient:T1,projectId:J0})})})}),Un("div",{className:"burger-menu",onClick:()=>e(!n),children:[qe("div",{className:"burger-menu-line"}),qe("div",{className:"burger-menu-line"}),qe("div",{className:"burger-menu-line"})]}),qe("div",{className:`mobile-menu${n?" open":""}`,onClick:()=>e(!1),children:qe("ul",{className:"text-sm",children:qe("li",{children:qe(YP,{ethereumClient:zw,wagmiClient:T1,projectId:J0})})})})]}),qe(H$,{children:qe(F9,{path:"/",element:qe(qie,{ethereumClient:zw,wagmiClient:T1,projectId:J0})})})]})}Vw.createRoot(document.getElementById("root")).render(qe(ra.StrictMode,{children:qe(Kie,{})}));export{pie as A,bie as B,nse as H,yA as S,fA as _,JP as a,h0 as b,yi as c,ese as d,_l as e,Xn as g,gi as i,Oa as p,T9 as r,tse as x};
